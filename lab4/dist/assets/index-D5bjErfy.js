(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function UE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var zE={exports:{}},Eh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jw=Symbol.for("react.transitional.element"),Bw=Symbol.for("react.fragment");function jE(t,e,n){var r=null;if(n!==void 0&&(r=""+n),e.key!==void 0&&(r=""+e.key),"key"in e){n={};for(var i in e)i!=="key"&&(n[i]=e[i])}else n=e;return e=n.ref,{$$typeof:jw,type:t,key:r,ref:e!==void 0?e:null,props:n}}Eh.Fragment=Bw;Eh.jsx=jE;Eh.jsxs=jE;zE.exports=Eh;var F=zE.exports,BE={exports:{}},fe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zm=Symbol.for("react.transitional.element"),Hw=Symbol.for("react.portal"),qw=Symbol.for("react.fragment"),Fw=Symbol.for("react.strict_mode"),Gw=Symbol.for("react.profiler"),Kw=Symbol.for("react.consumer"),Qw=Symbol.for("react.context"),Yw=Symbol.for("react.forward_ref"),$w=Symbol.for("react.suspense"),Xw=Symbol.for("react.memo"),HE=Symbol.for("react.lazy"),gy=Symbol.iterator;function Ww(t){return t===null||typeof t!="object"?null:(t=gy&&t[gy]||t["@@iterator"],typeof t=="function"?t:null)}var qE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},FE=Object.assign,GE={};function Gs(t,e,n){this.props=t,this.context=e,this.refs=GE,this.updater=n||qE}Gs.prototype.isReactComponent={};Gs.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gs.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function KE(){}KE.prototype=Gs.prototype;function jm(t,e,n){this.props=t,this.context=e,this.refs=GE,this.updater=n||qE}var Bm=jm.prototype=new KE;Bm.constructor=jm;FE(Bm,Gs.prototype);Bm.isPureReactComponent=!0;var py=Array.isArray,$e={H:null,A:null,T:null,S:null,V:null},QE=Object.prototype.hasOwnProperty;function Hm(t,e,n,r,i,a){return n=a.ref,{$$typeof:zm,type:t,key:e,ref:n!==void 0?n:null,props:a}}function Zw(t,e){return Hm(t.type,e,void 0,void 0,void 0,t.props)}function qm(t){return typeof t=="object"&&t!==null&&t.$$typeof===zm}function Jw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var yy=/\/+/g;function _f(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jw(""+t.key):e.toString(36)}function vy(){}function eR(t){switch(t.status){case"fulfilled":return t.value;case"rejected":throw t.reason;default:switch(typeof t.status=="string"?t.then(vy,vy):(t.status="pending",t.then(function(e){t.status==="pending"&&(t.status="fulfilled",t.value=e)},function(e){t.status==="pending"&&(t.status="rejected",t.reason=e)})),t.status){case"fulfilled":return t.value;case"rejected":throw t.reason}}throw t}function Fa(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(a){case"bigint":case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case zm:case Hw:s=!0;break;case HE:return s=t._init,Fa(s(t._payload),e,n,r,i)}}if(s)return i=i(t),s=r===""?"."+_f(t,0):r,py(i)?(n="",s!=null&&(n=s.replace(yy,"$&/")+"/"),Fa(i,e,n,"",function(c){return c})):i!=null&&(qm(i)&&(i=Zw(i,n+(i.key==null||t&&t.key===i.key?"":(""+i.key).replace(yy,"$&/")+"/")+s)),e.push(i)),1;s=0;var l=r===""?".":r+":";if(py(t))for(var u=0;u<t.length;u++)r=t[u],a=l+_f(r,u),s+=Fa(r,e,n,a,i);else if(u=Ww(t),typeof u=="function")for(t=u.call(t),u=0;!(r=t.next()).done;)r=r.value,a=l+_f(r,u++),s+=Fa(r,e,n,a,i);else if(a==="object"){if(typeof t.then=="function")return Fa(eR(t),e,n,r,i);throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.")}return s}function Au(t,e,n){if(t==null)return t;var r=[],i=0;return Fa(t,r,"","",function(a){return e.call(n,a,i++)}),r}function tR(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _y=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function nR(){}fe.Children={map:Au,forEach:function(t,e,n){Au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Au(t,function(){e++}),e},toArray:function(t){return Au(t,function(e){return e})||[]},only:function(t){if(!qm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};fe.Component=Gs;fe.Fragment=qw;fe.Profiler=Gw;fe.PureComponent=jm;fe.StrictMode=Fw;fe.Suspense=$w;fe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=$e;fe.__COMPILER_RUNTIME={__proto__:null,c:function(t){return $e.H.useMemoCache(t)}};fe.cache=function(t){return function(){return t.apply(null,arguments)}};fe.cloneElement=function(t,e,n){if(t==null)throw Error("The argument must be a React element, but you passed "+t+".");var r=FE({},t.props),i=t.key,a=void 0;if(e!=null)for(s in e.ref!==void 0&&(a=void 0),e.key!==void 0&&(i=""+e.key),e)!QE.call(e,s)||s==="key"||s==="__self"||s==="__source"||s==="ref"&&e.ref===void 0||(r[s]=e[s]);var s=arguments.length-2;if(s===1)r.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];r.children=l}return Hm(t.type,i,void 0,void 0,a,r)};fe.createContext=function(t){return t={$$typeof:Qw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null},t.Provider=t,t.Consumer={$$typeof:Kw,_context:t},t};fe.createElement=function(t,e,n){var r,i={},a=null;if(e!=null)for(r in e.key!==void 0&&(a=""+e.key),e)QE.call(e,r)&&r!=="key"&&r!=="__self"&&r!=="__source"&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return Hm(t,a,void 0,void 0,null,i)};fe.createRef=function(){return{current:null}};fe.forwardRef=function(t){return{$$typeof:Yw,render:t}};fe.isValidElement=qm;fe.lazy=function(t){return{$$typeof:HE,_payload:{_status:-1,_result:t},_init:tR}};fe.memo=function(t,e){return{$$typeof:Xw,type:t,compare:e===void 0?null:e}};fe.startTransition=function(t){var e=$e.T,n={};$e.T=n;try{var r=t(),i=$e.S;i!==null&&i(n,r),typeof r=="object"&&r!==null&&typeof r.then=="function"&&r.then(nR,_y)}catch(a){_y(a)}finally{$e.T=e}};fe.unstable_useCacheRefresh=function(){return $e.H.useCacheRefresh()};fe.use=function(t){return $e.H.use(t)};fe.useActionState=function(t,e,n){return $e.H.useActionState(t,e,n)};fe.useCallback=function(t,e){return $e.H.useCallback(t,e)};fe.useContext=function(t){return $e.H.useContext(t)};fe.useDebugValue=function(){};fe.useDeferredValue=function(t,e){return $e.H.useDeferredValue(t,e)};fe.useEffect=function(t,e,n){var r=$e.H;if(typeof n=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(t,e)};fe.useId=function(){return $e.H.useId()};fe.useImperativeHandle=function(t,e,n){return $e.H.useImperativeHandle(t,e,n)};fe.useInsertionEffect=function(t,e){return $e.H.useInsertionEffect(t,e)};fe.useLayoutEffect=function(t,e){return $e.H.useLayoutEffect(t,e)};fe.useMemo=function(t,e){return $e.H.useMemo(t,e)};fe.useOptimistic=function(t,e){return $e.H.useOptimistic(t,e)};fe.useReducer=function(t,e,n){return $e.H.useReducer(t,e,n)};fe.useRef=function(t){return $e.H.useRef(t)};fe.useState=function(t){return $e.H.useState(t)};fe.useSyncExternalStore=function(t,e,n){return $e.H.useSyncExternalStore(t,e,n)};fe.useTransition=function(){return $e.H.useTransition()};fe.version="19.1.0";BE.exports=fe;var k=BE.exports;const rR=UE(k);var YE={exports:{}},Th={},$E={exports:{}},XE={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,J){var ee=H.length;H.push(J);e:for(;0<ee;){var de=ee-1>>>1,pe=H[de];if(0<i(pe,J))H[de]=J,H[ee]=pe,ee=de;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var J=H[0],ee=H.pop();if(ee!==J){H[0]=ee;e:for(var de=0,pe=H.length,vt=pe>>>1;de<vt;){var ht=2*(de+1)-1,Ie=H[ht],bt=ht+1,qt=H[bt];if(0>i(Ie,ee))bt<pe&&0>i(qt,Ie)?(H[de]=qt,H[bt]=ee,de=bt):(H[de]=Ie,H[ht]=ee,de=ht);else if(bt<pe&&0>i(qt,ee))H[de]=qt,H[bt]=ee,de=bt;else break e}}return J}function i(H,J){var ee=H.sortIndex-J.sortIndex;return ee!==0?ee:H.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],f=1,m=null,g=3,p=!1,R=!1,N=!1,O=!1,E=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function M(H){for(var J=n(c);J!==null;){if(J.callback===null)r(c);else if(J.startTime<=H)r(c),J.sortIndex=J.expirationTime,e(u,J);else break;J=n(c)}}function z(H){if(N=!1,M(H),!R)if(n(u)!==null)R=!0,D||(D=!0,x());else{var J=n(c);J!==null&&Ge(z,J.startTime-H)}}var D=!1,S=-1,_=5,T=-1;function w(){return O?!0:!(t.unstable_now()-T<_)}function I(){if(O=!1,D){var H=t.unstable_now();T=H;var J=!0;try{e:{R=!1,N&&(N=!1,v(S),S=-1),p=!0;var ee=g;try{t:{for(M(H),m=n(u);m!==null&&!(m.expirationTime>H&&w());){var de=m.callback;if(typeof de=="function"){m.callback=null,g=m.priorityLevel;var pe=de(m.expirationTime<=H);if(H=t.unstable_now(),typeof pe=="function"){m.callback=pe,M(H),J=!0;break t}m===n(u)&&r(u),M(H)}else r(u);m=n(u)}if(m!==null)J=!0;else{var vt=n(c);vt!==null&&Ge(z,vt.startTime-H),J=!1}}break e}finally{m=null,g=ee,p=!1}J=void 0}}finally{J?x():D=!1}}}var x;if(typeof A=="function")x=function(){A(I)};else if(typeof MessageChannel<"u"){var b=new MessageChannel,Ae=b.port2;b.port1.onmessage=I,x=function(){Ae.postMessage(null)}}else x=function(){E(I,0)};function Ge(H,J){S=E(function(){H(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var ee=g;g=J;try{return H()}finally{g=ee}},t.unstable_requestPaint=function(){O=!0},t.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var ee=g;g=H;try{return J()}finally{g=ee}},t.unstable_scheduleCallback=function(H,J,ee){var de=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?de+ee:de):ee=de,H){case 1:var pe=-1;break;case 2:pe=250;break;case 5:pe=1073741823;break;case 4:pe=1e4;break;default:pe=5e3}return pe=ee+pe,H={id:f++,callback:J,priorityLevel:H,startTime:ee,expirationTime:pe,sortIndex:-1},ee>de?(H.sortIndex=ee,e(c,H),n(u)===null&&H===n(c)&&(N?(v(S),S=-1):N=!0,Ge(z,ee-de))):(H.sortIndex=pe,e(u,H),R||p||(R=!0,D||(D=!0,x()))),H},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(H){var J=g;return function(){var ee=g;g=J;try{return H.apply(this,arguments)}finally{g=ee}}}})(XE);$E.exports=XE;var iR=$E.exports,WE={exports:{}},Qt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aR=k;function ZE(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Fr(){}var Kt={d:{f:Fr,r:function(){throw Error(ZE(522))},D:Fr,C:Fr,L:Fr,m:Fr,X:Fr,S:Fr,M:Fr},p:0,findDOMNode:null},sR=Symbol.for("react.portal");function oR(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sR,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}var zo=aR.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Sh(t,e){if(t==="font")return"";if(typeof e=="string")return e==="use-credentials"?e:""}Qt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Kt;Qt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)throw Error(ZE(299));return oR(t,e,null,n)};Qt.flushSync=function(t){var e=zo.T,n=Kt.p;try{if(zo.T=null,Kt.p=2,t)return t()}finally{zo.T=e,Kt.p=n,Kt.d.f()}};Qt.preconnect=function(t,e){typeof t=="string"&&(e?(e=e.crossOrigin,e=typeof e=="string"?e==="use-credentials"?e:"":void 0):e=null,Kt.d.C(t,e))};Qt.prefetchDNS=function(t){typeof t=="string"&&Kt.d.D(t)};Qt.preinit=function(t,e){if(typeof t=="string"&&e&&typeof e.as=="string"){var n=e.as,r=Sh(n,e.crossOrigin),i=typeof e.integrity=="string"?e.integrity:void 0,a=typeof e.fetchPriority=="string"?e.fetchPriority:void 0;n==="style"?Kt.d.S(t,typeof e.precedence=="string"?e.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:a}):n==="script"&&Kt.d.X(t,{crossOrigin:r,integrity:i,fetchPriority:a,nonce:typeof e.nonce=="string"?e.nonce:void 0})}};Qt.preinitModule=function(t,e){if(typeof t=="string")if(typeof e=="object"&&e!==null){if(e.as==null||e.as==="script"){var n=Sh(e.as,e.crossOrigin);Kt.d.M(t,{crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0})}}else e==null&&Kt.d.M(t)};Qt.preload=function(t,e){if(typeof t=="string"&&typeof e=="object"&&e!==null&&typeof e.as=="string"){var n=e.as,r=Sh(n,e.crossOrigin);Kt.d.L(t,n,{crossOrigin:r,integrity:typeof e.integrity=="string"?e.integrity:void 0,nonce:typeof e.nonce=="string"?e.nonce:void 0,type:typeof e.type=="string"?e.type:void 0,fetchPriority:typeof e.fetchPriority=="string"?e.fetchPriority:void 0,referrerPolicy:typeof e.referrerPolicy=="string"?e.referrerPolicy:void 0,imageSrcSet:typeof e.imageSrcSet=="string"?e.imageSrcSet:void 0,imageSizes:typeof e.imageSizes=="string"?e.imageSizes:void 0,media:typeof e.media=="string"?e.media:void 0})}};Qt.preloadModule=function(t,e){if(typeof t=="string")if(e){var n=Sh(e.as,e.crossOrigin);Kt.d.m(t,{as:typeof e.as=="string"&&e.as!=="script"?e.as:void 0,crossOrigin:n,integrity:typeof e.integrity=="string"?e.integrity:void 0})}else Kt.d.m(t)};Qt.requestFormReset=function(t){Kt.d.r(t)};Qt.unstable_batchedUpdates=function(t,e){return t(e)};Qt.useFormState=function(t,e,n){return zo.H.useFormState(t,e,n)};Qt.useFormStatus=function(){return zo.H.useHostTransitionStatus()};Qt.version="19.1.0";function JE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JE)}catch(t){console.error(t)}}JE(),WE.exports=Qt;var e0=WE.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yt=iR,t0=k,lR=e0;function B(t){var e="https://react.dev/errors/"+t;if(1<arguments.length){e+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ol(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function r0(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ey(t){if(Ol(t)!==t)throw Error(B(188))}function uR(t){var e=t.alternate;if(!e){if(e=Ol(t),e===null)throw Error(B(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ey(i),t;if(a===r)return Ey(i),e;a=a.sibling}throw Error(B(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}if(!s)throw Error(B(189))}}if(n.alternate!==r)throw Error(B(190))}if(n.tag!==3)throw Error(B(188));return n.stateNode.current===n?t:e}function i0(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t;for(t=t.child;t!==null;){if(e=i0(t),e!==null)return e;t=t.sibling}return null}var Fe=Object.assign,cR=Symbol.for("react.element"),bu=Symbol.for("react.transitional.element"),Oo=Symbol.for("react.portal"),Ja=Symbol.for("react.fragment"),a0=Symbol.for("react.strict_mode"),pd=Symbol.for("react.profiler"),hR=Symbol.for("react.provider"),s0=Symbol.for("react.consumer"),Er=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),vd=Symbol.for("react.suspense_list"),Gm=Symbol.for("react.memo"),$r=Symbol.for("react.lazy"),_d=Symbol.for("react.activity"),fR=Symbol.for("react.memo_cache_sentinel"),Ty=Symbol.iterator;function _o(t){return t===null||typeof t!="object"?null:(t=Ty&&t[Ty]||t["@@iterator"],typeof t=="function"?t:null)}var dR=Symbol.for("react.client.reference");function Ed(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===dR?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ja:return"Fragment";case pd:return"Profiler";case a0:return"StrictMode";case yd:return"Suspense";case vd:return"SuspenseList";case _d:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case Oo:return"Portal";case Er:return(t.displayName||"Context")+".Provider";case s0:return(t._context.displayName||"Context")+".Consumer";case Fm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gm:return e=t.displayName||null,e!==null?e:Ed(t.type)||"Memo";case $r:e=t._payload,t=t._init;try{return Ed(t(e))}catch{}}return null}var No=Array.isArray,se=t0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=lR.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ji={pending:!1,data:null,method:null,action:null},Td=[],es=-1;function ar(t){return{current:t}}function At(t){0>es||(t.current=Td[es],Td[es]=null,es--)}function Xe(t,e){es++,Td[es]=t.current,t.current=e}var Yn=ar(null),sl=ar(null),ci=ar(null),Ec=ar(null);function Tc(t,e){switch(Xe(ci,e),Xe(sl,t),Xe(Yn,null),e.nodeType){case 9:case 11:t=(t=e.documentElement)&&(t=t.namespaceURI)?Rv(t):0;break;default:if(t=e.tagName,e=e.namespaceURI)e=Rv(e),t=AS(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}At(Yn),Xe(Yn,t)}function bs(){At(Yn),At(sl),At(ci)}function Sd(t){t.memoizedState!==null&&Xe(Ec,t);var e=Yn.current,n=AS(e,t.type);e!==n&&(Xe(sl,t),Xe(Yn,n))}function Sc(t){sl.current===t&&(At(Yn),At(sl)),Ec.current===t&&(At(Ec),pl._currentValue=Ji)}var Ad=Object.prototype.hasOwnProperty,Km=yt.unstable_scheduleCallback,Ef=yt.unstable_cancelCallback,mR=yt.unstable_shouldYield,gR=yt.unstable_requestPaint,$n=yt.unstable_now,pR=yt.unstable_getCurrentPriorityLevel,o0=yt.unstable_ImmediatePriority,l0=yt.unstable_UserBlockingPriority,Ac=yt.unstable_NormalPriority,yR=yt.unstable_LowPriority,u0=yt.unstable_IdlePriority,vR=yt.log,_R=yt.unstable_setDisableYieldValue,Nl=null,un=null;function ai(t){if(typeof vR=="function"&&_R(t),un&&typeof un.setStrictMode=="function")try{un.setStrictMode(Nl,t)}catch{}}var cn=Math.clz32?Math.clz32:SR,ER=Math.log,TR=Math.LN2;function SR(t){return t>>>=0,t===0?32:31-(ER(t)/TR|0)|0}var wu=256,Ru=4194304;function Gi(t){var e=t&42;if(e!==0)return e;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Ah(t,e,n){var r=t.pendingLanes;if(r===0)return 0;var i=0,a=t.suspendedLanes,s=t.pingedLanes;t=t.warmLanes;var l=r&134217727;return l!==0?(r=l&~a,r!==0?i=Gi(r):(s&=l,s!==0?i=Gi(s):n||(n=l&~t,n!==0&&(i=Gi(n))))):(l=r&~a,l!==0?i=Gi(l):s!==0?i=Gi(s):n||(n=r&~t,n!==0&&(i=Gi(n)))),i===0?0:e!==0&&e!==i&&!(e&a)&&(a=i&-i,n=e&-e,a>=n||a===32&&(n&4194048)!==0)?e:i}function Ml(t,e){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&e)===0}function AR(t,e){switch(t){case 1:case 2:case 4:case 8:case 64:return e+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function c0(){var t=wu;return wu<<=1,!(wu&4194048)&&(wu=256),t}function h0(){var t=Ru;return Ru<<=1,!(Ru&62914560)&&(Ru=4194304),t}function Tf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function xl(t,e){t.pendingLanes|=e,e!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bR(t,e,n,r,i,a){var s=t.pendingLanes;t.pendingLanes=n,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=n,t.entangledLanes&=n,t.errorRecoveryDisabledLanes&=n,t.shellSuspendCounter=0;var l=t.entanglements,u=t.expirationTimes,c=t.hiddenUpdates;for(n=s&~n;0<n;){var f=31-cn(n),m=1<<f;l[f]=0,u[f]=-1;var g=c[f];if(g!==null)for(c[f]=null,f=0;f<g.length;f++){var p=g[f];p!==null&&(p.lane&=-536870913)}n&=~m}r!==0&&f0(t,r,0),a!==0&&i===0&&t.tag!==0&&(t.suspendedLanes|=a&~(s&~e))}function f0(t,e,n){t.pendingLanes|=e,t.suspendedLanes&=~e;var r=31-cn(e);t.entangledLanes|=e,t.entanglements[r]=t.entanglements[r]|1073741824|n&4194090}function d0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cn(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}function Qm(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ym(t){return t&=-t,2<t?8<t?t&134217727?32:268435456:8:2}function m0(){var t=Oe.p;return t!==0?t:(t=window.event,t===void 0?32:xS(t.type))}function wR(t,e){var n=Oe.p;try{return Oe.p=t,e()}finally{Oe.p=n}}var Vi=Math.random().toString(36).slice(2),zt="__reactFiber$"+Vi,Zt="__reactProps$"+Vi,Ks="__reactContainer$"+Vi,bd="__reactEvents$"+Vi,RR="__reactListeners$"+Vi,CR="__reactHandles$"+Vi,Sy="__reactResources$"+Vi,Vl="__reactMarker$"+Vi;function $m(t){delete t[zt],delete t[Zt],delete t[bd],delete t[RR],delete t[CR]}function ts(t){var e=t[zt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ks]||n[zt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dv(t);t!==null;){if(n=t[zt])return n;t=Dv(t)}return e}t=n,n=t.parentNode}return null}function Qs(t){if(t=t[zt]||t[Ks]){var e=t.tag;if(e===5||e===6||e===13||e===26||e===27||e===3)return t}return null}function Mo(t){var e=t.tag;if(e===5||e===26||e===27||e===6)return t.stateNode;throw Error(B(33))}function hs(t){var e=t[Sy];return e||(e=t[Sy]={hoistableStyles:new Map,hoistableScripts:new Map}),e}function Tt(t){t[Vl]=!0}var g0=new Set,p0={};function ya(t,e){ws(t,e),ws(t+"Capture",e)}function ws(t,e){for(p0[t]=e,t=0;t<e.length;t++)g0.add(e[t])}var IR=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ay={},by={};function DR(t){return Ad.call(by,t)?!0:Ad.call(Ay,t)?!1:IR.test(t)?by[t]=!0:(Ay[t]=!0,!1)}function Yu(t,e,n){if(DR(e))if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":t.removeAttribute(e);return;case"boolean":var r=e.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){t.removeAttribute(e);return}}t.setAttribute(e,""+n)}}function Cu(t,e,n){if(n===null)t.removeAttribute(e);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(e);return}t.setAttribute(e,""+n)}}function gr(t,e,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttributeNS(e,n,""+r)}}var Sf,wy;function Ga(t){if(Sf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Sf=e&&e[1]||"",wy=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Sf+t+wy}var Af=!1;function bf(t,e){if(!t||Af)return"";Af=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(e){var m=function(){throw Error()};if(Object.defineProperty(m.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(m,[])}catch(p){var g=p}Reflect.construct(t,[],m)}else{try{m.call()}catch(p){g=p}t.call(m.prototype)}}else{try{throw Error()}catch(p){g=p}(m=t())&&typeof m.catch=="function"&&m.catch(function(){})}}catch(p){if(p&&g&&typeof p.stack=="string")return[p.stack,g.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=r.DetermineComponentFrameRoot(),s=a[0],l=a[1];if(s&&l){var u=s.split(`
`),c=l.split(`
`);for(i=r=0;r<u.length&&!u[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===u.length||i===c.length)for(r=u.length-1,i=c.length-1;1<=r&&0<=i&&u[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(u[r]!==c[i]){if(r!==1||i!==1)do if(r--,i--,0>i||u[r]!==c[i]){var f=`
`+u[r].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=r&&0<=i);break}}}finally{Af=!1,Error.prepareStackTrace=n}return(n=t?t.displayName||t.name:"")?Ga(n):""}function OR(t){switch(t.tag){case 26:case 27:case 5:return Ga(t.type);case 16:return Ga("Lazy");case 13:return Ga("Suspense");case 19:return Ga("SuspenseList");case 0:case 15:return bf(t.type,!1);case 11:return bf(t.type.render,!1);case 1:return bf(t.type,!0);case 31:return Ga("Activity");default:return""}}function Ry(t){try{var e="";do e+=OR(t),t=t.return;while(t);return e}catch(n){return`
Error generating stack: `+n.message+`
`+n.stack}}function yn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function y0(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function NR(t){var e=y0(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bc(t){t._valueTracker||(t._valueTracker=NR(t))}function v0(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=y0(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var MR=/[\n"\\]/g;function En(t){return t.replace(MR,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function wd(t,e,n,r,i,a,s,l){t.name="",s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"?t.type=s:t.removeAttribute("type"),e!=null?s==="number"?(e===0&&t.value===""||t.value!=e)&&(t.value=""+yn(e)):t.value!==""+yn(e)&&(t.value=""+yn(e)):s!=="submit"&&s!=="reset"||t.removeAttribute("value"),e!=null?Rd(t,s,yn(e)):n!=null?Rd(t,s,yn(n)):r!=null&&t.removeAttribute("value"),i==null&&a!=null&&(t.defaultChecked=!!a),i!=null&&(t.checked=i&&typeof i!="function"&&typeof i!="symbol"),l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"?t.name=""+yn(l):t.removeAttribute("name")}function _0(t,e,n,r,i,a,s,l){if(a!=null&&typeof a!="function"&&typeof a!="symbol"&&typeof a!="boolean"&&(t.type=a),e!=null||n!=null){if(!(a!=="submit"&&a!=="reset"||e!=null))return;n=n!=null?""+yn(n):"",e=e!=null?""+yn(e):n,l||e===t.value||(t.value=e),t.defaultValue=e}r=r??i,r=typeof r!="function"&&typeof r!="symbol"&&!!r,t.checked=l?t.checked:!!r,t.defaultChecked=!!r,s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(t.name=s)}function Rd(t,e,n){e==="number"&&wc(t.ownerDocument)===t||t.defaultValue===""+n||(t.defaultValue=""+n)}function fs(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+yn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function E0(t,e,n){if(e!=null&&(e=""+yn(e),e!==t.value&&(t.value=e),n==null)){t.defaultValue!==e&&(t.defaultValue=e);return}t.defaultValue=n!=null?""+yn(n):""}function T0(t,e,n,r){if(e==null){if(r!=null){if(n!=null)throw Error(B(92));if(No(r)){if(1<r.length)throw Error(B(93));r=r[0]}n=r}n==null&&(n=""),e=n}n=yn(e),t.defaultValue=n,r=t.textContent,r===n&&r!==""&&r!==null&&(t.value=r)}function Rs(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xR=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cy(t,e,n){var r=e.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?r?t.setProperty(e,""):e==="float"?t.cssFloat="":t[e]="":r?t.setProperty(e,n):typeof n!="number"||n===0||xR.has(e)?e==="float"?t.cssFloat=n:t[e]=(""+n).trim():t[e]=n+"px"}function S0(t,e,n){if(e!=null&&typeof e!="object")throw Error(B(62));if(t=t.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||e!=null&&e.hasOwnProperty(r)||(r.indexOf("--")===0?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="");for(var i in e)r=e[i],e.hasOwnProperty(i)&&n[i]!==r&&Cy(t,i,r)}else for(var a in e)e.hasOwnProperty(a)&&Cy(t,a,e[a])}function Xm(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VR=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),PR=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $u(t){return PR.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cd=null;function Wm(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ns=null,ds=null;function Iy(t){var e=Qs(t);if(e&&(t=e.stateNode)){var n=t[Zt]||null;e:switch(t=e.stateNode,e.type){case"input":if(wd(t,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+En(""+e)+'"][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=r[Zt]||null;if(!i)throw Error(B(90));wd(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(e=0;e<n.length;e++)r=n[e],r.form===t.form&&v0(r)}break e;case"textarea":E0(t,n.value,n.defaultValue);break e;case"select":e=n.value,e!=null&&fs(t,!!n.multiple,e,!1)}}}var wf=!1;function A0(t,e,n){if(wf)return t(e,n);wf=!0;try{var r=t(e);return r}finally{if(wf=!1,(ns!==null||ds!==null)&&(xh(),ns&&(e=ns,t=ds,ds=ns=null,Iy(e),t)))for(e=0;e<t.length;e++)Iy(t[e])}}function ol(t,e){var n=t.stateNode;if(n===null)return null;var r=n[Zt]||null;if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(B(231,e,typeof n));return n}var Dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Id=!1;if(Dr)try{var Eo={};Object.defineProperty(Eo,"passive",{get:function(){Id=!0}}),window.addEventListener("test",Eo,Eo),window.removeEventListener("test",Eo,Eo)}catch{Id=!1}var si=null,Zm=null,Xu=null;function b0(){if(Xu)return Xu;var t,e=Zm,n=e.length,r,i="value"in si?si.value:si.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[a-r];r++);return Xu=i.slice(t,1<r?1-r:void 0)}function Wu(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Iu(){return!0}function Dy(){return!1}function Jt(t){function e(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Iu:Dy,this.isPropagationStopped=Dy,this}return Fe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Iu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Iu)},persist:function(){},isPersistent:Iu}),e}var va={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bh=Jt(va),Pl=Fe({},va,{view:0,detail:0}),LR=Jt(Pl),Rf,Cf,To,wh=Fe({},Pl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==To&&(To&&t.type==="mousemove"?(Rf=t.screenX-To.screenX,Cf=t.screenY-To.screenY):Cf=Rf=0,To=t),Rf)},movementY:function(t){return"movementY"in t?t.movementY:Cf}}),Oy=Jt(wh),kR=Fe({},wh,{dataTransfer:0}),UR=Jt(kR),zR=Fe({},Pl,{relatedTarget:0}),If=Jt(zR),jR=Fe({},va,{animationName:0,elapsedTime:0,pseudoElement:0}),BR=Jt(jR),HR=Fe({},va,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),qR=Jt(HR),FR=Fe({},va,{data:0}),Ny=Jt(FR),GR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YR(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QR[t])?!!e[t]:!1}function Jm(){return YR}var $R=Fe({},Pl,{key:function(t){if(t.key){var e=GR[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wu(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?KR[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jm,charCode:function(t){return t.type==="keypress"?Wu(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wu(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),XR=Jt($R),WR=Fe({},wh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),My=Jt(WR),ZR=Fe({},Pl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jm}),JR=Jt(ZR),e1=Fe({},va,{propertyName:0,elapsedTime:0,pseudoElement:0}),t1=Jt(e1),n1=Fe({},wh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),r1=Jt(n1),i1=Fe({},va,{newState:0,oldState:0}),a1=Jt(i1),s1=[9,13,27,32],eg=Dr&&"CompositionEvent"in window,jo=null;Dr&&"documentMode"in document&&(jo=document.documentMode);var o1=Dr&&"TextEvent"in window&&!jo,w0=Dr&&(!eg||jo&&8<jo&&11>=jo),xy=" ",Vy=!1;function R0(t,e){switch(t){case"keyup":return s1.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function C0(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var rs=!1;function l1(t,e){switch(t){case"compositionend":return C0(e);case"keypress":return e.which!==32?null:(Vy=!0,xy);case"textInput":return t=e.data,t===xy&&Vy?null:t;default:return null}}function u1(t,e){if(rs)return t==="compositionend"||!eg&&R0(t,e)?(t=b0(),Xu=Zm=si=null,rs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return w0&&e.locale!=="ko"?null:e.data;default:return null}}var c1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Py(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!c1[t.type]:e==="textarea"}function I0(t,e,n,r){ns?ds?ds.push(r):ds=[r]:ns=r,e=qc(e,"onChange"),0<e.length&&(n=new bh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Bo=null,ll=null;function h1(t){ES(t,0)}function Rh(t){var e=Mo(t);if(v0(e))return t}function Ly(t,e){if(t==="change")return e}var D0=!1;if(Dr){var Df;if(Dr){var Of="oninput"in document;if(!Of){var ky=document.createElement("div");ky.setAttribute("oninput","return;"),Of=typeof ky.oninput=="function"}Df=Of}else Df=!1;D0=Df&&(!document.documentMode||9<document.documentMode)}function Uy(){Bo&&(Bo.detachEvent("onpropertychange",O0),ll=Bo=null)}function O0(t){if(t.propertyName==="value"&&Rh(ll)){var e=[];I0(e,ll,t,Wm(t)),A0(h1,e)}}function f1(t,e,n){t==="focusin"?(Uy(),Bo=e,ll=n,Bo.attachEvent("onpropertychange",O0)):t==="focusout"&&Uy()}function d1(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Rh(ll)}function m1(t,e){if(t==="click")return Rh(e)}function g1(t,e){if(t==="input"||t==="change")return Rh(e)}function p1(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var dn=typeof Object.is=="function"?Object.is:p1;function ul(t,e){if(dn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ad.call(e,i)||!dn(t[i],e[i]))return!1}return!0}function zy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jy(t,e){var n=zy(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=zy(n)}}function N0(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?N0(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function M0(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var e=wc(t.document);e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wc(t.document)}return e}function tg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}var y1=Dr&&"documentMode"in document&&11>=document.documentMode,is=null,Dd=null,Ho=null,Od=!1;function By(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Od||is==null||is!==wc(r)||(r=is,"selectionStart"in r&&tg(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ho&&ul(Ho,r)||(Ho=r,r=qc(Dd,"onSelect"),0<r.length&&(e=new bh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=is)))}function Fi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var as={animationend:Fi("Animation","AnimationEnd"),animationiteration:Fi("Animation","AnimationIteration"),animationstart:Fi("Animation","AnimationStart"),transitionrun:Fi("Transition","TransitionRun"),transitionstart:Fi("Transition","TransitionStart"),transitioncancel:Fi("Transition","TransitionCancel"),transitionend:Fi("Transition","TransitionEnd")},Nf={},x0={};Dr&&(x0=document.createElement("div").style,"AnimationEvent"in window||(delete as.animationend.animation,delete as.animationiteration.animation,delete as.animationstart.animation),"TransitionEvent"in window||delete as.transitionend.transition);function _a(t){if(Nf[t])return Nf[t];if(!as[t])return t;var e=as[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in x0)return Nf[t]=e[n];return t}var V0=_a("animationend"),P0=_a("animationiteration"),L0=_a("animationstart"),v1=_a("transitionrun"),_1=_a("transitionstart"),E1=_a("transitioncancel"),k0=_a("transitionend"),U0=new Map,Nd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nd.push("scrollEnd");function Un(t,e){U0.set(t,e),ya(e,[t])}var Hy=new WeakMap;function Tn(t,e){if(typeof t=="object"&&t!==null){var n=Hy.get(t);return n!==void 0?n:(e={value:t,source:e,stack:Ry(e)},Hy.set(t,e),e)}return{value:t,source:e,stack:Ry(e)}}var gn=[],ss=0,ng=0;function Ch(){for(var t=ss,e=ng=ss=0;e<t;){var n=gn[e];gn[e++]=null;var r=gn[e];gn[e++]=null;var i=gn[e];gn[e++]=null;var a=gn[e];if(gn[e++]=null,r!==null&&i!==null){var s=r.pending;s===null?i.next=i:(i.next=s.next,s.next=i),r.pending=i}a!==0&&z0(n,i,a)}}function Ih(t,e,n,r){gn[ss++]=t,gn[ss++]=e,gn[ss++]=n,gn[ss++]=r,ng|=r,t.lanes|=r,t=t.alternate,t!==null&&(t.lanes|=r)}function rg(t,e,n,r){return Ih(t,e,n,r),Rc(t)}function Ys(t,e){return Ih(t,null,null,e),Rc(t)}function z0(t,e,n){t.lanes|=n;var r=t.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=t.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(t=a.stateNode,t===null||t._visibility&1||(i=!0)),t=a,a=a.return;return t.tag===3?(a=t.stateNode,i&&e!==null&&(i=31-cn(n),t=a.hiddenUpdates,r=t[i],r===null?t[i]=[e]:r.push(e),e.lane=n|536870912),a):null}function Rc(t){if(50<Zo)throw Zo=0,Zd=null,Error(B(185));for(var e=t.return;e!==null;)t=e,e=t.return;return t.tag===3?t.stateNode:null}var os={};function T1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new T1(t,e,n,r)}function ig(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Cr(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&65011712,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n.refCleanup=t.refCleanup,n}function j0(t,e){t.flags&=65011714;var n=t.alternate;return n===null?(t.childLanes=0,t.lanes=e,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,t.type=n.type,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),t}function Zu(t,e,n,r,i,a){var s=0;if(r=t,typeof t=="function")ig(t)&&(s=1);else if(typeof t=="string")s=AC(t,n,Yn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case _d:return t=on(31,n,e,i),t.elementType=_d,t.lanes=a,t;case Ja:return ea(n.children,i,a,e);case a0:s=8,i|=24;break;case pd:return t=on(12,n,e,i|2),t.elementType=pd,t.lanes=a,t;case yd:return t=on(13,n,e,i),t.elementType=yd,t.lanes=a,t;case vd:return t=on(19,n,e,i),t.elementType=vd,t.lanes=a,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hR:case Er:s=10;break e;case s0:s=9;break e;case Fm:s=11;break e;case Gm:s=14;break e;case $r:s=16,r=null;break e}s=29,n=Error(B(130,t===null?"null":typeof t,"")),r=null}return e=on(s,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function ea(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function Mf(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function xf(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}var ls=[],us=0,Cc=null,Ic=0,vn=[],_n=0,ta=null,Tr=1,Sr="";function Ki(t,e){ls[us++]=Ic,ls[us++]=Cc,Cc=t,Ic=e}function B0(t,e,n){vn[_n++]=Tr,vn[_n++]=Sr,vn[_n++]=ta,ta=t;var r=Tr;t=Sr;var i=32-cn(r)-1;r&=~(1<<i),n+=1;var a=32-cn(e)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Tr=1<<32-cn(e)+i|n<<i|r,Sr=a+t}else Tr=1<<a|n<<i|r,Sr=t}function ag(t){t.return!==null&&(Ki(t,1),B0(t,1,0))}function sg(t){for(;t===Cc;)Cc=ls[--us],ls[us]=null,Ic=ls[--us],ls[us]=null;for(;t===ta;)ta=vn[--_n],vn[_n]=null,Sr=vn[--_n],vn[_n]=null,Tr=vn[--_n],vn[_n]=null}var Gt=null,tt=null,De=!1,na=null,Kn=!1,Md=Error(B(519));function la(t){var e=Error(B(418,""));throw cl(Tn(e,t)),Md}function qy(t){var e=t.stateNode,n=t.type,r=t.memoizedProps;switch(e[zt]=t,e[Zt]=r,n){case"dialog":ye("cancel",e),ye("close",e);break;case"iframe":case"object":case"embed":ye("load",e);break;case"video":case"audio":for(n=0;n<dl.length;n++)ye(dl[n],e);break;case"source":ye("error",e);break;case"img":case"image":case"link":ye("error",e),ye("load",e);break;case"details":ye("toggle",e);break;case"input":ye("invalid",e),_0(e,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),bc(e);break;case"select":ye("invalid",e);break;case"textarea":ye("invalid",e),T0(e,r.value,r.defaultValue,r.children),bc(e)}n=r.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||e.textContent===""+n||r.suppressHydrationWarning===!0||SS(e.textContent,n)?(r.popover!=null&&(ye("beforetoggle",e),ye("toggle",e)),r.onScroll!=null&&ye("scroll",e),r.onScrollEnd!=null&&ye("scrollend",e),r.onClick!=null&&(e.onclick=Lh),e=!0):e=!1,e||la(t)}function Fy(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Gt=Gt.return}}function So(t){if(t!==Gt)return!1;if(!De)return Fy(t),De=!0,!1;var e=t.tag,n;if((n=e!==3&&e!==27)&&((n=e===5)&&(n=t.type,n=!(n!=="form"&&n!=="button")||im(t.type,t.memoizedProps)),n=!n),n&&tt&&la(t),Fy(t),e===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(B(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8)if(n=t.data,n==="/$"){if(e===0){tt=Ln(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++;t=t.nextSibling}tt=null}}else e===27?(e=tt,Pi(t.type)?(t=om,om=null,tt=t):tt=e):tt=Gt?Ln(t.stateNode.nextSibling):null;return!0}function Ll(){tt=Gt=null,De=!1}function Gy(){var t=na;return t!==null&&(Xt===null?Xt=t:Xt.push.apply(Xt,t),na=null),t}function cl(t){na===null?na=[t]:na.push(t)}var xd=ar(null),Ea=null,Ar=null;function Wr(t,e,n){Xe(xd,e._currentValue),e._currentValue=n}function Ir(t){t._currentValue=xd.current,At(xd)}function Vd(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Pd(t,e,n,r){var i=t.child;for(i!==null&&(i.return=t);i!==null;){var a=i.dependencies;if(a!==null){var s=i.child;a=a.firstContext;e:for(;a!==null;){var l=a;a=i;for(var u=0;u<e.length;u++)if(l.context===e[u]){a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),Vd(a.return,n,t),r||(s=null);break e}a=l.next}}else if(i.tag===18){if(s=i.return,s===null)throw Error(B(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Vd(s,n,t),s=null}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}}function kl(t,e,n,r){t=null;for(var i=e,a=!1;i!==null;){if(!a){if(i.flags&524288)a=!0;else if(i.flags&262144)break}if(i.tag===10){var s=i.alternate;if(s===null)throw Error(B(387));if(s=s.memoizedProps,s!==null){var l=i.type;dn(i.pendingProps.value,s.value)||(t!==null?t.push(l):t=[l])}}else if(i===Ec.current){if(s=i.alternate,s===null)throw Error(B(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(t!==null?t.push(pl):t=[pl])}i=i.return}t!==null&&Pd(e,t,n,r),e.flags|=262144}function Dc(t){for(t=t.firstContext;t!==null;){if(!dn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ua(t){Ea=t,Ar=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function jt(t){return H0(Ea,t)}function Du(t,e){return Ea===null&&ua(t),H0(t,e)}function H0(t,e){var n=e._currentValue;if(e={context:e,memoizedValue:n,next:null},Ar===null){if(t===null)throw Error(B(308));Ar=e,t.dependencies={lanes:0,firstContext:e},t.flags|=524288}else Ar=Ar.next=e;return n}var S1=typeof AbortController<"u"?AbortController:function(){var t=[],e=this.signal={aborted:!1,addEventListener:function(n,r){t.push(r)}};this.abort=function(){e.aborted=!0,t.forEach(function(n){return n()})}},A1=yt.unstable_scheduleCallback,b1=yt.unstable_NormalPriority,ft={$$typeof:Er,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function og(){return{controller:new S1,data:new Map,refCount:0}}function Ul(t){t.refCount--,t.refCount===0&&A1(b1,function(){t.controller.abort()})}var qo=null,Ld=0,Cs=0,ms=null;function w1(t,e){if(qo===null){var n=qo=[];Ld=0,Cs=Og(),ms={status:"pending",value:void 0,then:function(r){n.push(r)}}}return Ld++,e.then(Ky,Ky),e}function Ky(){if(--Ld===0&&qo!==null){ms!==null&&(ms.status="fulfilled");var t=qo;qo=null,Cs=0,ms=null;for(var e=0;e<t.length;e++)(0,t[e])()}}function R1(t,e){var n=[],r={status:"pending",value:null,reason:null,then:function(i){n.push(i)}};return t.then(function(){r.status="fulfilled",r.value=e;for(var i=0;i<n.length;i++)(0,n[i])(e)},function(i){for(r.status="rejected",r.reason=i,i=0;i<n.length;i++)(0,n[i])(void 0)}),r}var Qy=se.S;se.S=function(t,e){typeof e=="object"&&e!==null&&typeof e.then=="function"&&w1(t,e),Qy!==null&&Qy(t,e)};var ra=ar(null);function lg(){var t=ra.current;return t!==null?t:ze.pooledCache}function Ju(t,e){e===null?Xe(ra,ra.current):Xe(ra,e.pool)}function q0(){var t=lg();return t===null?null:{parent:ft._currentValue,pool:t}}var zl=Error(B(460)),F0=Error(B(474)),Dh=Error(B(542)),kd={then:function(){}};function Yy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Ou(){}function G0(t,e,n){switch(n=t[n],n===void 0?t.push(e):n!==e&&(e.then(Ou,Ou),e=n),e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xy(t),t;default:if(typeof e.status=="string")e.then(Ou,Ou);else{if(t=ze,t!==null&&100<t.shellSuspendCounter)throw Error(B(482));t=e,t.status="pending",t.then(function(r){if(e.status==="pending"){var i=e;i.status="fulfilled",i.value=r}},function(r){if(e.status==="pending"){var i=e;i.status="rejected",i.reason=r}})}switch(e.status){case"fulfilled":return e.value;case"rejected":throw t=e.reason,Xy(t),t}throw Fo=e,zl}}var Fo=null;function $y(){if(Fo===null)throw Error(B(459));var t=Fo;return Fo=null,t}function Xy(t){if(t===zl||t===Dh)throw Error(B(483))}var Xr=!1;function ug(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ud(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function hi(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Ve&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,e=Rc(t),z0(t,null,n),e}return Ih(t,r,e,n),Rc(t)}function Go(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194048)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}function Vf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}var zd=!1;function Ko(){if(zd){var t=ms;if(t!==null)throw t}}function Qo(t,e,n,r){zd=!1;var i=t.updateQueue;Xr=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,c=u.next;u.next=null,s===null?a=c:s.next=c,s=u;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==s&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=u))}if(a!==null){var m=i.baseState;s=0,f=c=u=null,l=a;do{var g=l.lane&-536870913,p=g!==l.lane;if(p?(Re&g)===g:(r&g)===g){g!==0&&g===Cs&&(zd=!0),f!==null&&(f=f.next={lane:0,tag:l.tag,payload:l.payload,callback:null,next:null});e:{var R=t,N=l;g=e;var O=n;switch(N.tag){case 1:if(R=N.payload,typeof R=="function"){m=R.call(O,m,g);break e}m=R;break e;case 3:R.flags=R.flags&-65537|128;case 0:if(R=N.payload,g=typeof R=="function"?R.call(O,m,g):R,g==null)break e;m=Fe({},m,g);break e;case 2:Xr=!0}}g=l.callback,g!==null&&(t.flags|=64,p&&(t.flags|=8192),p=i.callbacks,p===null?i.callbacks=[g]:p.push(g))}else p={lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=p,u=m):f=f.next=p,s|=g;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);f===null&&(u=m),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=f,a===null&&(i.shared.lanes=0),Ri|=s,t.lanes=s,t.memoizedState=m}}function K0(t,e){if(typeof t!="function")throw Error(B(191,t));t.call(e)}function Q0(t,e){var n=t.callbacks;if(n!==null)for(t.callbacks=null,t=0;t<n.length;t++)K0(n[t],e)}var Is=ar(null),Oc=ar(0);function Wy(t,e){t=Mr,Xe(Oc,t),Xe(Is,e),Mr=t|e.baseLanes}function jd(){Xe(Oc,Mr),Xe(Is,Is.current)}function cg(){Mr=Oc.current,At(Is),At(Oc)}var bi=0,ge=null,Le=null,lt=null,Nc=!1,gs=!1,ca=!1,Mc=0,hl=0,ps=null,C1=0;function rt(){throw Error(B(321))}function hg(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!dn(t[n],e[n]))return!1;return!0}function fg(t,e,n,r,i,a){return bi=a,ge=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,se.H=t===null||t.memoizedState===null?bT:wT,ca=!1,a=n(r,i),ca=!1,gs&&(a=$0(e,n,r,i)),Y0(t),a}function Y0(t){se.H=xc;var e=Le!==null&&Le.next!==null;if(bi=0,lt=Le=ge=null,Nc=!1,hl=0,ps=null,e)throw Error(B(300));t===null||St||(t=t.dependencies,t!==null&&Dc(t)&&(St=!0))}function $0(t,e,n,r){ge=t;var i=0;do{if(gs&&(ps=null),hl=0,gs=!1,25<=i)throw Error(B(301));if(i+=1,lt=Le=null,t.updateQueue!=null){var a=t.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,a.memoCache!=null&&(a.memoCache.index=0)}se.H=V1,a=e(n,r)}while(gs);return a}function I1(){var t=se.H,e=t.useState()[0];return e=typeof e.then=="function"?jl(e):e,t=t.useState()[0],(Le!==null?Le.memoizedState:null)!==t&&(ge.flags|=1024),e}function dg(){var t=Mc!==0;return Mc=0,t}function mg(t,e,n){e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n}function gg(t){if(Nc){for(t=t.memoizedState;t!==null;){var e=t.queue;e!==null&&(e.pending=null),t=t.next}Nc=!1}bi=0,lt=Le=ge=null,gs=!1,hl=Mc=0,ps=null}function Yt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return lt===null?ge.memoizedState=lt=t:lt=lt.next=t,lt}function ut(){if(Le===null){var t=ge.alternate;t=t!==null?t.memoizedState:null}else t=Le.next;var e=lt===null?ge.memoizedState:lt.next;if(e!==null)lt=e,Le=t;else{if(t===null)throw ge.alternate===null?Error(B(467)):Error(B(310));Le=t,t={memoizedState:Le.memoizedState,baseState:Le.baseState,baseQueue:Le.baseQueue,queue:Le.queue,next:null},lt===null?ge.memoizedState=lt=t:lt=lt.next=t}return lt}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function jl(t){var e=hl;return hl+=1,ps===null&&(ps=[]),t=G0(ps,t,e),e=ge,(lt===null?e.memoizedState:lt.next)===null&&(e=e.alternate,se.H=e===null||e.memoizedState===null?bT:wT),t}function Oh(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return jl(t);if(t.$$typeof===Er)return jt(t)}throw Error(B(438,String(t)))}function yg(t){var e=null,n=ge.updateQueue;if(n!==null&&(e=n.memoCache),e==null){var r=ge.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(e={data:r.data.map(function(i){return i.slice()}),index:0})))}if(e==null&&(e={data:[],index:0}),n===null&&(n=pg(),ge.updateQueue=n),n.memoCache=e,n=e.data[e.index],n===void 0)for(n=e.data[e.index]=Array(t),r=0;r<t;r++)n[r]=fR;return e.index++,n}function Or(t,e){return typeof e=="function"?e(t):e}function ec(t){var e=ut();return vg(e,Le,t)}function vg(t,e,n){var r=t.queue;if(r===null)throw Error(B(311));r.lastRenderedReducer=n;var i=t.baseQueue,a=r.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}e.baseQueue=i=a,r.pending=null}if(a=t.baseState,i===null)t.memoizedState=a;else{e=i.next;var l=s=null,u=null,c=e,f=!1;do{var m=c.lane&-536870913;if(m!==c.lane?(Re&m)===m:(bi&m)===m){var g=c.revertLane;if(g===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),m===Cs&&(f=!0);else if((bi&g)===g){c=c.next,g===Cs&&(f=!0);continue}else m={lane:0,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=m,s=a):u=u.next=m,ge.lanes|=g,Ri|=g;m=c.action,ca&&n(a,m),a=c.hasEagerState?c.eagerState:n(a,m)}else g={lane:m,revertLane:c.revertLane,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null},u===null?(l=u=g,s=a):u=u.next=g,ge.lanes|=m,Ri|=m;c=c.next}while(c!==null&&c!==e);if(u===null?s=a:u.next=l,!dn(a,t.memoizedState)&&(St=!0,f&&(n=ms,n!==null)))throw n;t.memoizedState=a,t.baseState=s,t.baseQueue=u,r.lastRenderedState=a}return i===null&&(r.lanes=0),[t.memoizedState,r.dispatch]}function Pf(t){var e=ut(),n=e.queue;if(n===null)throw Error(B(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=t(a,s.action),s=s.next;while(s!==i);dn(a,e.memoizedState)||(St=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function X0(t,e,n){var r=ge,i=ut(),a=De;if(a){if(n===void 0)throw Error(B(407));n=n()}else n=e();var s=!dn((Le||i).memoizedState,n);s&&(i.memoizedState=n,St=!0),i=i.queue;var l=J0.bind(null,r,i,t);if(Bl(2048,8,l,[t]),i.getSnapshot!==e||s||lt!==null&&lt.memoizedState.tag&1){if(r.flags|=2048,Ds(9,Nh(),Z0.bind(null,r,i,n,e),null),ze===null)throw Error(B(349));a||bi&124||W0(r,e,n)}return n}function W0(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ge.updateQueue,e===null?(e=pg(),ge.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Z0(t,e,n,r){e.value=n,e.getSnapshot=r,eT(e)&&tT(t)}function J0(t,e,n){return n(function(){eT(e)&&tT(t)})}function eT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!dn(t,n)}catch{return!0}}function tT(t){var e=Ys(t,2);e!==null&&fn(e,t,2)}function Bd(t){var e=Yt();if(typeof t=="function"){var n=t;if(t=n(),ca){ai(!0);try{n()}finally{ai(!1)}}}return e.memoizedState=e.baseState=t,e.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:t},e}function nT(t,e,n,r){return t.baseState=n,vg(t,Le,typeof r=="function"?r:Or)}function D1(t,e,n,r,i){if(Mh(t))throw Error(B(485));if(t=e.action,t!==null){var a={payload:i,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(s){a.listeners.push(s)}};se.T!==null?n(!0):a.isTransition=!1,r(a),n=e.pending,n===null?(a.next=e.pending=a,rT(e,a)):(a.next=n.next,e.pending=n.next=a)}}function rT(t,e){var n=e.action,r=e.payload,i=t.state;if(e.isTransition){var a=se.T,s={};se.T=s;try{var l=n(i,r),u=se.S;u!==null&&u(s,l),Zy(t,e,l)}catch(c){Hd(t,e,c)}finally{se.T=a}}else try{a=n(i,r),Zy(t,e,a)}catch(c){Hd(t,e,c)}}function Zy(t,e,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(r){Jy(t,e,r)},function(r){return Hd(t,e,r)}):Jy(t,e,n)}function Jy(t,e,n){e.status="fulfilled",e.value=n,iT(e),t.state=n,e=t.pending,e!==null&&(n=e.next,n===e?t.pending=null:(n=n.next,e.next=n,rT(t,n)))}function Hd(t,e,n){var r=t.pending;if(t.pending=null,r!==null){r=r.next;do e.status="rejected",e.reason=n,iT(e),e=e.next;while(e!==r)}t.action=null}function iT(t){t=t.listeners;for(var e=0;e<t.length;e++)(0,t[e])()}function aT(t,e){return e}function ev(t,e){if(De){var n=ze.formState;if(n!==null){e:{var r=ge;if(De){if(tt){t:{for(var i=tt,a=Kn;i.nodeType!==8;){if(!a){i=null;break t}if(i=Ln(i.nextSibling),i===null){i=null;break t}}a=i.data,i=a==="F!"||a==="F"?i:null}if(i){tt=Ln(i.nextSibling),r=i.data==="F!";break e}}la(r)}r=!1}r&&(e=n[0])}}return n=Yt(),n.memoizedState=n.baseState=e,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:aT,lastRenderedState:e},n.queue=r,n=TT.bind(null,ge,r),r.dispatch=n,r=Bd(!1),a=Sg.bind(null,ge,!1,r.queue),r=Yt(),i={state:e,dispatch:null,action:t,pending:null},r.queue=i,n=D1.bind(null,ge,i,a,n),i.dispatch=n,r.memoizedState=t,[e,n,!1]}function tv(t){var e=ut();return sT(e,Le,t)}function sT(t,e,n){if(e=vg(t,e,aT)[0],t=ec(Or)[0],typeof e=="object"&&e!==null&&typeof e.then=="function")try{var r=jl(e)}catch(s){throw s===zl?Dh:s}else r=e;e=ut();var i=e.queue,a=i.dispatch;return n!==e.memoizedState&&(ge.flags|=2048,Ds(9,Nh(),O1.bind(null,i,n),null)),[r,a,t]}function O1(t,e){t.action=e}function nv(t){var e=ut(),n=Le;if(n!==null)return sT(e,n,t);ut(),e=e.memoizedState,n=ut();var r=n.queue.dispatch;return n.memoizedState=t,[e,r,!1]}function Ds(t,e,n,r){return t={tag:t,create:n,deps:r,inst:e,next:null},e=ge.updateQueue,e===null&&(e=pg(),ge.updateQueue=e),n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function Nh(){return{destroy:void 0,resource:void 0}}function oT(){return ut().memoizedState}function tc(t,e,n,r){var i=Yt();r=r===void 0?null:r,ge.flags|=t,i.memoizedState=Ds(1|e,Nh(),n,r)}function Bl(t,e,n,r){var i=ut();r=r===void 0?null:r;var a=i.memoizedState.inst;Le!==null&&r!==null&&hg(r,Le.memoizedState.deps)?i.memoizedState=Ds(e,a,n,r):(ge.flags|=t,i.memoizedState=Ds(1|e,a,n,r))}function rv(t,e){tc(8390656,8,t,e)}function lT(t,e){Bl(2048,8,t,e)}function uT(t,e){return Bl(4,2,t,e)}function cT(t,e){return Bl(4,4,t,e)}function hT(t,e){if(typeof e=="function"){t=t();var n=e(t);return function(){typeof n=="function"?n():e(null)}}if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fT(t,e,n){n=n!=null?n.concat([t]):null,Bl(4,4,hT.bind(null,e,t),n)}function _g(){}function dT(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;return e!==null&&hg(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function mT(t,e){var n=ut();e=e===void 0?null:e;var r=n.memoizedState;if(e!==null&&hg(e,r[1]))return r[0];if(r=t(),ca){ai(!0);try{t()}finally{ai(!1)}}return n.memoizedState=[r,e],r}function Eg(t,e,n){return n===void 0||bi&1073741824?t.memoizedState=e:(t.memoizedState=n,t=iS(),ge.lanes|=t,Ri|=t,n)}function gT(t,e,n,r){return dn(n,e)?n:Is.current!==null?(t=Eg(t,n,r),dn(t,e)||(St=!0),t):bi&42?(t=iS(),ge.lanes|=t,Ri|=t,e):(St=!0,t.memoizedState=n)}function pT(t,e,n,r,i){var a=Oe.p;Oe.p=a!==0&&8>a?a:8;var s=se.T,l={};se.T=l,Sg(t,!1,e,n);try{var u=i(),c=se.S;if(c!==null&&c(l,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var f=R1(u,r);Yo(t,e,f,hn(t))}else Yo(t,e,r,hn(t))}catch(m){Yo(t,e,{then:function(){},status:"rejected",reason:m},hn())}finally{Oe.p=a,se.T=s}}function N1(){}function qd(t,e,n,r){if(t.tag!==5)throw Error(B(476));var i=yT(t).queue;pT(t,i,e,Ji,n===null?N1:function(){return vT(t),n(r)})}function yT(t){var e=t.memoizedState;if(e!==null)return e;e={memoizedState:Ji,baseState:Ji,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:Ji},next:null};var n={};return e.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Or,lastRenderedState:n},next:null},t.memoizedState=e,t=t.alternate,t!==null&&(t.memoizedState=e),e}function vT(t){var e=yT(t).next.queue;Yo(t,e,{},hn())}function Tg(){return jt(pl)}function _T(){return ut().memoizedState}function ET(){return ut().memoizedState}function M1(t){for(var e=t.return;e!==null;){switch(e.tag){case 24:case 3:var n=hn();t=hi(n);var r=fi(e,t,n);r!==null&&(fn(r,e,n),Go(r,e,n)),e={cache:og()},t.payload=e;return}e=e.return}}function x1(t,e,n){var r=hn();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Mh(t)?ST(e,n):(n=rg(t,e,n,r),n!==null&&(fn(n,t,r),AT(n,e,r)))}function TT(t,e,n){var r=hn();Yo(t,e,n,r)}function Yo(t,e,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Mh(t))ST(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var s=e.lastRenderedState,l=a(s,n);if(i.hasEagerState=!0,i.eagerState=l,dn(l,s))return Ih(t,e,i,0),ze===null&&Ch(),!1}catch{}finally{}if(n=rg(t,e,i,r),n!==null)return fn(n,t,r),AT(n,e,r),!0}return!1}function Sg(t,e,n,r){if(r={lane:2,revertLane:Og(),action:r,hasEagerState:!1,eagerState:null,next:null},Mh(t)){if(e)throw Error(B(479))}else e=rg(t,n,r,2),e!==null&&fn(e,t,2)}function Mh(t){var e=t.alternate;return t===ge||e!==null&&e===ge}function ST(t,e){gs=Nc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function AT(t,e,n){if(n&4194048){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,d0(t,n)}}var xc={readContext:jt,use:Oh,useCallback:rt,useContext:rt,useEffect:rt,useImperativeHandle:rt,useLayoutEffect:rt,useInsertionEffect:rt,useMemo:rt,useReducer:rt,useRef:rt,useState:rt,useDebugValue:rt,useDeferredValue:rt,useTransition:rt,useSyncExternalStore:rt,useId:rt,useHostTransitionStatus:rt,useFormState:rt,useActionState:rt,useOptimistic:rt,useMemoCache:rt,useCacheRefresh:rt},bT={readContext:jt,use:Oh,useCallback:function(t,e){return Yt().memoizedState=[t,e===void 0?null:e],t},useContext:jt,useEffect:rv,useImperativeHandle:function(t,e,n){n=n!=null?n.concat([t]):null,tc(4194308,4,hT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return tc(4194308,4,t,e)},useInsertionEffect:function(t,e){tc(4,2,t,e)},useMemo:function(t,e){var n=Yt();e=e===void 0?null:e;var r=t();if(ca){ai(!0);try{t()}finally{ai(!1)}}return n.memoizedState=[r,e],r},useReducer:function(t,e,n){var r=Yt();if(n!==void 0){var i=n(e);if(ca){ai(!0);try{n(e)}finally{ai(!1)}}}else i=e;return r.memoizedState=r.baseState=i,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:i},r.queue=t,t=t.dispatch=x1.bind(null,ge,t),[r.memoizedState,t]},useRef:function(t){var e=Yt();return t={current:t},e.memoizedState=t},useState:function(t){t=Bd(t);var e=t.queue,n=TT.bind(null,ge,e);return e.dispatch=n,[t.memoizedState,n]},useDebugValue:_g,useDeferredValue:function(t,e){var n=Yt();return Eg(n,t,e)},useTransition:function(){var t=Bd(!1);return t=pT.bind(null,ge,t.queue,!0,!1),Yt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,e,n){var r=ge,i=Yt();if(De){if(n===void 0)throw Error(B(407));n=n()}else{if(n=e(),ze===null)throw Error(B(349));Re&124||W0(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,rv(J0.bind(null,r,a,t),[t]),r.flags|=2048,Ds(9,Nh(),Z0.bind(null,r,a,n,e),null),n},useId:function(){var t=Yt(),e=ze.identifierPrefix;if(De){var n=Sr,r=Tr;n=(r&~(1<<32-cn(r)-1)).toString(32)+n,e="«"+e+"R"+n,n=Mc++,0<n&&(e+="H"+n.toString(32)),e+="»"}else n=C1++,e="«"+e+"r"+n.toString(32)+"»";return t.memoizedState=e},useHostTransitionStatus:Tg,useFormState:ev,useActionState:ev,useOptimistic:function(t){var e=Yt();e.memoizedState=e.baseState=t;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return e.queue=n,e=Sg.bind(null,ge,!0,n),n.dispatch=e,[t,e]},useMemoCache:yg,useCacheRefresh:function(){return Yt().memoizedState=M1.bind(null,ge)}},wT={readContext:jt,use:Oh,useCallback:dT,useContext:jt,useEffect:lT,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:mT,useReducer:ec,useRef:oT,useState:function(){return ec(Or)},useDebugValue:_g,useDeferredValue:function(t,e){var n=ut();return gT(n,Le.memoizedState,t,e)},useTransition:function(){var t=ec(Or)[0],e=ut().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:X0,useId:_T,useHostTransitionStatus:Tg,useFormState:tv,useActionState:tv,useOptimistic:function(t,e){var n=ut();return nT(n,Le,t,e)},useMemoCache:yg,useCacheRefresh:ET},V1={readContext:jt,use:Oh,useCallback:dT,useContext:jt,useEffect:lT,useImperativeHandle:fT,useInsertionEffect:uT,useLayoutEffect:cT,useMemo:mT,useReducer:Pf,useRef:oT,useState:function(){return Pf(Or)},useDebugValue:_g,useDeferredValue:function(t,e){var n=ut();return Le===null?Eg(n,t,e):gT(n,Le.memoizedState,t,e)},useTransition:function(){var t=Pf(Or)[0],e=ut().memoizedState;return[typeof t=="boolean"?t:jl(t),e]},useSyncExternalStore:X0,useId:_T,useHostTransitionStatus:Tg,useFormState:nv,useActionState:nv,useOptimistic:function(t,e){var n=ut();return Le!==null?nT(n,Le,t,e):(n.baseState=t,[t,n.queue.dispatch])},useMemoCache:yg,useCacheRefresh:ET},ys=null,fl=0;function Nu(t){var e=fl;return fl+=1,ys===null&&(ys=[]),G0(ys,t,e)}function Ao(t,e){e=e.props.ref,t.ref=e!==void 0?e:null}function Mu(t,e){throw e.$$typeof===cR?Error(B(525)):(t=Object.prototype.toString.call(e),Error(B(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)))}function iv(t){var e=t._init;return e(t._payload)}function RT(t){function e(E,v){if(t){var A=E.deletions;A===null?(E.deletions=[v],E.flags|=16):A.push(v)}}function n(E,v){if(!t)return null;for(;v!==null;)e(E,v),v=v.sibling;return null}function r(E){for(var v=new Map;E!==null;)E.key!==null?v.set(E.key,E):v.set(E.index,E),E=E.sibling;return v}function i(E,v){return E=Cr(E,v),E.index=0,E.sibling=null,E}function a(E,v,A){return E.index=A,t?(A=E.alternate,A!==null?(A=A.index,A<v?(E.flags|=67108866,v):A):(E.flags|=67108866,v)):(E.flags|=1048576,v)}function s(E){return t&&E.alternate===null&&(E.flags|=67108866),E}function l(E,v,A,M){return v===null||v.tag!==6?(v=Mf(A,E.mode,M),v.return=E,v):(v=i(v,A),v.return=E,v)}function u(E,v,A,M){var z=A.type;return z===Ja?f(E,v,A.props.children,M,A.key):v!==null&&(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$r&&iv(z)===v.type)?(v=i(v,A.props),Ao(v,A),v.return=E,v):(v=Zu(A.type,A.key,A.props,null,E.mode,M),Ao(v,A),v.return=E,v)}function c(E,v,A,M){return v===null||v.tag!==4||v.stateNode.containerInfo!==A.containerInfo||v.stateNode.implementation!==A.implementation?(v=xf(A,E.mode,M),v.return=E,v):(v=i(v,A.children||[]),v.return=E,v)}function f(E,v,A,M,z){return v===null||v.tag!==7?(v=ea(A,E.mode,M,z),v.return=E,v):(v=i(v,A),v.return=E,v)}function m(E,v,A){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Mf(""+v,E.mode,A),v.return=E,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bu:return A=Zu(v.type,v.key,v.props,null,E.mode,A),Ao(A,v),A.return=E,A;case Oo:return v=xf(v,E.mode,A),v.return=E,v;case $r:var M=v._init;return v=M(v._payload),m(E,v,A)}if(No(v)||_o(v))return v=ea(v,E.mode,A,null),v.return=E,v;if(typeof v.then=="function")return m(E,Nu(v),A);if(v.$$typeof===Er)return m(E,Du(E,v),A);Mu(E,v)}return null}function g(E,v,A,M){var z=v!==null?v.key:null;if(typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint")return z!==null?null:l(E,v,""+A,M);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case bu:return A.key===z?u(E,v,A,M):null;case Oo:return A.key===z?c(E,v,A,M):null;case $r:return z=A._init,A=z(A._payload),g(E,v,A,M)}if(No(A)||_o(A))return z!==null?null:f(E,v,A,M,null);if(typeof A.then=="function")return g(E,v,Nu(A),M);if(A.$$typeof===Er)return g(E,v,Du(E,A),M);Mu(E,A)}return null}function p(E,v,A,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return E=E.get(A)||null,l(v,E,""+M,z);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case bu:return E=E.get(M.key===null?A:M.key)||null,u(v,E,M,z);case Oo:return E=E.get(M.key===null?A:M.key)||null,c(v,E,M,z);case $r:var D=M._init;return M=D(M._payload),p(E,v,A,M,z)}if(No(M)||_o(M))return E=E.get(A)||null,f(v,E,M,z,null);if(typeof M.then=="function")return p(E,v,A,Nu(M),z);if(M.$$typeof===Er)return p(E,v,A,Du(v,M),z);Mu(v,M)}return null}function R(E,v,A,M){for(var z=null,D=null,S=v,_=v=0,T=null;S!==null&&_<A.length;_++){S.index>_?(T=S,S=null):T=S.sibling;var w=g(E,S,A[_],M);if(w===null){S===null&&(S=T);break}t&&S&&w.alternate===null&&e(E,S),v=a(w,v,_),D===null?z=w:D.sibling=w,D=w,S=T}if(_===A.length)return n(E,S),De&&Ki(E,_),z;if(S===null){for(;_<A.length;_++)S=m(E,A[_],M),S!==null&&(v=a(S,v,_),D===null?z=S:D.sibling=S,D=S);return De&&Ki(E,_),z}for(S=r(S);_<A.length;_++)T=p(S,E,_,A[_],M),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?_:T.key),v=a(T,v,_),D===null?z=T:D.sibling=T,D=T);return t&&S.forEach(function(I){return e(E,I)}),De&&Ki(E,_),z}function N(E,v,A,M){if(A==null)throw Error(B(151));for(var z=null,D=null,S=v,_=v=0,T=null,w=A.next();S!==null&&!w.done;_++,w=A.next()){S.index>_?(T=S,S=null):T=S.sibling;var I=g(E,S,w.value,M);if(I===null){S===null&&(S=T);break}t&&S&&I.alternate===null&&e(E,S),v=a(I,v,_),D===null?z=I:D.sibling=I,D=I,S=T}if(w.done)return n(E,S),De&&Ki(E,_),z;if(S===null){for(;!w.done;_++,w=A.next())w=m(E,w.value,M),w!==null&&(v=a(w,v,_),D===null?z=w:D.sibling=w,D=w);return De&&Ki(E,_),z}for(S=r(S);!w.done;_++,w=A.next())w=p(S,E,_,w.value,M),w!==null&&(t&&w.alternate!==null&&S.delete(w.key===null?_:w.key),v=a(w,v,_),D===null?z=w:D.sibling=w,D=w);return t&&S.forEach(function(x){return e(E,x)}),De&&Ki(E,_),z}function O(E,v,A,M){if(typeof A=="object"&&A!==null&&A.type===Ja&&A.key===null&&(A=A.props.children),typeof A=="object"&&A!==null){switch(A.$$typeof){case bu:e:{for(var z=A.key;v!==null;){if(v.key===z){if(z=A.type,z===Ja){if(v.tag===7){n(E,v.sibling),M=i(v,A.props.children),M.return=E,E=M;break e}}else if(v.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$r&&iv(z)===v.type){n(E,v.sibling),M=i(v,A.props),Ao(M,A),M.return=E,E=M;break e}n(E,v);break}else e(E,v);v=v.sibling}A.type===Ja?(M=ea(A.props.children,E.mode,M,A.key),M.return=E,E=M):(M=Zu(A.type,A.key,A.props,null,E.mode,M),Ao(M,A),M.return=E,E=M)}return s(E);case Oo:e:{for(z=A.key;v!==null;){if(v.key===z)if(v.tag===4&&v.stateNode.containerInfo===A.containerInfo&&v.stateNode.implementation===A.implementation){n(E,v.sibling),M=i(v,A.children||[]),M.return=E,E=M;break e}else{n(E,v);break}else e(E,v);v=v.sibling}M=xf(A,E.mode,M),M.return=E,E=M}return s(E);case $r:return z=A._init,A=z(A._payload),O(E,v,A,M)}if(No(A))return R(E,v,A,M);if(_o(A)){if(z=_o(A),typeof z!="function")throw Error(B(150));return A=z.call(A),N(E,v,A,M)}if(typeof A.then=="function")return O(E,v,Nu(A),M);if(A.$$typeof===Er)return O(E,v,Du(E,A),M);Mu(E,A)}return typeof A=="string"&&A!==""||typeof A=="number"||typeof A=="bigint"?(A=""+A,v!==null&&v.tag===6?(n(E,v.sibling),M=i(v,A),M.return=E,E=M):(n(E,v),M=Mf(A,E.mode,M),M.return=E,E=M),s(E)):n(E,v)}return function(E,v,A,M){try{fl=0;var z=O(E,v,A,M);return ys=null,z}catch(S){if(S===zl||S===Dh)throw S;var D=on(29,S,null,E.mode);return D.lanes=M,D.return=E,D}finally{}}}var Os=RT(!0),CT=RT(!1),bn=ar(null),Xn=null;function Zr(t){var e=t.alternate;Xe(dt,dt.current&1),Xe(bn,t),Xn===null&&(e===null||Is.current!==null||e.memoizedState!==null)&&(Xn=t)}function IT(t){if(t.tag===22){if(Xe(dt,dt.current),Xe(bn,t),Xn===null){var e=t.alternate;e!==null&&e.memoizedState!==null&&(Xn=t)}}else Jr()}function Jr(){Xe(dt,dt.current),Xe(bn,bn.current)}function br(t){At(bn),Xn===t&&(Xn=null),At(dt)}var dt=ar(0);function Vc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||sm(n)))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}function Lf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Fd={enqueueSetState:function(t,e,n){t=t._reactInternals;var r=hn(),i=hi(r);i.payload=e,n!=null&&(i.callback=n),e=fi(t,i,r),e!==null&&(fn(e,t,r),Go(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=hn(),i=hi(r);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=fi(t,i,r),e!==null&&(fn(e,t,r),Go(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=hn(),r=hi(n);r.tag=2,e!=null&&(r.callback=e),e=fi(t,r,n),e!==null&&(fn(e,t,n),Go(e,t,n))}};function av(t,e,n,r,i,a,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,s):e.prototype&&e.prototype.isPureReactComponent?!ul(n,r)||!ul(i,a):!0}function sv(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Fd.enqueueReplaceState(e,e.state,null)}function ha(t,e){var n=e;if("ref"in e){n={};for(var r in e)r!=="ref"&&(n[r]=e[r])}if(t=t.defaultProps){n===e&&(n=Fe({},n));for(var i in t)n[i]===void 0&&(n[i]=t[i])}return n}var Pc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var e=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(e))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function DT(t){Pc(t)}function OT(t){console.error(t)}function NT(t){Pc(t)}function Lc(t,e){try{var n=t.onUncaughtError;n(e.value,{componentStack:e.stack})}catch(r){setTimeout(function(){throw r})}}function ov(t,e,n){try{var r=t.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:e.tag===1?e.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Gd(t,e,n){return n=hi(n),n.tag=3,n.payload={element:null},n.callback=function(){Lc(t,e)},n}function MT(t){return t=hi(t),t.tag=3,t}function xT(t,e,n,r){var i=n.type.getDerivedStateFromError;if(typeof i=="function"){var a=r.value;t.payload=function(){return i(a)},t.callback=function(){ov(e,n,r)}}var s=n.stateNode;s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){ov(e,n,r),typeof i!="function"&&(di===null?di=new Set([this]):di.add(this));var l=r.stack;this.componentDidCatch(r.value,{componentStack:l!==null?l:""})})}function P1(t,e,n,r,i){if(n.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(e=n.alternate,e!==null&&kl(e,n,i,!0),n=bn.current,n!==null){switch(n.tag){case 13:return Xn===null?Jd():n.alternate===null&&nt===0&&(nt=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===kd?n.flags|=16384:(e=n.updateQueue,e===null?n.updateQueue=new Set([r]):e.add(r),Qf(t,r,i)),!1;case 22:return n.flags|=65536,r===kd?n.flags|=16384:(e=n.updateQueue,e===null?(e={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=e):(n=e.retryQueue,n===null?e.retryQueue=new Set([r]):n.add(r)),Qf(t,r,i)),!1}throw Error(B(435,n.tag))}return Qf(t,r,i),Jd(),!1}if(De)return e=bn.current,e!==null?(!(e.flags&65536)&&(e.flags|=256),e.flags|=65536,e.lanes=i,r!==Md&&(t=Error(B(422),{cause:r}),cl(Tn(t,n)))):(r!==Md&&(e=Error(B(423),{cause:r}),cl(Tn(e,n))),t=t.current.alternate,t.flags|=65536,i&=-i,t.lanes|=i,r=Tn(r,n),i=Gd(t.stateNode,r,i),Vf(t,i),nt!==4&&(nt=2)),!1;var a=Error(B(520),{cause:r});if(a=Tn(a,n),Wo===null?Wo=[a]:Wo.push(a),nt!==4&&(nt=2),e===null)return!0;r=Tn(r,n),n=e;do{switch(n.tag){case 3:return n.flags|=65536,t=i&-i,n.lanes|=t,t=Gd(n.stateNode,r,t),Vf(n,t),!1;case 1:if(e=n.type,a=n.stateNode,(n.flags&128)===0&&(typeof e.getDerivedStateFromError=="function"||a!==null&&typeof a.componentDidCatch=="function"&&(di===null||!di.has(a))))return n.flags|=65536,i&=-i,n.lanes|=i,i=MT(i),xT(i,t,n,r),Vf(n,i),!1}n=n.return}while(n!==null);return!1}var VT=Error(B(461)),St=!1;function Rt(t,e,n,r){e.child=t===null?CT(e,null,n,r):Os(e,t.child,n,r)}function lv(t,e,n,r,i){n=n.render;var a=e.ref;if("ref"in r){var s={};for(var l in r)l!=="ref"&&(s[l]=r[l])}else s=r;return ua(e),r=fg(t,e,n,s,a,i),l=dg(),t!==null&&!St?(mg(t,e,i),Nr(t,e,i)):(De&&l&&ag(e),e.flags|=1,Rt(t,e,r,i),e.child)}function uv(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!ig(a)&&a.defaultProps===void 0&&n.compare===null?(e.tag=15,e.type=a,PT(t,e,a,r,i)):(t=Zu(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!Ag(t,i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:ul,n(s,r)&&t.ref===e.ref)return Nr(t,e,i)}return e.flags|=1,t=Cr(a,r),t.ref=e.ref,t.return=e,e.child=t}function PT(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(ul(a,r)&&t.ref===e.ref)if(St=!1,e.pendingProps=r=a,Ag(t,i))t.flags&131072&&(St=!0);else return e.lanes=t.lanes,Nr(t,e,i)}return Kd(t,e,n,r,i)}function LT(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden"){if(e.flags&128){if(r=a!==null?a.baseLanes|n:n,t!==null){for(i=e.child=t.child,a=0;i!==null;)a=a|i.lanes|i.childLanes,i=i.sibling;e.childLanes=a&~r}else e.childLanes=0,e.child=null;return cv(t,e,r,n)}if(n&536870912)e.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ju(e,a!==null?a.cachePool:null),a!==null?Wy(e,a):jd(),IT(e);else return e.lanes=e.childLanes=536870912,cv(t,e,a!==null?a.baseLanes|n:n,n)}else a!==null?(Ju(e,a.cachePool),Wy(e,a),Jr(),e.memoizedState=null):(t!==null&&Ju(e,null),jd(),Jr());return Rt(t,e,i,n),e.child}function cv(t,e,n,r){var i=lg();return i=i===null?null:{parent:ft._currentValue,pool:i},e.memoizedState={baseLanes:n,cachePool:i},t!==null&&Ju(e,null),jd(),IT(e),t!==null&&kl(t,e,r,!0),null}function nc(t,e){var n=e.ref;if(n===null)t!==null&&t.ref!==null&&(e.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(B(284));(t===null||t.ref!==n)&&(e.flags|=4194816)}}function Kd(t,e,n,r,i){return ua(e),n=fg(t,e,n,r,void 0,i),r=dg(),t!==null&&!St?(mg(t,e,i),Nr(t,e,i)):(De&&r&&ag(e),e.flags|=1,Rt(t,e,n,i),e.child)}function hv(t,e,n,r,i,a){return ua(e),e.updateQueue=null,n=$0(e,r,n,i),Y0(t),r=dg(),t!==null&&!St?(mg(t,e,a),Nr(t,e,a)):(De&&r&&ag(e),e.flags|=1,Rt(t,e,n,a),e.child)}function fv(t,e,n,r,i){if(ua(e),e.stateNode===null){var a=os,s=n.contextType;typeof s=="object"&&s!==null&&(a=jt(s)),a=new n(r,a),e.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Fd,e.stateNode=a,a._reactInternals=e,a=e.stateNode,a.props=r,a.state=e.memoizedState,a.refs={},ug(e),s=n.contextType,a.context=typeof s=="object"&&s!==null?jt(s):os,a.state=e.memoizedState,s=n.getDerivedStateFromProps,typeof s=="function"&&(Lf(e,n,s,r),a.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(s=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),s!==a.state&&Fd.enqueueReplaceState(a,a.state,null),Qo(e,r,a,i),Ko(),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!0}else if(t===null){a=e.stateNode;var l=e.memoizedProps,u=ha(n,l);a.props=u;var c=a.context,f=n.contextType;s=os,typeof f=="object"&&f!==null&&(s=jt(f));var m=n.getDerivedStateFromProps;f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function",l=e.pendingProps!==l,f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(l||c!==s)&&sv(e,a,r,s),Xr=!1;var g=e.memoizedState;a.state=g,Qo(e,r,a,i),Ko(),c=e.memoizedState,l||g!==c||Xr?(typeof m=="function"&&(Lf(e,n,m,r),c=e.memoizedState),(u=Xr||av(e,n,u,r,g,c,s))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),a.props=r,a.state=c,a.context=s,r=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,Ud(t,e),s=e.memoizedProps,f=ha(n,s),a.props=f,m=e.pendingProps,g=a.context,c=n.contextType,u=os,typeof c=="object"&&c!==null&&(u=jt(c)),l=n.getDerivedStateFromProps,(c=typeof l=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(s!==m||g!==u)&&sv(e,a,r,u),Xr=!1,g=e.memoizedState,a.state=g,Qo(e,r,a,i),Ko();var p=e.memoizedState;s!==m||g!==p||Xr||t!==null&&t.dependencies!==null&&Dc(t.dependencies)?(typeof l=="function"&&(Lf(e,n,l,r),p=e.memoizedState),(f=Xr||av(e,n,f,r,g,p,u)||t!==null&&t.dependencies!==null&&Dc(t.dependencies))?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=u,r=f):(typeof a.componentDidUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return a=r,nc(t,e),r=(e.flags&128)!==0,a||r?(a=e.stateNode,n=r&&typeof n.getDerivedStateFromError!="function"?null:a.render(),e.flags|=1,t!==null&&r?(e.child=Os(e,t.child,null,i),e.child=Os(e,null,n,i)):Rt(t,e,n,i),e.memoizedState=a.state,t=e.child):t=Nr(t,e,i),t}function dv(t,e,n,r){return Ll(),e.flags|=256,Rt(t,e,n,r),e.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(t){return{baseLanes:t,cachePool:q0()}}function zf(t,e,n){return t=t!==null?t.childLanes&~n:0,e&&(t|=Sn),t}function kT(t,e,n){var r=e.pendingProps,i=!1,a=(e.flags&128)!==0,s;if((s=a)||(s=t!==null&&t.memoizedState===null?!1:(dt.current&2)!==0),s&&(i=!0,e.flags&=-129),s=(e.flags&32)!==0,e.flags&=-33,t===null){if(De){if(i?Zr(e):Jr(),De){var l=tt,u;if(u=l){e:{for(u=l,l=Kn;u.nodeType!==8;){if(!l){l=null;break e}if(u=Ln(u.nextSibling),u===null){l=null;break e}}l=u}l!==null?(e.memoizedState={dehydrated:l,treeContext:ta!==null?{id:Tr,overflow:Sr}:null,retryLane:536870912,hydrationErrors:null},u=on(18,null,null,0),u.stateNode=l,u.return=e,e.child=u,Gt=e,tt=null,u=!0):u=!1}u||la(e)}if(l=e.memoizedState,l!==null&&(l=l.dehydrated,l!==null))return sm(l)?e.lanes=32:e.lanes=536870912,null;br(e)}return l=r.children,r=r.fallback,i?(Jr(),i=e.mode,l=kc({mode:"hidden",children:l},i),r=ea(r,i,n,null),l.return=e,r.return=e,l.sibling=r,e.child=l,i=e.child,i.memoizedState=Uf(n),i.childLanes=zf(t,s,n),e.memoizedState=kf,r):(Zr(e),Qd(e,l))}if(u=t.memoizedState,u!==null&&(l=u.dehydrated,l!==null)){if(a)e.flags&256?(Zr(e),e.flags&=-257,e=jf(t,e,n)):e.memoizedState!==null?(Jr(),e.child=t.child,e.flags|=128,e=null):(Jr(),i=r.fallback,l=e.mode,r=kc({mode:"visible",children:r.children},l),i=ea(i,l,n,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,Os(e,t.child,null,n),r=e.child,r.memoizedState=Uf(n),r.childLanes=zf(t,s,n),e.memoizedState=kf,e=i);else if(Zr(e),sm(l)){if(s=l.nextSibling&&l.nextSibling.dataset,s)var c=s.dgst;s=c,r=Error(B(419)),r.stack="",r.digest=s,cl({value:r,source:null,stack:null}),e=jf(t,e,n)}else if(St||kl(t,e,n,!1),s=(n&t.childLanes)!==0,St||s){if(s=ze,s!==null&&(r=n&-n,r=r&42?1:Qm(r),r=r&(s.suspendedLanes|n)?0:r,r!==0&&r!==u.retryLane))throw u.retryLane=r,Ys(t,r),fn(s,t,r),VT;l.data==="$?"||Jd(),e=jf(t,e,n)}else l.data==="$?"?(e.flags|=192,e.child=t.child,e=null):(t=u.treeContext,tt=Ln(l.nextSibling),Gt=e,De=!0,na=null,Kn=!1,t!==null&&(vn[_n++]=Tr,vn[_n++]=Sr,vn[_n++]=ta,Tr=t.id,Sr=t.overflow,ta=e),e=Qd(e,r.children),e.flags|=4096);return e}return i?(Jr(),i=r.fallback,l=e.mode,u=t.child,c=u.sibling,r=Cr(u,{mode:"hidden",children:r.children}),r.subtreeFlags=u.subtreeFlags&65011712,c!==null?i=Cr(c,i):(i=ea(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l===null?l=Uf(n):(u=l.cachePool,u!==null?(c=ft._currentValue,u=u.parent!==c?{parent:c,pool:c}:u):u=q0(),l={baseLanes:l.baseLanes|n,cachePool:u}),i.memoizedState=l,i.childLanes=zf(t,s,n),e.memoizedState=kf,r):(Zr(e),n=t.child,t=n.sibling,n=Cr(n,{mode:"visible",children:r.children}),n.return=e,n.sibling=null,t!==null&&(s=e.deletions,s===null?(e.deletions=[t],e.flags|=16):s.push(t)),e.child=n,e.memoizedState=null,n)}function Qd(t,e){return e=kc({mode:"visible",children:e},t.mode),e.return=t,t.child=e}function kc(t,e){return t=on(22,t,null,e),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function jf(t,e,n){return Os(e,t.child,null,n),t=Qd(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mv(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Vd(t.return,e,n)}function Bf(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function UT(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Rt(t,e,r.children,n),r=dt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mv(t,n,e);else if(t.tag===19)mv(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}switch(Xe(dt,r),i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Vc(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Bf(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vc(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Bf(e,!0,n,null,a);break;case"together":Bf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nr(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ri|=e.lanes,!(n&e.childLanes))if(t!==null){if(kl(t,e,n,!1),(n&e.childLanes)===0)return null}else return null;if(t!==null&&e.child!==t.child)throw Error(B(153));if(e.child!==null){for(t=e.child,n=Cr(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Cr(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Ag(t,e){return t.lanes&e?!0:(t=t.dependencies,!!(t!==null&&Dc(t)))}function L1(t,e,n){switch(e.tag){case 3:Tc(e,e.stateNode.containerInfo),Wr(e,ft,t.memoizedState.cache),Ll();break;case 27:case 5:Sd(e);break;case 4:Tc(e,e.stateNode.containerInfo);break;case 10:Wr(e,e.type,e.memoizedProps.value);break;case 13:var r=e.memoizedState;if(r!==null)return r.dehydrated!==null?(Zr(e),e.flags|=128,null):n&e.child.childLanes?kT(t,e,n):(Zr(e),t=Nr(t,e,n),t!==null?t.sibling:null);Zr(e);break;case 19:var i=(t.flags&128)!==0;if(r=(n&e.childLanes)!==0,r||(kl(t,e,n,!1),r=(n&e.childLanes)!==0),i){if(r)return UT(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Xe(dt,dt.current),r)break;return null;case 22:case 23:return e.lanes=0,LT(t,e,n);case 24:Wr(e,ft,t.memoizedState.cache)}return Nr(t,e,n)}function zT(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps)St=!0;else{if(!Ag(t,n)&&!(e.flags&128))return St=!1,L1(t,e,n);St=!!(t.flags&131072)}else St=!1,De&&e.flags&1048576&&B0(e,Ic,e.index);switch(e.lanes=0,e.tag){case 16:e:{t=e.pendingProps;var r=e.elementType,i=r._init;if(r=i(r._payload),e.type=r,typeof r=="function")ig(r)?(t=ha(r,t),e.tag=1,e=fv(null,e,r,t,n)):(e.tag=0,e=Kd(null,e,r,t,n));else{if(r!=null){if(i=r.$$typeof,i===Fm){e.tag=11,e=lv(null,e,r,t,n);break e}else if(i===Gm){e.tag=14,e=uv(null,e,r,t,n);break e}}throw e=Ed(r)||r,Error(B(306,e,""))}}return e;case 0:return Kd(t,e,e.type,e.pendingProps,n);case 1:return r=e.type,i=ha(r,e.pendingProps),fv(t,e,r,i,n);case 3:e:{if(Tc(e,e.stateNode.containerInfo),t===null)throw Error(B(387));r=e.pendingProps;var a=e.memoizedState;i=a.element,Ud(t,e),Qo(e,r,null,n);var s=e.memoizedState;if(r=s.cache,Wr(e,ft,r),r!==a.cache&&Pd(e,[ft],n,!0),Ko(),r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){e=dv(t,e,r,n);break e}else if(r!==i){i=Tn(Error(B(424)),e),cl(i),e=dv(t,e,r,n);break e}else{switch(t=e.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Ln(t.firstChild),Gt=e,De=!0,na=null,Kn=!0,n=CT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ll(),r===i){e=Nr(t,e,n);break e}Rt(t,e,r,n)}e=e.child}return e;case 26:return nc(t,e),t===null?(n=Nv(e.type,null,e.pendingProps,null))?e.memoizedState=n:De||(n=e.type,t=e.pendingProps,r=Fc(ci.current).createElement(n),r[zt]=e,r[Zt]=t,Ot(r,n,t),Tt(r),e.stateNode=r):e.memoizedState=Nv(e.type,t.memoizedProps,e.pendingProps,t.memoizedState),null;case 27:return Sd(e),t===null&&De&&(r=e.stateNode=wS(e.type,e.pendingProps,ci.current),Gt=e,Kn=!0,i=tt,Pi(e.type)?(om=i,tt=Ln(r.firstChild)):tt=i),Rt(t,e,e.pendingProps.children,n),nc(t,e),t===null&&(e.flags|=4194304),e.child;case 5:return t===null&&De&&((i=r=tt)&&(r=cC(r,e.type,e.pendingProps,Kn),r!==null?(e.stateNode=r,Gt=e,tt=Ln(r.firstChild),Kn=!1,i=!0):i=!1),i||la(e)),Sd(e),i=e.type,a=e.pendingProps,s=t!==null?t.memoizedProps:null,r=a.children,im(i,a)?r=null:s!==null&&im(i,s)&&(e.flags|=32),e.memoizedState!==null&&(i=fg(t,e,I1,null,null,n),pl._currentValue=i),nc(t,e),Rt(t,e,r,n),e.child;case 6:return t===null&&De&&((t=n=tt)&&(n=hC(n,e.pendingProps,Kn),n!==null?(e.stateNode=n,Gt=e,tt=null,t=!0):t=!1),t||la(e)),null;case 13:return kT(t,e,n);case 4:return Tc(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Os(e,null,r,n):Rt(t,e,r,n),e.child;case 11:return lv(t,e,e.type,e.pendingProps,n);case 7:return Rt(t,e,e.pendingProps,n),e.child;case 8:return Rt(t,e,e.pendingProps.children,n),e.child;case 12:return Rt(t,e,e.pendingProps.children,n),e.child;case 10:return r=e.pendingProps,Wr(e,e.type,r.value),Rt(t,e,r.children,n),e.child;case 9:return i=e.type._context,r=e.pendingProps.children,ua(e),i=jt(i),r=r(i),e.flags|=1,Rt(t,e,r,n),e.child;case 14:return uv(t,e,e.type,e.pendingProps,n);case 15:return PT(t,e,e.type,e.pendingProps,n);case 19:return UT(t,e,n);case 31:return r=e.pendingProps,n=e.mode,r={mode:r.mode,children:r.children},t===null?(n=kc(r,n),n.ref=e.ref,e.child=n,n.return=e,e=n):(n=Cr(t.child,r),n.ref=e.ref,e.child=n,n.return=e,e=n),e;case 22:return LT(t,e,n);case 24:return ua(e),r=jt(ft),t===null?(i=lg(),i===null&&(i=ze,a=og(),i.pooledCache=a,a.refCount++,a!==null&&(i.pooledCacheLanes|=n),i=a),e.memoizedState={parent:r,cache:i},ug(e),Wr(e,ft,i)):(t.lanes&n&&(Ud(t,e),Qo(e,null,null,n),Ko()),i=t.memoizedState,a=e.memoizedState,i.parent!==r?(i={parent:r,cache:r},e.memoizedState=i,e.lanes===0&&(e.memoizedState=e.updateQueue.baseState=i),Wr(e,ft,r)):(r=a.cache,Wr(e,ft,r),r!==i.cache&&Pd(e,[ft],n,!0))),Rt(t,e,e.pendingProps.children,n),e.child;case 29:throw e.pendingProps}throw Error(B(156,e.tag))}function pr(t){t.flags|=4}function gv(t,e){if(e.type!=="stylesheet"||e.state.loading&4)t.flags&=-16777217;else if(t.flags|=16777216,!IS(e)){if(e=bn.current,e!==null&&((Re&4194048)===Re?Xn!==null:(Re&62914560)!==Re&&!(Re&536870912)||e!==Xn))throw Fo=kd,F0;t.flags|=8192}}function xu(t,e){e!==null&&(t.flags|=4),t.flags&16384&&(e=t.tag!==22?h0():536870912,t.lanes|=e,Ns|=e)}function bo(t,e){if(!De)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function k1(t,e,n){var r=e.pendingProps;switch(sg(e),e.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return Ze(e),null;case 3:return n=e.stateNode,r=null,t!==null&&(r=t.memoizedState.cache),e.memoizedState.cache!==r&&(e.flags|=2048),Ir(ft),bs(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(So(e)?pr(e):t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Gy())),Ze(e),null;case 26:return n=e.memoizedState,t===null?(pr(e),n!==null?(Ze(e),gv(e,n)):(Ze(e),e.flags&=-16777217)):n?n!==t.memoizedState?(pr(e),Ze(e),gv(e,n)):(Ze(e),e.flags&=-16777217):(t.memoizedProps!==r&&pr(e),Ze(e),e.flags&=-16777217),null;case 27:Sc(e),n=ci.current;var i=e.type;if(t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pr(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Ze(e),null}t=Yn.current,So(e)?qy(e):(t=wS(i,r,n),e.stateNode=t,pr(e))}return Ze(e),null;case 5:if(Sc(e),n=e.type,t!==null&&e.stateNode!=null)t.memoizedProps!==r&&pr(e);else{if(!r){if(e.stateNode===null)throw Error(B(166));return Ze(e),null}if(t=Yn.current,So(e))qy(e);else{switch(i=Fc(ci.current),t){case 1:t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":t=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":t=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":t=i.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof r.is=="string"?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?t.multiple=!0:r.size&&(t.size=r.size);break;default:t=typeof r.is=="string"?i.createElement(n,{is:r.is}):i.createElement(n)}}t[zt]=e,t[Zt]=r;e:for(i=e.child;i!==null;){if(i.tag===5||i.tag===6)t.appendChild(i.stateNode);else if(i.tag!==4&&i.tag!==27&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}e.stateNode=t;e:switch(Ot(t,n,r),n){case"button":case"input":case"select":case"textarea":t=!!r.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&pr(e)}}return Ze(e),e.flags&=-16777217,null;case 6:if(t&&e.stateNode!=null)t.memoizedProps!==r&&pr(e);else{if(typeof r!="string"&&e.stateNode===null)throw Error(B(166));if(t=ci.current,So(e)){if(t=e.stateNode,n=e.memoizedProps,r=null,i=Gt,i!==null)switch(i.tag){case 27:case 5:r=i.memoizedProps}t[zt]=e,t=!!(t.nodeValue===n||r!==null&&r.suppressHydrationWarning===!0||SS(t.nodeValue,n)),t||la(e)}else t=Fc(t).createTextNode(r),t[zt]=e,e.stateNode=t}return Ze(e),null;case 13:if(r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(i=So(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(B(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(B(317));i[zt]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),i=!1}else i=Gy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=i),i=!0;if(!i)return e.flags&256?(br(e),e):(br(e),null)}if(br(e),e.flags&128)return e.lanes=n,e;if(n=r!==null,t=t!==null&&t.memoizedState!==null,n){r=e.child,i=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(i=r.alternate.memoizedState.cachePool.pool);var a=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(a=r.memoizedState.cachePool.pool),a!==i&&(r.flags|=2048)}return n!==t&&n&&(e.child.flags|=8192),xu(e,e.updateQueue),Ze(e),null;case 4:return bs(),t===null&&Ng(e.stateNode.containerInfo),Ze(e),null;case 10:return Ir(e.type),Ze(e),null;case 19:if(At(dt),i=e.memoizedState,i===null)return Ze(e),null;if(r=(e.flags&128)!==0,a=i.rendering,a===null)if(r)bo(i,!1);else{if(nt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vc(t),a!==null){for(e.flags|=128,bo(i,!1),t=a.updateQueue,e.updateQueue=t,xu(e,t),e.subtreeFlags=0,t=n,n=e.child;n!==null;)j0(n,t),n=n.sibling;return Xe(dt,dt.current&1|2),e.child}t=t.sibling}i.tail!==null&&$n()>zc&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Vc(a),t!==null){if(e.flags|=128,r=!0,t=t.updateQueue,e.updateQueue=t,xu(e,t),bo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!a.alternate&&!De)return Ze(e),null}else 2*$n()-i.renderingStartTime>zc&&n!==536870912&&(e.flags|=128,r=!0,bo(i,!1),e.lanes=4194304);i.isBackwards?(a.sibling=e.child,e.child=a):(t=i.last,t!==null?t.sibling=a:e.child=a,i.last=a)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=$n(),e.sibling=null,t=dt.current,Xe(dt,r?t&1|2:t&1),e):(Ze(e),null);case 22:case 23:return br(e),cg(),r=e.memoizedState!==null,t!==null?t.memoizedState!==null!==r&&(e.flags|=8192):r&&(e.flags|=8192),r?n&536870912&&!(e.flags&128)&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),n=e.updateQueue,n!==null&&xu(e,n.retryQueue),n=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),r=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),r!==n&&(e.flags|=2048),t!==null&&At(ra),null;case 24:return n=null,t!==null&&(n=t.memoizedState.cache),e.memoizedState.cache!==n&&(e.flags|=2048),Ir(ft),Ze(e),null;case 25:return null;case 30:return null}throw Error(B(156,e.tag))}function U1(t,e){switch(sg(e),e.tag){case 1:return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ir(ft),bs(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 26:case 27:case 5:return Sc(e),null;case 13:if(br(e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(B(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return At(dt),null;case 4:return bs(),null;case 10:return Ir(e.type),null;case 22:case 23:return br(e),cg(),t!==null&&At(ra),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 24:return Ir(ft),null;case 25:return null;default:return null}}function jT(t,e){switch(sg(e),e.tag){case 3:Ir(ft),bs();break;case 26:case 27:case 5:Sc(e);break;case 4:bs();break;case 13:br(e);break;case 19:At(dt);break;case 10:Ir(e.type);break;case 22:case 23:br(e),cg(),t!==null&&At(ra);break;case 24:Ir(ft)}}function Hl(t,e){try{var n=e.updateQueue,r=n!==null?n.lastEffect:null;if(r!==null){var i=r.next;n=i;do{if((n.tag&t)===t){r=void 0;var a=n.create,s=n.inst;r=a(),s.destroy=r}n=n.next}while(n!==i)}}catch(l){Ue(e,e.return,l)}}function wi(t,e,n){try{var r=e.updateQueue,i=r!==null?r.lastEffect:null;if(i!==null){var a=i.next;r=a;do{if((r.tag&t)===t){var s=r.inst,l=s.destroy;if(l!==void 0){s.destroy=void 0,i=e;var u=n,c=l;try{c()}catch(f){Ue(i,u,f)}}}r=r.next}while(r!==a)}}catch(f){Ue(e,e.return,f)}}function BT(t){var e=t.updateQueue;if(e!==null){var n=t.stateNode;try{Q0(e,n)}catch(r){Ue(t,t.return,r)}}}function HT(t,e,n){n.props=ha(t.type,t.memoizedProps),n.state=t.memoizedState;try{n.componentWillUnmount()}catch(r){Ue(t,e,r)}}function $o(t,e){try{var n=t.ref;if(n!==null){switch(t.tag){case 26:case 27:case 5:var r=t.stateNode;break;case 30:r=t.stateNode;break;default:r=t.stateNode}typeof n=="function"?t.refCleanup=n(r):n.current=r}}catch(i){Ue(t,e,i)}}function Qn(t,e){var n=t.ref,r=t.refCleanup;if(n!==null)if(typeof r=="function")try{r()}catch(i){Ue(t,e,i)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(i){Ue(t,e,i)}else n.current=null}function qT(t){var e=t.type,n=t.memoizedProps,r=t.stateNode;try{e:switch(e){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){Ue(t,t.return,i)}}function Hf(t,e,n){try{var r=t.stateNode;aC(r,t.type,n,e),r[Zt]=e}catch(i){Ue(t,t.return,i)}}function FT(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Pi(t.type)||t.tag===4}function qf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FT(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Pi(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(t,e):(e=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,e.appendChild(t),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Lh));else if(r!==4&&(r===27&&Pi(t.type)&&(n=t.stateNode,e=null),t=t.child,t!==null))for(Yd(t,e,n),t=t.sibling;t!==null;)Yd(t,e,n),t=t.sibling}function Uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(r===27&&Pi(t.type)&&(n=t.stateNode),t=t.child,t!==null))for(Uc(t,e,n),t=t.sibling;t!==null;)Uc(t,e,n),t=t.sibling}function GT(t){var e=t.stateNode,n=t.memoizedProps;try{for(var r=t.type,i=e.attributes;i.length;)e.removeAttributeNode(i[0]);Ot(e,r,n),e[zt]=t,e[Zt]=n}catch(a){Ue(t,t.return,a)}}var vr=!1,it=!1,Ff=!1,pv=typeof WeakSet=="function"?WeakSet:Set,Et=null;function z1(t,e){if(t=t.containerInfo,nm=Yc,t=M0(t),tg(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,l=-1,u=-1,c=0,f=0,m=t,g=null;t:for(;;){for(var p;m!==n||i!==0&&m.nodeType!==3||(l=s+i),m!==a||r!==0&&m.nodeType!==3||(u=s+r),m.nodeType===3&&(s+=m.nodeValue.length),(p=m.firstChild)!==null;)g=m,m=p;for(;;){if(m===t)break t;if(g===n&&++c===i&&(l=s),g===a&&++f===r&&(u=s),(p=m.nextSibling)!==null)break;m=g,g=m.parentNode}m=p}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(rm={focusedElem:t,selectionRange:n},Yc=!1,Et=e;Et!==null;)if(e=Et,t=e.child,(e.subtreeFlags&1024)!==0&&t!==null)t.return=e,Et=t;else for(;Et!==null;){switch(e=Et,a=e.alternate,t=e.flags,e.tag){case 0:break;case 11:case 15:break;case 1:if(t&1024&&a!==null){t=void 0,n=e,i=a.memoizedProps,a=a.memoizedState,r=n.stateNode;try{var R=ha(n.type,i,n.elementType===n.type);t=r.getSnapshotBeforeUpdate(R,a),r.__reactInternalSnapshotBeforeUpdate=t}catch(N){Ue(n,n.return,N)}}break;case 3:if(t&1024){if(t=e.stateNode.containerInfo,n=t.nodeType,n===9)am(t);else if(n===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":am(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(t&1024)throw Error(B(163))}if(t=e.sibling,t!==null){t.return=e.return,Et=t;break}Et=e.return}}function KT(t,e,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Gr(t,n),r&4&&Hl(5,n);break;case 1:if(Gr(t,n),r&4)if(t=n.stateNode,e===null)try{t.componentDidMount()}catch(s){Ue(n,n.return,s)}else{var i=ha(n.type,e.memoizedProps);e=e.memoizedState;try{t.componentDidUpdate(i,e,t.__reactInternalSnapshotBeforeUpdate)}catch(s){Ue(n,n.return,s)}}r&64&&BT(n),r&512&&$o(n,n.return);break;case 3:if(Gr(t,n),r&64&&(t=n.updateQueue,t!==null)){if(e=null,n.child!==null)switch(n.child.tag){case 27:case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}try{Q0(t,e)}catch(s){Ue(n,n.return,s)}}break;case 27:e===null&&r&4&&GT(n);case 26:case 5:Gr(t,n),e===null&&r&4&&qT(n),r&512&&$o(n,n.return);break;case 12:Gr(t,n);break;case 13:Gr(t,n),r&4&&$T(t,n),r&64&&(t=n.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(n=Y1.bind(null,n),fC(t,n))));break;case 22:if(r=n.memoizedState!==null||vr,!r){e=e!==null&&e.memoizedState!==null||it,i=vr;var a=it;vr=r,(it=e)&&!a?Qr(t,n,(n.subtreeFlags&8772)!==0):Gr(t,n),vr=i,it=a}break;case 30:break;default:Gr(t,n)}}function QT(t){var e=t.alternate;e!==null&&(t.alternate=null,QT(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&$m(e)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Qe=null,$t=!1;function yr(t,e,n){for(n=n.child;n!==null;)YT(t,e,n),n=n.sibling}function YT(t,e,n){if(un&&typeof un.onCommitFiberUnmount=="function")try{un.onCommitFiberUnmount(Nl,n)}catch{}switch(n.tag){case 26:it||Qn(n,e),yr(t,e,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:it||Qn(n,e);var r=Qe,i=$t;Pi(n.type)&&(Qe=n.stateNode,$t=!1),yr(t,e,n),Jo(n.stateNode),Qe=r,$t=i;break;case 5:it||Qn(n,e);case 6:if(r=Qe,i=$t,Qe=null,yr(t,e,n),Qe=r,$t=i,Qe!==null)if($t)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(n.stateNode)}catch(a){Ue(n,e,a)}else try{Qe.removeChild(n.stateNode)}catch(a){Ue(n,e,a)}break;case 18:Qe!==null&&($t?(t=Qe,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,n.stateNode),_l(t)):Iv(Qe,n.stateNode));break;case 4:r=Qe,i=$t,Qe=n.stateNode.containerInfo,$t=!0,yr(t,e,n),Qe=r,$t=i;break;case 0:case 11:case 14:case 15:it||wi(2,n,e),it||wi(4,n,e),yr(t,e,n);break;case 1:it||(Qn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"&&HT(n,e,r)),yr(t,e,n);break;case 21:yr(t,e,n);break;case 22:it=(r=it)||n.memoizedState!==null,yr(t,e,n),it=r;break;default:yr(t,e,n)}}function $T(t,e){if(e.memoizedState===null&&(t=e.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{_l(t)}catch(n){Ue(e,e.return,n)}}function j1(t){switch(t.tag){case 13:case 19:var e=t.stateNode;return e===null&&(e=t.stateNode=new pv),e;case 22:return t=t.stateNode,e=t._retryCache,e===null&&(e=t._retryCache=new pv),e;default:throw Error(B(435,t.tag))}}function Gf(t,e){var n=j1(t);e.forEach(function(r){var i=$1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}function tn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r],a=t,s=e,l=s;e:for(;l!==null;){switch(l.tag){case 27:if(Pi(l.type)){Qe=l.stateNode,$t=!1;break e}break;case 5:Qe=l.stateNode,$t=!1;break e;case 3:case 4:Qe=l.stateNode.containerInfo,$t=!0;break e}l=l.return}if(Qe===null)throw Error(B(160));YT(a,s,i),Qe=null,$t=!1,a=i.alternate,a!==null&&(a.return=null),i.return=null}if(e.subtreeFlags&13878)for(e=e.child;e!==null;)XT(e,t),e=e.sibling}var Mn=null;function XT(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:tn(e,t),nn(t),r&4&&(wi(3,t,t.return),Hl(3,t),wi(5,t,t.return));break;case 1:tn(e,t),nn(t),r&512&&(it||n===null||Qn(n,n.return)),r&64&&vr&&(t=t.updateQueue,t!==null&&(r=t.callbacks,r!==null&&(n=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var i=Mn;if(tn(e,t),nn(t),r&512&&(it||n===null||Qn(n,n.return)),r&4){var a=n!==null?n.memoizedState:null;if(r=t.memoizedState,n===null)if(r===null)if(t.stateNode===null){e:{r=t.type,n=t.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":a=i.getElementsByTagName("title")[0],(!a||a[Vl]||a[zt]||a.namespaceURI==="http://www.w3.org/2000/svg"||a.hasAttribute("itemprop"))&&(a=i.createElement(r),i.head.insertBefore(a,i.querySelector("head > title"))),Ot(a,r,n),a[zt]=t,Tt(a),r=a;break e;case"link":var s=xv("link","href",i).get(r+(n.href||""));if(s){for(var l=0;l<s.length;l++)if(a=s[l],a.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&a.getAttribute("rel")===(n.rel==null?null:n.rel)&&a.getAttribute("title")===(n.title==null?null:n.title)&&a.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(l,1);break t}}a=i.createElement(r),Ot(a,r,n),i.head.appendChild(a);break;case"meta":if(s=xv("meta","content",i).get(r+(n.content||""))){for(l=0;l<s.length;l++)if(a=s[l],a.getAttribute("content")===(n.content==null?null:""+n.content)&&a.getAttribute("name")===(n.name==null?null:n.name)&&a.getAttribute("property")===(n.property==null?null:n.property)&&a.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&a.getAttribute("charset")===(n.charSet==null?null:n.charSet)){s.splice(l,1);break t}}a=i.createElement(r),Ot(a,r,n),i.head.appendChild(a);break;default:throw Error(B(468,r))}a[zt]=t,Tt(a),r=a}t.stateNode=r}else Vv(i,t.type,t.stateNode);else t.stateNode=Mv(i,r,t.memoizedProps);else a!==r?(a===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):a.count--,r===null?Vv(i,t.type,t.stateNode):Mv(i,r,t.memoizedProps)):r===null&&t.stateNode!==null&&Hf(t,t.memoizedProps,n.memoizedProps)}break;case 27:tn(e,t),nn(t),r&512&&(it||n===null||Qn(n,n.return)),n!==null&&r&4&&Hf(t,t.memoizedProps,n.memoizedProps);break;case 5:if(tn(e,t),nn(t),r&512&&(it||n===null||Qn(n,n.return)),t.flags&32){i=t.stateNode;try{Rs(i,"")}catch(p){Ue(t,t.return,p)}}r&4&&t.stateNode!=null&&(i=t.memoizedProps,Hf(t,i,n!==null?n.memoizedProps:i)),r&1024&&(Ff=!0);break;case 6:if(tn(e,t),nn(t),r&4){if(t.stateNode===null)throw Error(B(162));r=t.memoizedProps,n=t.stateNode;try{n.nodeValue=r}catch(p){Ue(t,t.return,p)}}break;case 3:if(ac=null,i=Mn,Mn=Gc(e.containerInfo),tn(e,t),Mn=i,nn(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_l(e.containerInfo)}catch(p){Ue(t,t.return,p)}Ff&&(Ff=!1,WT(t));break;case 4:r=Mn,Mn=Gc(t.stateNode.containerInfo),tn(e,t),nn(t),Mn=r;break;case 12:tn(e,t),nn(t);break;case 13:tn(e,t),nn(t),t.child.flags&8192&&t.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ig=$n()),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gf(t,r)));break;case 22:i=t.memoizedState!==null;var u=n!==null&&n.memoizedState!==null,c=vr,f=it;if(vr=c||i,it=f||u,tn(e,t),it=f,vr=c,nn(t),r&8192)e:for(e=t.stateNode,e._visibility=i?e._visibility&-2:e._visibility|1,i&&(n===null||u||vr||it||Qi(t)),n=null,e=t;;){if(e.tag===5||e.tag===26){if(n===null){u=n=e;try{if(a=u.stateNode,i)s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none";else{l=u.stateNode;var m=u.memoizedProps.style,g=m!=null&&m.hasOwnProperty("display")?m.display:null;l.style.display=g==null||typeof g=="boolean"?"":(""+g).trim()}}catch(p){Ue(u,u.return,p)}}}else if(e.tag===6){if(n===null){u=e;try{u.stateNode.nodeValue=i?"":u.memoizedProps}catch(p){Ue(u,u.return,p)}}}else if((e.tag!==22&&e.tag!==23||e.memoizedState===null||e===t)&&e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;n===e&&(n=null),e=e.return}n===e&&(n=null),e.sibling.return=e.return,e=e.sibling}r&4&&(r=t.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,Gf(t,n))));break;case 19:tn(e,t),nn(t),r&4&&(r=t.updateQueue,r!==null&&(t.updateQueue=null,Gf(t,r)));break;case 30:break;case 21:break;default:tn(e,t),nn(t)}}function nn(t){var e=t.flags;if(e&2){try{for(var n,r=t.return;r!==null;){if(FT(r)){n=r;break}r=r.return}if(n==null)throw Error(B(160));switch(n.tag){case 27:var i=n.stateNode,a=qf(t);Uc(t,a,i);break;case 5:var s=n.stateNode;n.flags&32&&(Rs(s,""),n.flags&=-33);var l=qf(t);Uc(t,l,s);break;case 3:case 4:var u=n.stateNode.containerInfo,c=qf(t);Yd(t,c,u);break;default:throw Error(B(161))}}catch(f){Ue(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WT(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var e=t;WT(e),e.tag===5&&e.flags&1024&&e.stateNode.reset(),t=t.sibling}}function Gr(t,e){if(e.subtreeFlags&8772)for(e=e.child;e!==null;)KT(t,e.alternate,e),e=e.sibling}function Qi(t){for(t=t.child;t!==null;){var e=t;switch(e.tag){case 0:case 11:case 14:case 15:wi(4,e,e.return),Qi(e);break;case 1:Qn(e,e.return);var n=e.stateNode;typeof n.componentWillUnmount=="function"&&HT(e,e.return,n),Qi(e);break;case 27:Jo(e.stateNode);case 26:case 5:Qn(e,e.return),Qi(e);break;case 22:e.memoizedState===null&&Qi(e);break;case 30:Qi(e);break;default:Qi(e)}t=t.sibling}}function Qr(t,e,n){for(n=n&&(e.subtreeFlags&8772)!==0,e=e.child;e!==null;){var r=e.alternate,i=t,a=e,s=a.flags;switch(a.tag){case 0:case 11:case 15:Qr(i,a,n),Hl(4,a);break;case 1:if(Qr(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount=="function")try{i.componentDidMount()}catch(c){Ue(r,r.return,c)}if(r=a,i=r.updateQueue,i!==null){var l=r.stateNode;try{var u=i.shared.hiddenCallbacks;if(u!==null)for(i.shared.hiddenCallbacks=null,i=0;i<u.length;i++)K0(u[i],l)}catch(c){Ue(r,r.return,c)}}n&&s&64&&BT(a),$o(a,a.return);break;case 27:GT(a);case 26:case 5:Qr(i,a,n),n&&r===null&&s&4&&qT(a),$o(a,a.return);break;case 12:Qr(i,a,n);break;case 13:Qr(i,a,n),n&&s&4&&$T(i,a);break;case 22:a.memoizedState===null&&Qr(i,a,n),$o(a,a.return);break;case 30:break;default:Qr(i,a,n)}e=e.sibling}}function bg(t,e){var n=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),t=null,e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(t=e.memoizedState.cachePool.pool),t!==n&&(t!=null&&t.refCount++,n!=null&&Ul(n))}function wg(t,e){t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ul(t))}function Fn(t,e,n,r){if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ZT(t,e,n,r),e=e.sibling}function ZT(t,e,n,r){var i=e.flags;switch(e.tag){case 0:case 11:case 15:Fn(t,e,n,r),i&2048&&Hl(9,e);break;case 1:Fn(t,e,n,r);break;case 3:Fn(t,e,n,r),i&2048&&(t=null,e.alternate!==null&&(t=e.alternate.memoizedState.cache),e=e.memoizedState.cache,e!==t&&(e.refCount++,t!=null&&Ul(t)));break;case 12:if(i&2048){Fn(t,e,n,r),t=e.stateNode;try{var a=e.memoizedProps,s=a.id,l=a.onPostCommit;typeof l=="function"&&l(s,e.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(u){Ue(e,e.return,u)}}else Fn(t,e,n,r);break;case 13:Fn(t,e,n,r);break;case 23:break;case 22:a=e.stateNode,s=e.alternate,e.memoizedState!==null?a._visibility&2?Fn(t,e,n,r):Xo(t,e):a._visibility&2?Fn(t,e,n,r):(a._visibility|=2,Ka(t,e,n,r,(e.subtreeFlags&10256)!==0)),i&2048&&bg(s,e);break;case 24:Fn(t,e,n,r),i&2048&&wg(e.alternate,e);break;default:Fn(t,e,n,r)}}function Ka(t,e,n,r,i){for(i=i&&(e.subtreeFlags&10256)!==0,e=e.child;e!==null;){var a=t,s=e,l=n,u=r,c=s.flags;switch(s.tag){case 0:case 11:case 15:Ka(a,s,l,u,i),Hl(8,s);break;case 23:break;case 22:var f=s.stateNode;s.memoizedState!==null?f._visibility&2?Ka(a,s,l,u,i):Xo(a,s):(f._visibility|=2,Ka(a,s,l,u,i)),i&&c&2048&&bg(s.alternate,s);break;case 24:Ka(a,s,l,u,i),i&&c&2048&&wg(s.alternate,s);break;default:Ka(a,s,l,u,i)}e=e.sibling}}function Xo(t,e){if(e.subtreeFlags&10256)for(e=e.child;e!==null;){var n=t,r=e,i=r.flags;switch(r.tag){case 22:Xo(n,r),i&2048&&bg(r.alternate,r);break;case 24:Xo(n,r),i&2048&&wg(r.alternate,r);break;default:Xo(n,r)}e=e.sibling}}var xo=8192;function Ha(t){if(t.subtreeFlags&xo)for(t=t.child;t!==null;)JT(t),t=t.sibling}function JT(t){switch(t.tag){case 26:Ha(t),t.flags&xo&&t.memoizedState!==null&&wC(Mn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var e=Mn;Mn=Gc(t.stateNode.containerInfo),Ha(t),Mn=e;break;case 22:t.memoizedState===null&&(e=t.alternate,e!==null&&e.memoizedState!==null?(e=xo,xo=16777216,Ha(t),xo=e):Ha(t));break;default:Ha(t)}}function eS(t){var e=t.alternate;if(e!==null&&(t=e.child,t!==null)){e.child=null;do e=t.sibling,t.sibling=null,t=e;while(t!==null)}}function wo(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Et=r,nS(r,t)}eS(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tS(t),t=t.sibling}function tS(t){switch(t.tag){case 0:case 11:case 15:wo(t),t.flags&2048&&wi(9,t,t.return);break;case 3:wo(t);break;case 12:wo(t);break;case 22:var e=t.stateNode;t.memoizedState!==null&&e._visibility&2&&(t.return===null||t.return.tag!==13)?(e._visibility&=-3,rc(t)):wo(t);break;default:wo(t)}}function rc(t){var e=t.deletions;if(t.flags&16){if(e!==null)for(var n=0;n<e.length;n++){var r=e[n];Et=r,nS(r,t)}eS(t)}for(t=t.child;t!==null;){switch(e=t,e.tag){case 0:case 11:case 15:wi(8,e,e.return),rc(e);break;case 22:n=e.stateNode,n._visibility&2&&(n._visibility&=-3,rc(e));break;default:rc(e)}t=t.sibling}}function nS(t,e){for(;Et!==null;){var n=Et;switch(n.tag){case 0:case 11:case 15:wi(8,n,e);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Ul(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Et=r;else e:for(n=t;Et!==null;){r=Et;var i=r.sibling,a=r.return;if(QT(r),r===n){Et=null;break e}if(i!==null){i.return=a,Et=i;break e}Et=a}}}var B1={getCacheForType:function(t){var e=jt(ft),n=e.data.get(t);return n===void 0&&(n=t(),e.data.set(t,n)),n}},H1=typeof WeakMap=="function"?WeakMap:Map,Ve=0,ze=null,ve=null,Re=0,xe=0,rn=null,oi=!1,$s=!1,Rg=!1,Mr=0,nt=0,Ri=0,ia=0,Cg=0,Sn=0,Ns=0,Wo=null,Xt=null,$d=!1,Ig=0,zc=1/0,jc=null,di=null,It=0,mi=null,Ms=null,vs=0,Xd=0,Wd=null,rS=null,Zo=0,Zd=null;function hn(){if(Ve&2&&Re!==0)return Re&-Re;if(se.T!==null){var t=Cs;return t!==0?t:Og()}return m0()}function iS(){Sn===0&&(Sn=!(Re&536870912)||De?c0():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Sn}function fn(t,e,n){(t===ze&&(xe===2||xe===9)||t.cancelPendingCommit!==null)&&(xs(t,0),li(t,Re,Sn,!1)),xl(t,n),(!(Ve&2)||t!==ze)&&(t===ze&&(!(Ve&2)&&(ia|=n),nt===4&&li(t,Re,Sn,!1)),sr(t))}function aS(t,e,n){if(Ve&6)throw Error(B(327));var r=!n&&(e&124)===0&&(e&t.expiredLanes)===0||Ml(t,e),i=r?G1(t,e):Kf(t,e,!0),a=r;do{if(i===0){$s&&!r&&li(t,e,0,!1);break}else{if(n=t.current.alternate,a&&!q1(n)){i=Kf(t,e,!1),a=!1;continue}if(i===2){if(a=e,t.errorRecoveryDisabledLanes&a)var s=0;else s=t.pendingLanes&-536870913,s=s!==0?s:s&536870912?536870912:0;if(s!==0){e=s;e:{var l=t;i=Wo;var u=l.current.memoizedState.isDehydrated;if(u&&(xs(l,s).flags|=256),s=Kf(l,s,!1),s!==2){if(Rg&&!u){l.errorRecoveryDisabledLanes|=a,ia|=a,i=4;break e}a=Xt,Xt=i,a!==null&&(Xt===null?Xt=a:Xt.push.apply(Xt,a))}i=s}if(a=!1,i!==2)continue}}if(i===1){xs(t,0),li(t,e,0,!0);break}e:{switch(r=t,a=i,a){case 0:case 1:throw Error(B(345));case 4:if((e&4194048)!==e)break;case 6:li(r,e,Sn,!oi);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(B(329))}if((e&62914560)===e&&(i=Ig+300-$n(),10<i)){if(li(r,e,Sn,!oi),Ah(r,0,!0)!==0)break e;r.timeoutHandle=bS(yv.bind(null,r,n,Xt,jc,$d,e,Sn,ia,Ns,oi,a,2,-0,0),i);break e}yv(r,n,Xt,jc,$d,e,Sn,ia,Ns,oi,a,0,-0,0)}}break}while(!0);sr(t)}function yv(t,e,n,r,i,a,s,l,u,c,f,m,g,p){if(t.timeoutHandle=-1,m=e.subtreeFlags,(m&8192||(m&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:bC},JT(e),m=RC(),m!==null)){t.cancelPendingCommit=m(_v.bind(null,t,e,a,n,r,i,s,l,u,f,1,g,p)),li(t,a,s,!c);return}_v(t,e,a,n,r,i,s,l,u)}function q1(t){for(var e=t;;){var n=e.tag;if((n===0||n===11||n===15)&&e.flags&16384&&(n=e.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!dn(a(),i))return!1}catch{return!1}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function li(t,e,n,r){e&=~Cg,e&=~ia,t.suspendedLanes|=e,t.pingedLanes&=~e,r&&(t.warmLanes|=e),r=t.expirationTimes;for(var i=e;0<i;){var a=31-cn(i),s=1<<a;r[a]=-1,i&=~s}n!==0&&f0(t,n,e)}function xh(){return Ve&6?!0:(ql(0),!1)}function Dg(){if(ve!==null){if(xe===0)var t=ve.return;else t=ve,Ar=Ea=null,gg(t),ys=null,fl=0,t=ve;for(;t!==null;)jT(t.alternate,t),t=t.return;ve=null}}function xs(t,e){var n=t.timeoutHandle;n!==-1&&(t.timeoutHandle=-1,oC(n)),n=t.cancelPendingCommit,n!==null&&(t.cancelPendingCommit=null,n()),Dg(),ze=t,ve=n=Cr(t.current,null),Re=e,xe=0,rn=null,oi=!1,$s=Ml(t,e),Rg=!1,Ns=Sn=Cg=ia=Ri=nt=0,Xt=Wo=null,$d=!1,e&8&&(e|=e&32);var r=t.entangledLanes;if(r!==0)for(t=t.entanglements,r&=e;0<r;){var i=31-cn(r),a=1<<i;e|=t[i],r&=~a}return Mr=e,Ch(),n}function sS(t,e){ge=null,se.H=xc,e===zl||e===Dh?(e=$y(),xe=3):e===F0?(e=$y(),xe=4):xe=e===VT?8:e!==null&&typeof e=="object"&&typeof e.then=="function"?6:1,rn=e,ve===null&&(nt=1,Lc(t,Tn(e,t.current)))}function oS(){var t=se.H;return se.H=xc,t===null?xc:t}function lS(){var t=se.A;return se.A=B1,t}function Jd(){nt=4,oi||(Re&4194048)!==Re&&bn.current!==null||($s=!0),!(Ri&134217727)&&!(ia&134217727)||ze===null||li(ze,Re,Sn,!1)}function Kf(t,e,n){var r=Ve;Ve|=2;var i=oS(),a=lS();(ze!==t||Re!==e)&&(jc=null,xs(t,e)),e=!1;var s=nt;e:do try{if(xe!==0&&ve!==null){var l=ve,u=rn;switch(xe){case 8:Dg(),s=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(e=!0);var c=xe;if(xe=0,rn=null,cs(t,l,u,c),n&&$s){s=0;break e}break;default:c=xe,xe=0,rn=null,cs(t,l,u,c)}}F1(),s=nt;break}catch(f){sS(t,f)}while(!0);return e&&t.shellSuspendCounter++,Ar=Ea=null,Ve=r,se.H=i,se.A=a,ve===null&&(ze=null,Re=0,Ch()),s}function F1(){for(;ve!==null;)uS(ve)}function G1(t,e){var n=Ve;Ve|=2;var r=oS(),i=lS();ze!==t||Re!==e?(jc=null,zc=$n()+500,xs(t,e)):$s=Ml(t,e);e:do try{if(xe!==0&&ve!==null){e=ve;var a=rn;t:switch(xe){case 1:xe=0,rn=null,cs(t,e,a,1);break;case 2:case 9:if(Yy(a)){xe=0,rn=null,vv(e);break}e=function(){xe!==2&&xe!==9||ze!==t||(xe=7),sr(t)},a.then(e,e);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Yy(a)?(xe=0,rn=null,vv(e)):(xe=0,rn=null,cs(t,e,a,7));break;case 5:var s=null;switch(ve.tag){case 26:s=ve.memoizedState;case 5:case 27:var l=ve;if(!s||IS(s)){xe=0,rn=null;var u=l.sibling;if(u!==null)ve=u;else{var c=l.return;c!==null?(ve=c,Vh(c)):ve=null}break t}}xe=0,rn=null,cs(t,e,a,5);break;case 6:xe=0,rn=null,cs(t,e,a,6);break;case 8:Dg(),nt=6;break e;default:throw Error(B(462))}}K1();break}catch(f){sS(t,f)}while(!0);return Ar=Ea=null,se.H=r,se.A=i,Ve=n,ve!==null?0:(ze=null,Re=0,Ch(),nt)}function K1(){for(;ve!==null&&!mR();)uS(ve)}function uS(t){var e=zT(t.alternate,t,Mr);t.memoizedProps=t.pendingProps,e===null?Vh(t):ve=e}function vv(t){var e=t,n=e.alternate;switch(e.tag){case 15:case 0:e=hv(n,e,e.pendingProps,e.type,void 0,Re);break;case 11:e=hv(n,e,e.pendingProps,e.type.render,e.ref,Re);break;case 5:gg(e);default:jT(n,e),e=ve=j0(e,Mr),e=zT(n,e,Mr)}t.memoizedProps=t.pendingProps,e===null?Vh(t):ve=e}function cs(t,e,n,r){Ar=Ea=null,gg(e),ys=null,fl=0;var i=e.return;try{if(P1(t,i,e,n,Re)){nt=1,Lc(t,Tn(n,t.current)),ve=null;return}}catch(a){if(i!==null)throw ve=i,a;nt=1,Lc(t,Tn(n,t.current)),ve=null;return}e.flags&32768?(De||r===1?t=!0:$s||Re&536870912?t=!1:(oi=t=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),cS(e,t)):Vh(e)}function Vh(t){var e=t;do{if(e.flags&32768){cS(e,oi);return}t=e.return;var n=k1(e.alternate,e,Mr);if(n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);nt===0&&(nt=5)}function cS(t,e){do{var n=U1(t.alternate,t);if(n!==null){n.flags&=32767,ve=n;return}if(n=t.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!e&&(t=t.sibling,t!==null)){ve=t;return}ve=t=n}while(t!==null);nt=6,ve=null}function _v(t,e,n,r,i,a,s,l,u){t.cancelPendingCommit=null;do Ph();while(It!==0);if(Ve&6)throw Error(B(327));if(e!==null){if(e===t.current)throw Error(B(177));if(a=e.lanes|e.childLanes,a|=ng,bR(t,n,a,s,l,u),t===ze&&(ve=ze=null,Re=0),Ms=e,mi=t,vs=n,Xd=a,Wd=i,rS=r,e.subtreeFlags&10256||e.flags&10256?(t.callbackNode=null,t.callbackPriority=0,X1(Ac,function(){return gS(),null})):(t.callbackNode=null,t.callbackPriority=0),r=(e.flags&13878)!==0,e.subtreeFlags&13878||r){r=se.T,se.T=null,i=Oe.p,Oe.p=2,s=Ve,Ve|=4;try{z1(t,e,n)}finally{Ve=s,Oe.p=i,se.T=r}}It=1,hS(),fS(),dS()}}function hS(){if(It===1){It=0;var t=mi,e=Ms,n=(e.flags&13878)!==0;if(e.subtreeFlags&13878||n){n=se.T,se.T=null;var r=Oe.p;Oe.p=2;var i=Ve;Ve|=4;try{XT(e,t);var a=rm,s=M0(t.containerInfo),l=a.focusedElem,u=a.selectionRange;if(s!==l&&l&&l.ownerDocument&&N0(l.ownerDocument.documentElement,l)){if(u!==null&&tg(l)){var c=u.start,f=u.end;if(f===void 0&&(f=c),"selectionStart"in l)l.selectionStart=c,l.selectionEnd=Math.min(f,l.value.length);else{var m=l.ownerDocument||document,g=m&&m.defaultView||window;if(g.getSelection){var p=g.getSelection(),R=l.textContent.length,N=Math.min(u.start,R),O=u.end===void 0?N:Math.min(u.end,R);!p.extend&&N>O&&(s=O,O=N,N=s);var E=jy(l,N),v=jy(l,O);if(E&&v&&(p.rangeCount!==1||p.anchorNode!==E.node||p.anchorOffset!==E.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var A=m.createRange();A.setStart(E.node,E.offset),p.removeAllRanges(),N>O?(p.addRange(A),p.extend(v.node,v.offset)):(A.setEnd(v.node,v.offset),p.addRange(A))}}}}for(m=[],p=l;p=p.parentNode;)p.nodeType===1&&m.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<m.length;l++){var M=m[l];M.element.scrollLeft=M.left,M.element.scrollTop=M.top}}Yc=!!nm,rm=nm=null}finally{Ve=i,Oe.p=r,se.T=n}}t.current=e,It=2}}function fS(){if(It===2){It=0;var t=mi,e=Ms,n=(e.flags&8772)!==0;if(e.subtreeFlags&8772||n){n=se.T,se.T=null;var r=Oe.p;Oe.p=2;var i=Ve;Ve|=4;try{KT(t,e.alternate,e)}finally{Ve=i,Oe.p=r,se.T=n}}It=3}}function dS(){if(It===4||It===3){It=0,gR();var t=mi,e=Ms,n=vs,r=rS;e.subtreeFlags&10256||e.flags&10256?It=5:(It=0,Ms=mi=null,mS(t,t.pendingLanes));var i=t.pendingLanes;if(i===0&&(di=null),Ym(n),e=e.stateNode,un&&typeof un.onCommitFiberRoot=="function")try{un.onCommitFiberRoot(Nl,e,void 0,(e.current.flags&128)===128)}catch{}if(r!==null){e=se.T,i=Oe.p,Oe.p=2,se.T=null;try{for(var a=t.onRecoverableError,s=0;s<r.length;s++){var l=r[s];a(l.value,{componentStack:l.stack})}}finally{se.T=e,Oe.p=i}}vs&3&&Ph(),sr(t),i=t.pendingLanes,n&4194090&&i&42?t===Zd?Zo++:(Zo=0,Zd=t):Zo=0,ql(0)}}function mS(t,e){(t.pooledCacheLanes&=e)===0&&(e=t.pooledCache,e!=null&&(t.pooledCache=null,Ul(e)))}function Ph(t){return hS(),fS(),dS(),gS()}function gS(){if(It!==5)return!1;var t=mi,e=Xd;Xd=0;var n=Ym(vs),r=se.T,i=Oe.p;try{Oe.p=32>n?32:n,se.T=null,n=Wd,Wd=null;var a=mi,s=vs;if(It=0,Ms=mi=null,vs=0,Ve&6)throw Error(B(331));var l=Ve;if(Ve|=4,tS(a.current),ZT(a,a.current,s,n),Ve=l,ql(0,!1),un&&typeof un.onPostCommitFiberRoot=="function")try{un.onPostCommitFiberRoot(Nl,a)}catch{}return!0}finally{Oe.p=i,se.T=r,mS(t,e)}}function Ev(t,e,n){e=Tn(n,e),e=Gd(t.stateNode,e,2),t=fi(t,e,2),t!==null&&(xl(t,2),sr(t))}function Ue(t,e,n){if(t.tag===3)Ev(t,t,n);else for(;e!==null;){if(e.tag===3){Ev(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(di===null||!di.has(r))){t=Tn(n,t),n=MT(2),r=fi(e,n,2),r!==null&&(xT(n,r,e,t),xl(r,2),sr(r));break}}e=e.return}}function Qf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new H1;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(Rg=!0,i.add(n),t=Q1.bind(null,t,e,n),e.then(t,t))}function Q1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),t.pingedLanes|=t.suspendedLanes&n,t.warmLanes&=~n,ze===t&&(Re&n)===n&&(nt===4||nt===3&&(Re&62914560)===Re&&300>$n()-Ig?!(Ve&2)&&xs(t,0):Cg|=n,Ns===Re&&(Ns=0)),sr(t)}function pS(t,e){e===0&&(e=h0()),t=Ys(t,e),t!==null&&(xl(t,e),sr(t))}function Y1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pS(t,n)}function $1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;case 22:r=t.stateNode._retryCache;break;default:throw Error(B(314))}r!==null&&r.delete(e),pS(t,n)}function X1(t,e){return Km(t,e)}var Bc=null,Qa=null,em=!1,Hc=!1,Yf=!1,aa=0;function sr(t){t!==Qa&&t.next===null&&(Qa===null?Bc=Qa=t:Qa=Qa.next=t),Hc=!0,em||(em=!0,Z1())}function ql(t,e){if(!Yf&&Hc){Yf=!0;do for(var n=!1,r=Bc;r!==null;){if(t!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var s=r.suspendedLanes,l=r.pingedLanes;a=(1<<31-cn(42|t)+1)-1,a&=i&~(s&~l),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,Tv(r,a))}else a=Re,a=Ah(r,r===ze?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Ml(r,a)||(n=!0,Tv(r,a));r=r.next}while(n);Yf=!1}}function W1(){yS()}function yS(){Hc=em=!1;var t=0;aa!==0&&(sC()&&(t=aa),aa=0);for(var e=$n(),n=null,r=Bc;r!==null;){var i=r.next,a=vS(r,e);a===0?(r.next=null,n===null?Bc=i:n.next=i,i===null&&(Qa=n)):(n=r,(t!==0||a&3)&&(Hc=!0)),r=i}ql(t)}function vS(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes&-62914561;0<a;){var s=31-cn(a),l=1<<s,u=i[s];u===-1?(!(l&n)||l&r)&&(i[s]=AR(l,e)):u<=e&&(t.expiredLanes|=l),a&=~l}if(e=ze,n=Re,n=Ah(t,t===e?n:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r=t.callbackNode,n===0||t===e&&(xe===2||xe===9)||t.cancelPendingCommit!==null)return r!==null&&r!==null&&Ef(r),t.callbackNode=null,t.callbackPriority=0;if(!(n&3)||Ml(t,n)){if(e=n&-n,e===t.callbackPriority)return e;switch(r!==null&&Ef(r),Ym(n)){case 2:case 8:n=l0;break;case 32:n=Ac;break;case 268435456:n=u0;break;default:n=Ac}return r=_S.bind(null,t),n=Km(n,r),t.callbackPriority=e,t.callbackNode=n,e}return r!==null&&r!==null&&Ef(r),t.callbackPriority=2,t.callbackNode=null,2}function _S(t,e){if(It!==0&&It!==5)return t.callbackNode=null,t.callbackPriority=0,null;var n=t.callbackNode;if(Ph()&&t.callbackNode!==n)return null;var r=Re;return r=Ah(t,t===ze?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),r===0?null:(aS(t,r,e),vS(t,$n()),t.callbackNode!=null&&t.callbackNode===n?_S.bind(null,t):null)}function Tv(t,e){if(Ph())return null;aS(t,e,!0)}function Z1(){lC(function(){Ve&6?Km(o0,W1):yS()})}function Og(){return aa===0&&(aa=c0()),aa}function Sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:$u(""+t)}function Av(t,e){var n=e.ownerDocument.createElement("input");return n.name=e.name,n.value=e.value,t.id&&n.setAttribute("form",t.id),e.parentNode.insertBefore(n,e),t=new FormData(t),n.parentNode.removeChild(n),t}function J1(t,e,n,r,i){if(e==="submit"&&n&&n.stateNode===i){var a=Sv((i[Zt]||null).action),s=r.submitter;s&&(e=(e=s[Zt]||null)?Sv(e.formAction):s.getAttribute("formAction"),e!==null&&(a=e,s=null));var l=new bh("action","action",null,r,i);t.push({event:l,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(aa!==0){var u=s?Av(i,s):new FormData(i);qd(n,{pending:!0,data:u,method:i.method,action:a},null,u)}}else typeof a=="function"&&(l.preventDefault(),u=s?Av(i,s):new FormData(i),qd(n,{pending:!0,data:u,method:i.method,action:a},a,u))},currentTarget:i}]})}}for(var $f=0;$f<Nd.length;$f++){var Xf=Nd[$f],eC=Xf.toLowerCase(),tC=Xf[0].toUpperCase()+Xf.slice(1);Un(eC,"on"+tC)}Un(V0,"onAnimationEnd");Un(P0,"onAnimationIteration");Un(L0,"onAnimationStart");Un("dblclick","onDoubleClick");Un("focusin","onFocus");Un("focusout","onBlur");Un(v1,"onTransitionRun");Un(_1,"onTransitionStart");Un(E1,"onTransitionCancel");Un(k0,"onTransitionEnd");ws("onMouseEnter",["mouseout","mouseover"]);ws("onMouseLeave",["mouseout","mouseover"]);ws("onPointerEnter",["pointerout","pointerover"]);ws("onPointerLeave",["pointerout","pointerover"]);ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function ES(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var s=r.length-1;0<=s;s--){var l=r[s],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(f){Pc(f)}i.currentTarget=null,a=u}else for(s=0;s<r.length;s++){if(l=r[s],u=l.instance,c=l.currentTarget,l=l.listener,u!==a&&i.isPropagationStopped())break e;a=l,i.currentTarget=c;try{a(i)}catch(f){Pc(f)}i.currentTarget=null,a=u}}}}function ye(t,e){var n=e[bd];n===void 0&&(n=e[bd]=new Set);var r=t+"__bubble";n.has(r)||(TS(e,t,2,!1),n.add(r))}function Wf(t,e,n){var r=0;e&&(r|=4),TS(n,t,r,e)}var Vu="_reactListening"+Math.random().toString(36).slice(2);function Ng(t){if(!t[Vu]){t[Vu]=!0,g0.forEach(function(n){n!=="selectionchange"&&(nC.has(n)||Wf(n,!1,t),Wf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vu]||(e[Vu]=!0,Wf("selectionchange",!1,e))}}function TS(t,e,n,r){switch(xS(e)){case 2:var i=DC;break;case 8:i=OC;break;default:i=Pg}n=i.bind(null,e,n,t),i=void 0,!Id||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Zf(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var l=r.stateNode.containerInfo;if(l===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;l!==null;){if(s=ts(l),s===null)return;if(u=s.tag,u===5||u===6||u===26||u===27){r=a=s;continue e}l=l.parentNode}}r=r.return}A0(function(){var c=a,f=Wm(n),m=[];e:{var g=U0.get(t);if(g!==void 0){var p=bh,R=t;switch(t){case"keypress":if(Wu(n)===0)break e;case"keydown":case"keyup":p=XR;break;case"focusin":R="focus",p=If;break;case"focusout":R="blur",p=If;break;case"beforeblur":case"afterblur":p=If;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Oy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=JR;break;case V0:case P0:case L0:p=BR;break;case k0:p=t1;break;case"scroll":case"scrollend":p=LR;break;case"wheel":p=r1;break;case"copy":case"cut":case"paste":p=qR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=My;break;case"toggle":case"beforetoggle":p=a1}var N=(e&4)!==0,O=!N&&(t==="scroll"||t==="scrollend"),E=N?g!==null?g+"Capture":null:g;N=[];for(var v=c,A;v!==null;){var M=v;if(A=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||A===null||E===null||(M=ol(v,E),M!=null&&N.push(ml(v,M,A))),O)break;v=v.return}0<N.length&&(g=new p(g,R,null,n,f),m.push({event:g,listeners:N}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",g&&n!==Cd&&(R=n.relatedTarget||n.fromElement)&&(ts(R)||R[Ks]))break e;if((p||g)&&(g=f.window===f?f:(g=f.ownerDocument)?g.defaultView||g.parentWindow:window,p?(R=n.relatedTarget||n.toElement,p=c,R=R?ts(R):null,R!==null&&(O=Ol(R),N=R.tag,R!==O||N!==5&&N!==27&&N!==6)&&(R=null)):(p=null,R=c),p!==R)){if(N=Oy,M="onMouseLeave",E="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(N=My,M="onPointerLeave",E="onPointerEnter",v="pointer"),O=p==null?g:Mo(p),A=R==null?g:Mo(R),g=new N(M,v+"leave",p,n,f),g.target=O,g.relatedTarget=A,M=null,ts(f)===c&&(N=new N(E,v+"enter",R,n,f),N.target=A,N.relatedTarget=O,M=N),O=M,p&&R)t:{for(N=p,E=R,v=0,A=N;A;A=qa(A))v++;for(A=0,M=E;M;M=qa(M))A++;for(;0<v-A;)N=qa(N),v--;for(;0<A-v;)E=qa(E),A--;for(;v--;){if(N===E||E!==null&&N===E.alternate)break t;N=qa(N),E=qa(E)}N=null}else N=null;p!==null&&bv(m,g,p,N,!1),R!==null&&O!==null&&bv(m,O,R,N,!0)}}e:{if(g=c?Mo(c):window,p=g.nodeName&&g.nodeName.toLowerCase(),p==="select"||p==="input"&&g.type==="file")var z=Ly;else if(Py(g))if(D0)z=g1;else{z=d1;var D=f1}else p=g.nodeName,!p||p.toLowerCase()!=="input"||g.type!=="checkbox"&&g.type!=="radio"?c&&Xm(c.elementType)&&(z=Ly):z=m1;if(z&&(z=z(t,c))){I0(m,z,n,f);break e}D&&D(t,g,c),t==="focusout"&&c&&g.type==="number"&&c.memoizedProps.value!=null&&Rd(g,"number",g.value)}switch(D=c?Mo(c):window,t){case"focusin":(Py(D)||D.contentEditable==="true")&&(is=D,Dd=c,Ho=null);break;case"focusout":Ho=Dd=is=null;break;case"mousedown":Od=!0;break;case"contextmenu":case"mouseup":case"dragend":Od=!1,By(m,n,f);break;case"selectionchange":if(y1)break;case"keydown":case"keyup":By(m,n,f)}var S;if(eg)e:{switch(t){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else rs?R0(t,n)&&(_="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(_="onCompositionStart");_&&(w0&&n.locale!=="ko"&&(rs||_!=="onCompositionStart"?_==="onCompositionEnd"&&rs&&(S=b0()):(si=f,Zm="value"in si?si.value:si.textContent,rs=!0)),D=qc(c,_),0<D.length&&(_=new Ny(_,t,null,n,f),m.push({event:_,listeners:D}),S?_.data=S:(S=C0(n),S!==null&&(_.data=S)))),(S=o1?l1(t,n):u1(t,n))&&(_=qc(c,"onBeforeInput"),0<_.length&&(D=new Ny("onBeforeInput","beforeinput",null,n,f),m.push({event:D,listeners:_}),D.data=S)),J1(m,t,c,n,f)}ES(m,e)})}function ml(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qc(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=ol(t,n),i!=null&&r.unshift(ml(t,i,a)),i=ol(t,e),i!=null&&r.push(ml(t,i,a))),t.tag===3)return r;t=t.return}return[]}function qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function bv(t,e,n,r,i){for(var a=e._reactName,s=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(l=l.tag,u!==null&&u===r)break;l!==5&&l!==26&&l!==27||c===null||(u=c,i?(c=ol(n,a),c!=null&&s.unshift(ml(n,c,u))):i||(c=ol(n,a),c!=null&&s.push(ml(n,c,u)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var rC=/\r\n?/g,iC=/\u0000|\uFFFD/g;function wv(t){return(typeof t=="string"?t:""+t).replace(rC,`
`).replace(iC,"")}function SS(t,e){return e=wv(e),wv(t)===e}function Lh(){}function Pe(t,e,n,r,i,a){switch(n){case"children":typeof r=="string"?e==="body"||e==="textarea"&&r===""||Rs(t,r):(typeof r=="number"||typeof r=="bigint")&&e!=="body"&&Rs(t,""+r);break;case"className":Cu(t,"class",r);break;case"tabIndex":Cu(t,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":Cu(t,n,r);break;case"style":S0(t,r,a);break;case"data":if(e!=="object"){Cu(t,"data",r);break}case"src":case"href":if(r===""&&(e!=="a"||n!=="href")){t.removeAttribute(n);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$u(""+r),t.setAttribute(n,r);break;case"action":case"formAction":if(typeof r=="function"){t.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof a=="function"&&(n==="formAction"?(e!=="input"&&Pe(t,e,"name",i.name,i,null),Pe(t,e,"formEncType",i.formEncType,i,null),Pe(t,e,"formMethod",i.formMethod,i,null),Pe(t,e,"formTarget",i.formTarget,i,null)):(Pe(t,e,"encType",i.encType,i,null),Pe(t,e,"method",i.method,i,null),Pe(t,e,"target",i.target,i,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){t.removeAttribute(n);break}r=$u(""+r),t.setAttribute(n,r);break;case"onClick":r!=null&&(t.onclick=Lh);break;case"onScroll":r!=null&&ye("scroll",t);break;case"onScrollEnd":r!=null&&ye("scrollend",t);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"multiple":t.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":t.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){t.removeAttribute("xlink:href");break}n=$u(""+r),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""+r):t.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,""):t.removeAttribute(n);break;case"capture":case"download":r===!0?t.setAttribute(n,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?t.setAttribute(n,r):t.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?t.setAttribute(n,r):t.removeAttribute(n);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?t.removeAttribute(n):t.setAttribute(n,r);break;case"popover":ye("beforetoggle",t),ye("toggle",t),Yu(t,"popover",r);break;case"xlinkActuate":gr(t,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":gr(t,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":gr(t,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":gr(t,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":gr(t,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":gr(t,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":gr(t,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":gr(t,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":gr(t,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Yu(t,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=VR.get(n)||n,Yu(t,n,r))}}function tm(t,e,n,r,i,a){switch(n){case"style":S0(t,r,a);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(B(61));if(n=r.__html,n!=null){if(i.children!=null)throw Error(B(60));t.innerHTML=n}}break;case"children":typeof r=="string"?Rs(t,r):(typeof r=="number"||typeof r=="bigint")&&Rs(t,""+r);break;case"onScroll":r!=null&&ye("scroll",t);break;case"onScrollEnd":r!=null&&ye("scrollend",t);break;case"onClick":r!=null&&(t.onclick=Lh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!p0.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(i=n.endsWith("Capture"),e=n.slice(2,i?n.length-7:void 0),a=t[Zt]||null,a=a!=null?a[n]:null,typeof a=="function"&&t.removeEventListener(e,a,i),typeof r=="function")){typeof a!="function"&&a!==null&&(n in t?t[n]=null:t.hasAttribute(n)&&t.removeAttribute(n)),t.addEventListener(e,r,i);break e}n in t?t[n]=r:r===!0?t.setAttribute(n,""):Yu(t,n,r)}}}function Ot(t,e,n){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ye("error",t),ye("load",t);var r=!1,i=!1,a;for(a in n)if(n.hasOwnProperty(a)){var s=n[a];if(s!=null)switch(a){case"src":r=!0;break;case"srcSet":i=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Pe(t,e,a,s,n,null)}}i&&Pe(t,e,"srcSet",n.srcSet,n,null),r&&Pe(t,e,"src",n.src,n,null);return;case"input":ye("invalid",t);var l=a=s=i=null,u=null,c=null;for(r in n)if(n.hasOwnProperty(r)){var f=n[r];if(f!=null)switch(r){case"name":i=f;break;case"type":s=f;break;case"checked":u=f;break;case"defaultChecked":c=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(f!=null)throw Error(B(137,e));break;default:Pe(t,e,r,f,n,null)}}_0(t,a,l,u,c,s,i,!1),bc(t);return;case"select":ye("invalid",t),r=s=a=null;for(i in n)if(n.hasOwnProperty(i)&&(l=n[i],l!=null))switch(i){case"value":a=l;break;case"defaultValue":s=l;break;case"multiple":r=l;default:Pe(t,e,i,l,n,null)}e=a,n=s,t.multiple=!!r,e!=null?fs(t,!!r,e,!1):n!=null&&fs(t,!!r,n,!0);return;case"textarea":ye("invalid",t),a=i=r=null;for(s in n)if(n.hasOwnProperty(s)&&(l=n[s],l!=null))switch(s){case"value":r=l;break;case"defaultValue":i=l;break;case"children":a=l;break;case"dangerouslySetInnerHTML":if(l!=null)throw Error(B(91));break;default:Pe(t,e,s,l,n,null)}T0(t,r,i,a),bc(t);return;case"option":for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case"selected":t.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Pe(t,e,u,r,n,null)}return;case"dialog":ye("beforetoggle",t),ye("toggle",t),ye("cancel",t),ye("close",t);break;case"iframe":case"object":ye("load",t);break;case"video":case"audio":for(r=0;r<dl.length;r++)ye(dl[r],t);break;case"image":ye("error",t),ye("load",t);break;case"details":ye("toggle",t);break;case"embed":case"source":case"link":ye("error",t),ye("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(c in n)if(n.hasOwnProperty(c)&&(r=n[c],r!=null))switch(c){case"children":case"dangerouslySetInnerHTML":throw Error(B(137,e));default:Pe(t,e,c,r,n,null)}return;default:if(Xm(e)){for(f in n)n.hasOwnProperty(f)&&(r=n[f],r!==void 0&&tm(t,e,f,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(r=n[l],r!=null&&Pe(t,e,l,r,n,null))}function aC(t,e,n,r){switch(e){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,l=null,u=null,c=null,f=null;for(p in n){var m=n[p];if(n.hasOwnProperty(p)&&m!=null)switch(p){case"checked":break;case"value":break;case"defaultValue":u=m;default:r.hasOwnProperty(p)||Pe(t,e,p,null,r,m)}}for(var g in r){var p=r[g];if(m=n[g],r.hasOwnProperty(g)&&(p!=null||m!=null))switch(g){case"type":a=p;break;case"name":i=p;break;case"checked":c=p;break;case"defaultChecked":f=p;break;case"value":s=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(p!=null)throw Error(B(137,e));break;default:p!==m&&Pe(t,e,g,p,r,m)}}wd(t,s,l,u,c,f,a,i);return;case"select":p=s=l=g=null;for(a in n)if(u=n[a],n.hasOwnProperty(a)&&u!=null)switch(a){case"value":break;case"multiple":p=u;default:r.hasOwnProperty(a)||Pe(t,e,a,null,r,u)}for(i in r)if(a=r[i],u=n[i],r.hasOwnProperty(i)&&(a!=null||u!=null))switch(i){case"value":g=a;break;case"defaultValue":l=a;break;case"multiple":s=a;default:a!==u&&Pe(t,e,i,a,r,u)}e=l,n=s,r=p,g!=null?fs(t,!!n,g,!1):!!r!=!!n&&(e!=null?fs(t,!!n,e,!0):fs(t,!!n,n?[]:"",!1));return;case"textarea":p=g=null;for(l in n)if(i=n[l],n.hasOwnProperty(l)&&i!=null&&!r.hasOwnProperty(l))switch(l){case"value":break;case"children":break;default:Pe(t,e,l,null,r,i)}for(s in r)if(i=r[s],a=n[s],r.hasOwnProperty(s)&&(i!=null||a!=null))switch(s){case"value":g=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(i!=null)throw Error(B(91));break;default:i!==a&&Pe(t,e,s,i,r,a)}E0(t,g,p);return;case"option":for(var R in n)if(g=n[R],n.hasOwnProperty(R)&&g!=null&&!r.hasOwnProperty(R))switch(R){case"selected":t.selected=!1;break;default:Pe(t,e,R,null,r,g)}for(u in r)if(g=r[u],p=n[u],r.hasOwnProperty(u)&&g!==p&&(g!=null||p!=null))switch(u){case"selected":t.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Pe(t,e,u,g,r,p)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in n)g=n[N],n.hasOwnProperty(N)&&g!=null&&!r.hasOwnProperty(N)&&Pe(t,e,N,null,r,g);for(c in r)if(g=r[c],p=n[c],r.hasOwnProperty(c)&&g!==p&&(g!=null||p!=null))switch(c){case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(B(137,e));break;default:Pe(t,e,c,g,r,p)}return;default:if(Xm(e)){for(var O in n)g=n[O],n.hasOwnProperty(O)&&g!==void 0&&!r.hasOwnProperty(O)&&tm(t,e,O,void 0,r,g);for(f in r)g=r[f],p=n[f],!r.hasOwnProperty(f)||g===p||g===void 0&&p===void 0||tm(t,e,f,g,r,p);return}}for(var E in n)g=n[E],n.hasOwnProperty(E)&&g!=null&&!r.hasOwnProperty(E)&&Pe(t,e,E,null,r,g);for(m in r)g=r[m],p=n[m],!r.hasOwnProperty(m)||g===p||g==null&&p==null||Pe(t,e,m,g,r,p)}var nm=null,rm=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function Rv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AS(t,e){if(t===0)switch(e){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&e==="foreignObject"?0:t}function im(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.children=="bigint"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Jf=null;function sC(){var t=window.event;return t&&t.type==="popstate"?t===Jf?!1:(Jf=t,!0):(Jf=null,!1)}var bS=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Cv=typeof Promise=="function"?Promise:void 0,lC=typeof queueMicrotask=="function"?queueMicrotask:typeof Cv<"u"?function(t){return Cv.resolve(null).then(t).catch(uC)}:bS;function uC(t){setTimeout(function(){throw t})}function Pi(t){return t==="head"}function Iv(t,e){var n=e,r=0,i=0;do{var a=n.nextSibling;if(t.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(0<r&&8>r){n=r;var s=t.ownerDocument;if(n&1&&Jo(s.documentElement),n&2&&Jo(s.body),n&4)for(n=s.head,Jo(n),s=n.firstChild;s;){var l=s.nextSibling,u=s.nodeName;s[Vl]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&s.rel.toLowerCase()==="stylesheet"||n.removeChild(s),s=l}}if(i===0){t.removeChild(a),_l(e);return}i--}else n==="$"||n==="$?"||n==="$!"?i++:r=n.charCodeAt(0)-48;else r=0;n=a}while(n);_l(e)}function am(t){var e=t.firstChild;for(e&&e.nodeType===10&&(e=e.nextSibling);e;){var n=e;switch(e=e.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":am(n),$m(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}t.removeChild(n)}}function cC(t,e,n,r){for(;t.nodeType===1;){var i=n;if(t.nodeName.toLowerCase()!==e.toLowerCase()){if(!r&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(r){if(!t[Vl])switch(e){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(a=t.getAttribute("rel"),a==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(a!==i.rel||t.getAttribute("href")!==(i.href==null||i.href===""?null:i.href)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin)||t.getAttribute("title")!==(i.title==null?null:i.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(a=t.getAttribute("src"),(a!==(i.src==null?null:i.src)||t.getAttribute("type")!==(i.type==null?null:i.type)||t.getAttribute("crossorigin")!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(e==="input"&&t.type==="hidden"){var a=i.name==null?null:""+i.name;if(i.type==="hidden"&&t.getAttribute("name")===a)return t}else return t;if(t=Ln(t.nextSibling),t===null)break}return null}function hC(t,e,n){if(e==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!n||(t=Ln(t.nextSibling),t===null))return null;return t}function sm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function fC(t,e){var n=t.ownerDocument;if(t.data!=="$?"||n.readyState==="complete")e();else{var r=function(){e(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),t._reactRetry=r}}function Ln(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?"||e==="F!"||e==="F")break;if(e==="/$")return null}}return t}var om=null;function Dv(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}function wS(t,e,n){switch(e=Fc(n),t){case"html":if(t=e.documentElement,!t)throw Error(B(452));return t;case"head":if(t=e.head,!t)throw Error(B(453));return t;case"body":if(t=e.body,!t)throw Error(B(454));return t;default:throw Error(B(451))}}function Jo(t){for(var e=t.attributes;e.length;)t.removeAttributeNode(e[0]);$m(t)}var wn=new Map,Ov=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var kr=Oe.d;Oe.d={f:dC,r:mC,D:gC,C:pC,L:yC,m:vC,X:EC,S:_C,M:TC};function dC(){var t=kr.f(),e=xh();return t||e}function mC(t){var e=Qs(t);e!==null&&e.tag===5&&e.type==="form"?vT(e):kr.r(t)}var Xs=typeof document>"u"?null:document;function RS(t,e,n){var r=Xs;if(r&&typeof e=="string"&&e){var i=En(e);i='link[rel="'+t+'"][href="'+i+'"]',typeof n=="string"&&(i+='[crossorigin="'+n+'"]'),Ov.has(i)||(Ov.add(i),t={rel:t,crossOrigin:n,href:e},r.querySelector(i)===null&&(e=r.createElement("link"),Ot(e,"link",t),Tt(e),r.head.appendChild(e)))}}function gC(t){kr.D(t),RS("dns-prefetch",t,null)}function pC(t,e){kr.C(t,e),RS("preconnect",t,e)}function yC(t,e,n){kr.L(t,e,n);var r=Xs;if(r&&t&&e){var i='link[rel="preload"][as="'+En(e)+'"]';e==="image"&&n&&n.imageSrcSet?(i+='[imagesrcset="'+En(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(i+='[imagesizes="'+En(n.imageSizes)+'"]')):i+='[href="'+En(t)+'"]';var a=i;switch(e){case"style":a=Vs(t);break;case"script":a=Ws(t)}wn.has(a)||(t=Fe({rel:"preload",href:e==="image"&&n&&n.imageSrcSet?void 0:t,as:e},n),wn.set(a,t),r.querySelector(i)!==null||e==="style"&&r.querySelector(Fl(a))||e==="script"&&r.querySelector(Gl(a))||(e=r.createElement("link"),Ot(e,"link",t),Tt(e),r.head.appendChild(e)))}}function vC(t,e){kr.m(t,e);var n=Xs;if(n&&t){var r=e&&typeof e.as=="string"?e.as:"script",i='link[rel="modulepreload"][as="'+En(r)+'"][href="'+En(t)+'"]',a=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Ws(t)}if(!wn.has(a)&&(t=Fe({rel:"modulepreload",href:t},e),wn.set(a,t),n.querySelector(i)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Gl(a)))return}r=n.createElement("link"),Ot(r,"link",t),Tt(r),n.head.appendChild(r)}}}function _C(t,e,n){kr.S(t,e,n);var r=Xs;if(r&&t){var i=hs(r).hoistableStyles,a=Vs(t);e=e||"default";var s=i.get(a);if(!s){var l={loading:0,preload:null};if(s=r.querySelector(Fl(a)))l.loading=5;else{t=Fe({rel:"stylesheet",href:t,"data-precedence":e},n),(n=wn.get(a))&&Mg(t,n);var u=s=r.createElement("link");Tt(u),Ot(u,"link",t),u._p=new Promise(function(c,f){u.onload=c,u.onerror=f}),u.addEventListener("load",function(){l.loading|=1}),u.addEventListener("error",function(){l.loading|=2}),l.loading|=4,ic(s,e,r)}s={type:"stylesheet",instance:s,count:1,state:l},i.set(a,s)}}}function EC(t,e){kr.X(t,e);var n=Xs;if(n&&t){var r=hs(n).hoistableScripts,i=Ws(t),a=r.get(i);a||(a=n.querySelector(Gl(i)),a||(t=Fe({src:t,async:!0},e),(e=wn.get(i))&&xg(t,e),a=n.createElement("script"),Tt(a),Ot(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function TC(t,e){kr.M(t,e);var n=Xs;if(n&&t){var r=hs(n).hoistableScripts,i=Ws(t),a=r.get(i);a||(a=n.querySelector(Gl(i)),a||(t=Fe({src:t,async:!0,type:"module"},e),(e=wn.get(i))&&xg(t,e),a=n.createElement("script"),Tt(a),Ot(a,"link",t),n.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},r.set(i,a))}}function Nv(t,e,n,r){var i=(i=ci.current)?Gc(i):null;if(!i)throw Error(B(446));switch(t){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(e=Vs(n.href),n=hs(i).hoistableStyles,r=n.get(e),r||(r={type:"style",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){t=Vs(n.href);var a=hs(i).hoistableStyles,s=a.get(t);if(s||(i=i.ownerDocument||i,s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},a.set(t,s),(a=i.querySelector(Fl(t)))&&!a._p&&(s.instance=a,s.state.loading=5),wn.has(t)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wn.set(t,n),a||SC(i,t,n,s.state))),e&&r===null)throw Error(B(528,""));return s}if(e&&r!==null)throw Error(B(529,""));return null;case"script":return e=n.async,n=n.src,typeof n=="string"&&e&&typeof e!="function"&&typeof e!="symbol"?(e=Ws(n),n=hs(i).hoistableScripts,r=n.get(e),r||(r={type:"script",instance:null,count:0,state:null},n.set(e,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(B(444,t))}}function Vs(t){return'href="'+En(t)+'"'}function Fl(t){return'link[rel="stylesheet"]['+t+"]"}function CS(t){return Fe({},t,{"data-precedence":t.precedence,precedence:null})}function SC(t,e,n,r){t.querySelector('link[rel="preload"][as="style"]['+e+"]")?r.loading=1:(e=t.createElement("link"),r.preload=e,e.addEventListener("load",function(){return r.loading|=1}),e.addEventListener("error",function(){return r.loading|=2}),Ot(e,"link",n),Tt(e),t.head.appendChild(e))}function Ws(t){return'[src="'+En(t)+'"]'}function Gl(t){return"script[async]"+t}function Mv(t,e,n){if(e.count++,e.instance===null)switch(e.type){case"style":var r=t.querySelector('style[data-href~="'+En(n.href)+'"]');if(r)return e.instance=r,Tt(r),r;var i=Fe({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(t.ownerDocument||t).createElement("style"),Tt(r),Ot(r,"style",i),ic(r,n.precedence,t),e.instance=r;case"stylesheet":i=Vs(n.href);var a=t.querySelector(Fl(i));if(a)return e.state.loading|=4,e.instance=a,Tt(a),a;r=CS(n),(i=wn.get(i))&&Mg(r,i),a=(t.ownerDocument||t).createElement("link"),Tt(a);var s=a;return s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),Ot(a,"link",r),e.state.loading|=4,ic(a,n.precedence,t),e.instance=a;case"script":return a=Ws(n.src),(i=t.querySelector(Gl(a)))?(e.instance=i,Tt(i),i):(r=n,(i=wn.get(a))&&(r=Fe({},n),xg(r,i)),t=t.ownerDocument||t,i=t.createElement("script"),Tt(i),Ot(i,"link",r),t.head.appendChild(i),e.instance=i);case"void":return null;default:throw Error(B(443,e.type))}else e.type==="stylesheet"&&!(e.state.loading&4)&&(r=e.instance,e.state.loading|=4,ic(r,n.precedence,t));return e.instance}function ic(t,e,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,a=i,s=0;s<r.length;s++){var l=r[s];if(l.dataset.precedence===e)a=l;else if(a!==i)break}a?a.parentNode.insertBefore(t,a.nextSibling):(e=n.nodeType===9?n.head:n,e.insertBefore(t,e.firstChild))}function Mg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.title==null&&(t.title=e.title)}function xg(t,e){t.crossOrigin==null&&(t.crossOrigin=e.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=e.referrerPolicy),t.integrity==null&&(t.integrity=e.integrity)}var ac=null;function xv(t,e,n){if(ac===null){var r=new Map,i=ac=new Map;i.set(n,r)}else i=ac,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(t))return r;for(r.set(t,null),n=n.getElementsByTagName(t),i=0;i<n.length;i++){var a=n[i];if(!(a[Vl]||a[zt]||t==="link"&&a.getAttribute("rel")==="stylesheet")&&a.namespaceURI!=="http://www.w3.org/2000/svg"){var s=a.getAttribute(e)||"";s=t+s;var l=r.get(s);l?l.push(a):r.set(s,[a])}}return r}function Vv(t,e,n){t=t.ownerDocument||t,t.head.insertBefore(n,e==="title"?t.querySelector("head > title"):null)}function AC(t,e,n){if(n===1||e.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof e.precedence!="string"||typeof e.href!="string"||e.href==="")break;return!0;case"link":if(typeof e.rel!="string"||typeof e.href!="string"||e.href===""||e.onLoad||e.onError)break;switch(e.rel){case"stylesheet":return t=e.disabled,typeof e.precedence=="string"&&t==null;default:return!0}case"script":if(e.async&&typeof e.async!="function"&&typeof e.async!="symbol"&&!e.onLoad&&!e.onError&&e.src&&typeof e.src=="string")return!0}return!1}function IS(t){return!(t.type==="stylesheet"&&!(t.state.loading&3))}var gl=null;function bC(){}function wC(t,e,n){if(gl===null)throw Error(B(475));var r=gl;if(e.type==="stylesheet"&&(typeof n.media!="string"||matchMedia(n.media).matches!==!1)&&!(e.state.loading&4)){if(e.instance===null){var i=Vs(n.href),a=t.querySelector(Fl(i));if(a){t=a._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(r.count++,r=Kc.bind(r),t.then(r,r)),e.state.loading|=4,e.instance=a,Tt(a);return}a=t.ownerDocument||t,n=CS(n),(i=wn.get(i))&&Mg(n,i),a=a.createElement("link"),Tt(a);var s=a;s._p=new Promise(function(l,u){s.onload=l,s.onerror=u}),Ot(a,"link",n),e.instance=a}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(e,t),(t=e.state.preload)&&!(e.state.loading&3)&&(r.count++,e=Kc.bind(r),t.addEventListener("load",e),t.addEventListener("error",e))}}function RC(){if(gl===null)throw Error(B(475));var t=gl;return t.stylesheets&&t.count===0&&lm(t,t.stylesheets),0<t.count?function(e){var n=setTimeout(function(){if(t.stylesheets&&lm(t,t.stylesheets),t.unsuspend){var r=t.unsuspend;t.unsuspend=null,r()}},6e4);return t.unsuspend=e,function(){t.unsuspend=null,clearTimeout(n)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)lm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function lm(t,e){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,e.forEach(CC,t),Qc=null,Kc.call(t))}function CC(t,e){if(!(e.state.loading&4)){var n=Qc.get(t);if(n)var r=n.get(null);else{n=new Map,Qc.set(t,n);for(var i=t.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var s=i[a];(s.nodeName==="LINK"||s.getAttribute("media")!=="not all")&&(n.set(s.dataset.precedence,s),r=s)}r&&n.set(null,r)}i=e.instance,s=i.getAttribute("data-precedence"),a=n.get(s)||r,a===r&&n.set(null,i),n.set(s,i),this.count++,r=Kc.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),a?a.parentNode.insertBefore(i,a.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(i,t.firstChild)),e.state.loading|=4}}var pl={$$typeof:Er,Provider:null,Consumer:null,_currentValue:Ji,_currentValue2:Ji,_threadCount:0};function IC(t,e,n,r,i,a,s,l){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Tf(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tf(0),this.hiddenUpdates=Tf(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=l,this.incompleteTransitions=new Map}function DS(t,e,n,r,i,a,s,l,u,c,f,m){return t=new IC(t,e,n,s,l,u,c,m),e=1,a===!0&&(e|=24),a=on(3,null,null,e),t.current=a,a.stateNode=t,e=og(),e.refCount++,t.pooledCache=e,e.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:e},ug(a),t}function OS(t){return t?(t=os,t):os}function NS(t,e,n,r,i,a){i=OS(i),r.context===null?r.context=i:r.pendingContext=i,r=hi(e),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=fi(t,r,e),n!==null&&(fn(n,t,e),Go(n,t,e))}function Pv(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Vg(t,e){Pv(t,e),(t=t.alternate)&&Pv(t,e)}function MS(t){if(t.tag===13){var e=Ys(t,67108864);e!==null&&fn(e,t,67108864),Vg(t,67108864)}}var Yc=!0;function DC(t,e,n,r){var i=se.T;se.T=null;var a=Oe.p;try{Oe.p=2,Pg(t,e,n,r)}finally{Oe.p=a,se.T=i}}function OC(t,e,n,r){var i=se.T;se.T=null;var a=Oe.p;try{Oe.p=8,Pg(t,e,n,r)}finally{Oe.p=a,se.T=i}}function Pg(t,e,n,r){if(Yc){var i=um(r);if(i===null)Zf(t,e,r,$c,n),Lv(t,r);else if(MC(i,t,e,n,r))r.stopPropagation();else if(Lv(t,r),e&4&&-1<NC.indexOf(t)){for(;i!==null;){var a=Qs(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var s=Gi(a.pendingLanes);if(s!==0){var l=a;for(l.pendingLanes|=2,l.entangledLanes|=2;s;){var u=1<<31-cn(s);l.entanglements[1]|=u,s&=~u}sr(a),!(Ve&6)&&(zc=$n()+500,ql(0))}}break;case 13:l=Ys(a,2),l!==null&&fn(l,a,2),xh(),Vg(a,2)}if(a=um(r),a===null&&Zf(t,e,r,$c,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Zf(t,e,r,null,n)}}function um(t){return t=Wm(t),Lg(t)}var $c=null;function Lg(t){if($c=null,t=ts(t),t!==null){var e=Ol(t);if(e===null)t=null;else{var n=e.tag;if(n===13){if(t=r0(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null)}}return $c=t,null}function xS(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pR()){case o0:return 2;case l0:return 8;case Ac:case yR:return 32;case u0:return 268435456;default:return 32}default:return 32}}var cm=!1,gi=null,pi=null,yi=null,yl=new Map,vl=new Map,ei=[],NC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Lv(t,e){switch(t){case"focusin":case"focusout":gi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":yi=null;break;case"pointerover":case"pointerout":yl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(e.pointerId)}}function Ro(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=Qs(e),e!==null&&MS(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function MC(t,e,n,r,i){switch(e){case"focusin":return gi=Ro(gi,t,e,n,r,i),!0;case"dragenter":return pi=Ro(pi,t,e,n,r,i),!0;case"mouseover":return yi=Ro(yi,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return yl.set(a,Ro(yl.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,vl.set(a,Ro(vl.get(a)||null,t,e,n,r,i)),!0}return!1}function VS(t){var e=ts(t.target);if(e!==null){var n=Ol(e);if(n!==null){if(e=n.tag,e===13){if(e=r0(n),e!==null){t.blockedOn=e,wR(t.priority,function(){if(n.tag===13){var r=hn();r=Qm(r);var i=Ys(n,r);i!==null&&fn(i,n,r),Vg(n,r)}});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=um(t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Cd=r,n.target.dispatchEvent(r),Cd=null}else return e=Qs(n),e!==null&&MS(e),t.blockedOn=n,!1;e.shift()}return!0}function kv(t,e,n){sc(t)&&n.delete(e)}function xC(){cm=!1,gi!==null&&sc(gi)&&(gi=null),pi!==null&&sc(pi)&&(pi=null),yi!==null&&sc(yi)&&(yi=null),yl.forEach(kv),vl.forEach(kv)}function Pu(t,e){t.blockedOn===e&&(t.blockedOn=null,cm||(cm=!0,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,xC)))}var Lu=null;function Uv(t){Lu!==t&&(Lu=t,yt.unstable_scheduleCallback(yt.unstable_NormalPriority,function(){Lu===t&&(Lu=null);for(var e=0;e<t.length;e+=3){var n=t[e],r=t[e+1],i=t[e+2];if(typeof r!="function"){if(Lg(r||n)===null)continue;break}var a=Qs(n);a!==null&&(t.splice(e,3),e-=3,qd(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function _l(t){function e(u){return Pu(u,t)}gi!==null&&Pu(gi,t),pi!==null&&Pu(pi,t),yi!==null&&Pu(yi,t),yl.forEach(e),vl.forEach(e);for(var n=0;n<ei.length;n++){var r=ei[n];r.blockedOn===t&&(r.blockedOn=null)}for(;0<ei.length&&(n=ei[0],n.blockedOn===null);)VS(n),n.blockedOn===null&&ei.shift();if(n=(t.ownerDocument||t).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],s=i[Zt]||null;if(typeof a=="function")s||Uv(n);else if(s){var l=null;if(a&&a.hasAttribute("formAction")){if(i=a,s=a[Zt]||null)l=s.formAction;else if(Lg(i)!==null)continue}else l=s.action;typeof l=="function"?n[r+1]=l:(n.splice(r,3),r-=3),Uv(n)}}}function kg(t){this._internalRoot=t}kh.prototype.render=kg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(B(409));var n=e.current,r=hn();NS(n,r,t,e,null,null)};kh.prototype.unmount=kg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;NS(t.current,2,null,t,null,null),xh(),e[Ks]=null}};function kh(t){this._internalRoot=t}kh.prototype.unstable_scheduleHydration=function(t){if(t){var e=m0();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ei.length&&e!==0&&e<ei[n].priority;n++);ei.splice(n,0,t),n===0&&VS(t)}};var zv=t0.version;if(zv!=="19.1.0")throw Error(B(527,zv,"19.1.0"));Oe.findDOMNode=function(t){var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(B(188)):(t=Object.keys(t).join(","),Error(B(268,t)));return t=uR(e),t=t!==null?i0(t):null,t=t===null?null:t.stateNode,t};var VC={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:se,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{Nl=ku.inject(VC),un=ku}catch{}}Th.createRoot=function(t,e){if(!n0(t))throw Error(B(299));var n=!1,r="",i=DT,a=OT,s=NT,l=null;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onUncaughtError!==void 0&&(i=e.onUncaughtError),e.onCaughtError!==void 0&&(a=e.onCaughtError),e.onRecoverableError!==void 0&&(s=e.onRecoverableError),e.unstable_transitionCallbacks!==void 0&&(l=e.unstable_transitionCallbacks)),e=DS(t,1,!1,null,null,n,r,i,a,s,l,null),t[Ks]=e.current,Ng(t),new kg(e)};Th.hydrateRoot=function(t,e,n){if(!n0(t))throw Error(B(299));var r=!1,i="",a=DT,s=OT,l=NT,u=null,c=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onUncaughtError!==void 0&&(a=n.onUncaughtError),n.onCaughtError!==void 0&&(s=n.onCaughtError),n.onRecoverableError!==void 0&&(l=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(u=n.unstable_transitionCallbacks),n.formState!==void 0&&(c=n.formState)),e=DS(t,1,!0,e,n??null,r,i,a,s,l,u,c),e.context=OS(null),n=e.current,r=hn(),r=Qm(r),i=hi(r),i.callback=null,fi(n,i,r),n=r,e.current.lanes=n,xl(e,n),sr(e),t[Ks]=e.current,Ng(t),new kh(e)};Th.version="19.1.0";function PS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(PS)}catch(t){console.error(t)}}PS(),YE.exports=Th;var PC=YE.exports;const LC=UE(PC);var Ug={};Object.defineProperty(Ug,"__esModule",{value:!0});Ug.parse=qC;Ug.serialize=FC;const kC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,UC=/^[\u0021-\u003A\u003C-\u007E]*$/,zC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,jC=/^[\u0020-\u003A\u003D-\u007E]*$/,BC=Object.prototype.toString,HC=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function qC(t,e){const n=new HC,r=t.length;if(r<2)return n;const i=(e==null?void 0:e.decode)||GC;let a=0;do{const s=t.indexOf("=",a);if(s===-1)break;const l=t.indexOf(";",a),u=l===-1?r:l;if(s>u){a=t.lastIndexOf(";",s-1)+1;continue}const c=jv(t,a,s),f=Bv(t,s,c),m=t.slice(c,f);if(n[m]===void 0){let g=jv(t,s+1,u),p=Bv(t,u,g);const R=i(t.slice(g,p));n[m]=R}a=u+1}while(a<r);return n}function jv(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function Bv(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function FC(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!kC.test(t))throw new TypeError(`argument name is invalid: ${t}`);const i=r(e);if(!UC.test(i))throw new TypeError(`argument val is invalid: ${e}`);let a=t+"="+i;if(!n)return a;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);a+="; Max-Age="+n.maxAge}if(n.domain){if(!zC.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);a+="; Domain="+n.domain}if(n.path){if(!jC.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);a+="; Path="+n.path}if(n.expires){if(!KC(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);a+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(a+="; HttpOnly"),n.secure&&(a+="; Secure"),n.partitioned&&(a+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":a+="; Priority=Low";break;case"medium":a+="; Priority=Medium";break;case"high":a+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"none":a+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return a}function GC(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function KC(t){return BC.call(t)==="[object Date]"}/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var LS=t=>{throw TypeError(t)},QC=(t,e,n)=>e.has(t)||LS("Cannot "+n),ed=(t,e,n)=>(QC(t,e,"read from private field"),n?n.call(t):e.get(t)),YC=(t,e,n)=>e.has(t)?LS("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Hv="popstate";function $C(t={}){function e(r,i){let{pathname:a,search:s,hash:l}=r.location;return El("",{pathname:a,search:s,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Ci(i)}return WC(e,n,null,t)}function _e(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ct(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XC(){return Math.random().toString(36).substring(2,10)}function qv(t,e){return{usr:t.state,key:t.key,idx:e}}function El(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Li(e):e,state:n,key:e&&e.key||r||XC()}}function Ci({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Li(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function WC(t,e,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,l="POP",u=null,c=f();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function f(){return(s.state||{idx:null}).idx}function m(){l="POP";let O=f(),E=O==null?null:O-c;c=O,u&&u({action:l,location:N.location,delta:E})}function g(O,E){l="PUSH";let v=El(N.location,O,E);c=f()+1;let A=qv(v,c),M=N.createHref(v);try{s.pushState(A,"",M)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;i.location.assign(M)}a&&u&&u({action:l,location:N.location,delta:1})}function p(O,E){l="REPLACE";let v=El(N.location,O,E);c=f();let A=qv(v,c),M=N.createHref(v);s.replaceState(A,"",M),a&&u&&u({action:l,location:N.location,delta:0})}function R(O){let E=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof O=="string"?O:Ci(O);return v=v.replace(/ $/,"%20"),_e(E,`No window.location.(origin|href) available to create URL for href: ${v}`),new URL(v,E)}let N={get action(){return l},get location(){return t(i,s)},listen(O){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(Hv,m),u=O,()=>{i.removeEventListener(Hv,m),u=null}},createHref(O){return e(i,O)},createURL:R,encodeLocation(O){let E=R(O);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:p,go(O){return s.go(O)}};return N}var Vo,Fv=class{constructor(t){if(YC(this,Vo,new Map),t)for(let[e,n]of t)this.set(e,n)}get(t){if(ed(this,Vo).has(t))return ed(this,Vo).get(t);if(t.defaultValue!==void 0)return t.defaultValue;throw new Error("No value found for context")}set(t,e){ed(this,Vo).set(t,e)}};Vo=new WeakMap;var ZC=new Set(["lazy","caseSensitive","path","id","index","children"]);function JC(t){return ZC.has(t)}var eI=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function tI(t){return eI.has(t)}function nI(t){return t.index===!0}function Xc(t,e,n=[],r={}){return t.map((i,a)=>{let s=[...n,String(a)],l=typeof i.id=="string"?i.id:s.join("-");if(_e(i.index!==!0||!i.children,"Cannot specify children on an index route"),_e(!r[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),nI(i)){let u={...i,...e(i),id:l};return r[l]=u,u}else{let u={...i,...e(i),id:l,children:void 0};return r[l]=u,i.children&&(u.children=Xc(i.children,e,s,r)),u}})}function ti(t,e,n="/"){return oc(t,e,n,!1)}function oc(t,e,n,r){let i=typeof e=="string"?Li(e):e,a=Rn(i.pathname||"/",n);if(a==null)return null;let s=kS(t);iI(s);let l=null;for(let u=0;l==null&&u<s.length;++u){let c=gI(a);l=dI(s[u],c,r)}return l}function rI(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function kS(t,e=[],n=[],r=""){let i=(a,s,l)=>{let u={relativePath:l===void 0?a.path||"":l,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(_e(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=Wn([r,u.relativePath]),f=n.concat(u);a.children&&a.children.length>0&&(_e(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),kS(a.children,e,f,c)),!(a.path==null&&!a.index)&&e.push({path:c,score:hI(c,a.index),routesMeta:f})};return t.forEach((a,s)=>{var l;if(a.path===""||!((l=a.path)!=null&&l.includes("?")))i(a,s);else for(let u of US(a.path))i(a,s,u)}),e}function US(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=US(r.join("/")),l=[];return l.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&l.push(...s),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function iI(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:fI(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var aI=/^:[\w-]+$/,sI=3,oI=2,lI=1,uI=10,cI=-2,Gv=t=>t==="*";function hI(t,e){let n=t.split("/"),r=n.length;return n.some(Gv)&&(r+=cI),e&&(r+=oI),n.filter(i=>!Gv(i)).reduce((i,a)=>i+(aI.test(a)?sI:a===""?lI:uI),r)}function fI(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function dI(t,e,n=!1){let{routesMeta:r}=t,i={},a="/",s=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,f=a==="/"?e:e.slice(a.length)||"/",m=Wc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),g=u.route;if(!m&&c&&n&&!r[r.length-1].route.index&&(m=Wc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},f)),!m)return null;Object.assign(i,m.params),s.push({params:i,pathname:Wn([a,m.pathname]),pathnameBase:vI(Wn([a,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(a=Wn([a,m.pathnameBase]))}return s}function Wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=mI(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:r.reduce((c,{paramName:f,isOptional:m},g)=>{if(f==="*"){let R=l[g]||"";s=a.slice(0,a.length-R.length).replace(/(.)\/+$/,"$1")}const p=l[g];return m&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:s,pattern:t}}function mI(t,e=!1,n=!0){ct(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function gI(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ct(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Rn(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function pI(t,e="/"){let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Li(t):t;return{pathname:n?n.startsWith("/")?n:yI(n,e):e,search:_I(r),hash:EI(i)}}function yI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function td(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function zS(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zg(t){let e=zS(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function jg(t,e,n,r=!1){let i;typeof t=="string"?i=Li(t):(i={...t},_e(!i.pathname||!i.pathname.includes("?"),td("?","pathname","search",i)),_e(!i.pathname||!i.pathname.includes("#"),td("#","pathname","hash",i)),_e(!i.search||!i.search.includes("#"),td("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,l;if(s==null)l=n;else{let m=e.length-1;if(!r&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}l=m>=0?e[m]:"/"}let u=pI(i,l),c=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}var Wn=t=>t.join("/").replace(/\/\/+/g,"/"),vI=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),_I=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EI=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Zc=class{constructor(t,e,n,r=!1){this.status=t,this.statusText=e||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Tl(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var jS=["POST","PUT","PATCH","DELETE"],TI=new Set(jS),SI=["GET",...jS],AI=new Set(SI),bI=new Set([301,302,303,307,308]),wI=new Set([307,308]),nd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},RI={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Co={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Bg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,CI=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),BS="remix-router-transitions",HS=Symbol("ResetLoaderData");function II(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";_e(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let r=t.hydrationRouteProperties||[],i=t.mapRouteProperties||CI,a={},s=Xc(t.routes,i,void 0,a),l,u=t.basename||"/",c=t.dataStrategy||xI,f={unstable_middleware:!1,...t.future},m=null,g=new Set,p=null,R=null,N=null,O=t.hydrationData!=null,E=ti(s,t.history.location,u),v=!1,A=null;if(E==null&&!t.patchRoutesOnNavigation){let C=pn(404,{pathname:t.history.location.pathname}),{matches:V,route:L}=r_(s);E=V,A={[L.id]:C}}E&&!t.hydrationData&&mn(E,s,t.history.location.pathname).active&&(E=null);let M;if(E)if(E.some(C=>C.route.lazy))M=!1;else if(!E.some(C=>C.route.loader))M=!0;else{let C=t.hydrationData?t.hydrationData.loaderData:null,V=t.hydrationData?t.hydrationData.errors:null;if(V){let L=E.findIndex(G=>V[G.route.id]!==void 0);M=E.slice(0,L+1).every(G=>!fm(G.route,C,V))}else M=E.every(L=>!fm(L.route,C,V))}else{M=!1,E=[];let C=mn(null,s,t.history.location.pathname);C.active&&C.matches&&(v=!0,E=C.matches)}let z,D={historyAction:t.history.action,location:t.history.location,matches:E,initialized:M,navigation:nd,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||A,fetchers:new Map,blockers:new Map},S="POP",_=!1,T,w=!1,I=new Map,x=null,b=!1,Ae=!1,Ge=new Set,H=new Map,J=0,ee=-1,de=new Map,pe=new Set,vt=new Map,ht=new Map,Ie=new Set,bt=new Map,qt,ur=null;function Ra(){if(m=t.history.listen(({action:C,location:V,delta:L})=>{if(qt){qt(),qt=void 0;return}ct(bt.size===0||L!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let G=Ma({currentLocation:D.location,nextLocation:V,historyAction:C});if(G&&L!=null){let Q=new Promise(X=>{qt=X});t.history.go(L*-1),Na(G,{state:"blocked",location:V,proceed(){Na(G,{state:"proceeding",proceed:void 0,reset:void 0,location:V}),Q.then(()=>t.history.go(L))},reset(){let X=new Map(D.blockers);X.set(G,Co),st({blockers:X})}});return}return In(C,V)}),n){FI(e,I);let C=()=>GI(e,I);e.addEventListener("pagehide",C),x=()=>e.removeEventListener("pagehide",C)}return D.initialized||In("POP",D.location,{initialHydration:!0}),z}function hf(){m&&m(),x&&x(),g.clear(),T&&T.abort(),D.fetchers.forEach((C,V)=>Oa(V)),D.blockers.forEach((C,V)=>lu(V))}function ff(C){return g.add(C),()=>g.delete(C)}function st(C,V={}){D={...D,...C};let L=[],G=[];D.fetchers.forEach((Q,X)=>{Q.state==="idle"&&(Ie.has(X)?L.push(X):G.push(X))}),Ie.forEach(Q=>{!D.fetchers.has(Q)&&!H.has(Q)&&L.push(Q)}),[...g].forEach(Q=>Q(D,{deletedFetchers:L,viewTransitionOpts:V.viewTransitionOpts,flushSync:V.flushSync===!0})),L.forEach(Q=>Oa(Q)),G.forEach(Q=>D.fetchers.delete(Q))}function Cn(C,V,{flushSync:L}={}){var te,le;let G=D.actionData!=null&&D.navigation.formMethod!=null&&sn(D.navigation.formMethod)&&D.navigation.state==="loading"&&((te=C.state)==null?void 0:te._isRedirect)!==!0,Q;V.actionData?Object.keys(V.actionData).length>0?Q=V.actionData:Q=null:G?Q=D.actionData:Q=null;let X=V.loaderData?t_(D.loaderData,V.loaderData,V.matches||[],V.errors):D.loaderData,ie=D.blockers;ie.size>0&&(ie=new Map(ie),ie.forEach((Z,he)=>ie.set(he,Co)));let $=_===!0||D.navigation.formMethod!=null&&sn(D.navigation.formMethod)&&((le=C.state)==null?void 0:le._isRedirect)!==!0;l&&(s=l,l=void 0),b||S==="POP"||(S==="PUSH"?t.history.push(C,C.state):S==="REPLACE"&&t.history.replace(C,C.state));let W;if(S==="POP"){let Z=I.get(D.location.pathname);Z&&Z.has(C.pathname)?W={currentLocation:D.location,nextLocation:C}:I.has(C.pathname)&&(W={currentLocation:C,nextLocation:D.location})}else if(w){let Z=I.get(D.location.pathname);Z?Z.add(C.pathname):(Z=new Set([C.pathname]),I.set(D.location.pathname,Z)),W={currentLocation:D.location,nextLocation:C}}st({...V,actionData:Q,loaderData:X,historyAction:S,location:C,initialized:!0,navigation:nd,revalidation:"idle",restoreScrollPosition:Va(C,V.matches||D.matches),preventScrollReset:$,blockers:ie},{viewTransitionOpts:W,flushSync:L===!0}),S="POP",_=!1,w=!1,b=!1,Ae=!1,ur==null||ur.resolve(),ur=null}async function Ca(C,V){if(typeof C=="number"){t.history.go(C);return}let L=hm(D.location,D.matches,u,C,V==null?void 0:V.fromRouteId,V==null?void 0:V.relative),{path:G,submission:Q,error:X}=Kv(!1,L,V),ie=D.location,$=El(D.location,G,V&&V.state);$={...$,...t.history.encodeLocation($)};let W=V&&V.replace!=null?V.replace:void 0,te="PUSH";W===!0?te="REPLACE":W===!1||Q!=null&&sn(Q.formMethod)&&Q.formAction===D.location.pathname+D.location.search&&(te="REPLACE");let le=V&&"preventScrollReset"in V?V.preventScrollReset===!0:void 0,Z=(V&&V.flushSync)===!0,he=Ma({currentLocation:ie,nextLocation:$,historyAction:te});if(he){Na(he,{state:"blocked",location:$,proceed(){Na(he,{state:"proceeding",proceed:void 0,reset:void 0,location:$}),Ca(C,V)},reset(){let Ne=new Map(D.blockers);Ne.set(he,Co),st({blockers:Ne})}});return}await In(te,$,{submission:Q,pendingError:X,preventScrollReset:le,replace:V&&V.replace,enableViewTransition:V&&V.viewTransition,flushSync:Z})}function io(){ur||(ur=KI()),Da(),st({revalidation:"loading"});let C=ur.promise;return D.navigation.state==="submitting"?C:D.navigation.state==="idle"?(In(D.historyAction,D.location,{startUninterruptedRevalidation:!0}),C):(In(S||D.historyAction,D.navigation.location,{overrideNavigation:D.navigation,enableViewTransition:w===!0}),C)}async function In(C,V,L){T&&T.abort(),T=null,S=C,b=(L&&L.startUninterruptedRevalidation)===!0,co(D.location,D.matches),_=(L&&L.preventScrollReset)===!0,w=(L&&L.enableViewTransition)===!0;let G=l||s,Q=L&&L.overrideNavigation,X=L!=null&&L.initialHydration&&D.matches&&D.matches.length>0&&!v?D.matches:ti(G,V,u),ie=(L&&L.flushSync)===!0;if(X&&D.initialized&&!Ae&&zI(D.location,V)&&!(L&&L.submission&&sn(L.submission.formMethod))){Cn(V,{matches:X},{flushSync:ie});return}let $=mn(X,G,V.pathname);if($.active&&$.matches&&(X=$.matches),!X){let{error:He,notFoundMatches:Mt,route:be}=xa(V.pathname);Cn(V,{matches:Mt,loaderData:{},errors:{[be.id]:He}},{flushSync:ie});return}T=new AbortController;let W=Ya(t.history,V,T.signal,L&&L.submission),te=new Fv(t.unstable_getContext?await t.unstable_getContext():void 0),le;if(L&&L.pendingError)le=[$i(X).route.id,{type:"error",error:L.pendingError}];else if(L&&L.submission&&sn(L.submission.formMethod)){let He=await ao(W,V,L.submission,X,te,$.active,L&&L.initialHydration===!0,{replace:L.replace,flushSync:ie});if(He.shortCircuited)return;if(He.pendingActionResult){let[Mt,be]=He.pendingActionResult;if(an(be)&&Tl(be.error)&&be.error.status===404){T=null,Cn(V,{matches:He.matches,loaderData:{},errors:{[Mt]:be.error}});return}}X=He.matches||X,le=He.pendingActionResult,Q=rd(V,L.submission),ie=!1,$.active=!1,W=Ya(t.history,W.url,W.signal)}let{shortCircuited:Z,matches:he,loaderData:Ne,errors:Ke}=await ru(W,V,X,te,$.active,Q,L&&L.submission,L&&L.fetcherSubmission,L&&L.replace,L&&L.initialHydration===!0,ie,le);Z||(T=null,Cn(V,{matches:he||X,...n_(le),loaderData:Ne,errors:Ke}))}async function ao(C,V,L,G,Q,X,ie,$={}){Da();let W=HI(V,L);if(st({navigation:W},{flushSync:$.flushSync===!0}),X){let Z=await zi(G,V.pathname,C.signal);if(Z.type==="aborted")return{shortCircuited:!0};if(Z.type==="error"){let he=$i(Z.partialMatches).route.id;return{matches:Z.partialMatches,pendingActionResult:[he,{type:"error",error:Z.error}]}}else if(Z.matches)G=Z.matches;else{let{notFoundMatches:he,error:Ne,route:Ke}=xa(V.pathname);return{matches:he,pendingActionResult:[Ke.id,{type:"error",error:Ne}]}}}let te,le=Po(G,V);if(!le.route.action&&!le.route.lazy)te={type:"error",error:pn(405,{method:C.method,pathname:V.pathname,routeId:le.route.id})};else{let Z=_s(i,a,C,G,le,ie?[]:r,Q),he=await hr(C,Z,Q,null);if(te=he[le.route.id],!te){for(let Ne of G)if(he[Ne.route.id]){te=he[Ne.route.id];break}}if(C.signal.aborted)return{shortCircuited:!0}}if(Xi(te)){let Z;return $&&$.replace!=null?Z=$.replace:Z=Zv(te.response.headers.get("Location"),new URL(C.url),u)===D.location.pathname+D.location.search,await cr(C,te,!0,{submission:L,replace:Z}),{shortCircuited:!0}}if(an(te)){let Z=$i(G,le.route.id);return($&&$.replace)!==!0&&(S="PUSH"),{matches:G,pendingActionResult:[Z.route.id,te,le.route.id]}}return{matches:G,pendingActionResult:[le.route.id,te]}}async function ru(C,V,L,G,Q,X,ie,$,W,te,le,Z){let he=X||rd(V,ie),Ne=ie||$||a_(he),Ke=!b&&!te;if(Q){if(Ke){let xt=iu(Z);st({navigation:he,...xt!==void 0?{actionData:xt}:{}},{flushSync:le})}let Ee=await zi(L,V.pathname,C.signal);if(Ee.type==="aborted")return{shortCircuited:!0};if(Ee.type==="error"){let xt=$i(Ee.partialMatches).route.id;return{matches:Ee.partialMatches,loaderData:{},errors:{[xt]:Ee.error}}}else if(Ee.matches)L=Ee.matches;else{let{error:xt,notFoundMatches:Hn,route:Bi}=xa(V.pathname);return{matches:Hn,loaderData:{},errors:{[Bi.id]:xt}}}}let He=l||s,{dsMatches:Mt,revalidatingFetchers:be}=Qv(C,G,i,a,t.history,D,L,Ne,V,te?[]:r,te===!0,Ae,Ge,Ie,vt,pe,He,u,Z);if(ee=++J,!t.dataStrategy&&!Mt.some(Ee=>Ee.shouldLoad)&&be.length===0){let Ee=oo();return Cn(V,{matches:L,loaderData:{},errors:Z&&an(Z[1])?{[Z[0]]:Z[1].error}:null,...n_(Z),...Ee?{fetchers:new Map(D.fetchers)}:{}},{flushSync:le}),{shortCircuited:!0}}if(Ke){let Ee={};if(!Q){Ee.navigation=he;let xt=iu(Z);xt!==void 0&&(Ee.actionData=xt)}be.length>0&&(Ee.fetchers=df(be)),st(Ee,{flushSync:le})}be.forEach(Ee=>{zn(Ee.key),Ee.controller&&H.set(Ee.key,Ee.controller)});let fr=()=>be.forEach(Ee=>zn(Ee.key));T&&T.signal.addEventListener("abort",fr);let{loaderResults:Dn,fetcherResults:Br}=await Ia(Mt,be,C,G);if(C.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",fr),be.forEach(Ee=>H.delete(Ee.key));let Ft=Uu(Dn);if(Ft)return await cr(C,Ft.result,!0,{replace:W}),{shortCircuited:!0};if(Ft=Uu(Br),Ft)return pe.add(Ft.key),await cr(C,Ft.result,!0,{replace:W}),{shortCircuited:!0};let{loaderData:ji,errors:jn}=e_(D,L,Dn,Z,be,Br);te&&D.errors&&(jn={...D.errors,...jn});let La=oo(),On=lo(ee),Bn=La||On||be.length>0;return{matches:L,loaderData:ji,errors:jn,...Bn?{fetchers:new Map(D.fetchers)}:{}}}function iu(C){if(C&&!an(C[1]))return{[C[0]]:C[1].data};if(D.actionData)return Object.keys(D.actionData).length===0?null:D.actionData}function df(C){return C.forEach(V=>{let L=D.fetchers.get(V.key),G=Io(void 0,L?L.data:void 0);D.fetchers.set(V.key,G)}),new Map(D.fetchers)}async function au(C,V,L,G){zn(C);let Q=(G&&G.flushSync)===!0,X=l||s,ie=hm(D.location,D.matches,u,L,V,G==null?void 0:G.relative),$=ti(X,ie,u),W=mn($,X,ie);if(W.active&&W.matches&&($=W.matches),!$){Be(C,V,pn(404,{pathname:ie}),{flushSync:Q});return}let{path:te,submission:le,error:Z}=Kv(!0,ie,G);if(Z){Be(C,V,Z,{flushSync:Q});return}let he=Po($,te),Ne=new Fv(t.unstable_getContext?await t.unstable_getContext():void 0),Ke=(G&&G.preventScrollReset)===!0;if(le&&sn(le.formMethod)){await so(C,V,te,he,$,Ne,W.active,Q,Ke,le);return}vt.set(C,{routeId:V,path:te}),await su(C,V,te,he,$,Ne,W.active,Q,Ke,le)}async function so(C,V,L,G,Q,X,ie,$,W,te){Da(),vt.delete(C);function le(We){if(!We.route.action&&!We.route.lazy){let qn=pn(405,{method:te.formMethod,pathname:L,routeId:V});return Be(C,V,qn,{flushSync:$}),!0}return!1}if(!ie&&le(G))return;let Z=D.fetchers.get(C);je(C,qI(te,Z),{flushSync:$});let he=new AbortController,Ne=Ya(t.history,L,he.signal,te);if(ie){let We=await zi(Q,L,Ne.signal,C);if(We.type==="aborted")return;if(We.type==="error"){Be(C,V,We.error,{flushSync:$});return}else if(We.matches){if(Q=We.matches,G=Po(Q,L),le(G))return}else{Be(C,V,pn(404,{pathname:L}),{flushSync:$});return}}H.set(C,he);let Ke=J,He=_s(i,a,Ne,Q,G,r,X),be=(await hr(Ne,He,X,C))[G.route.id];if(Ne.signal.aborted){H.get(C)===he&&H.delete(C);return}if(Ie.has(C)){if(Xi(be)||an(be)){je(C,Yr(void 0));return}}else{if(Xi(be))if(H.delete(C),ee>Ke){je(C,Yr(void 0));return}else return pe.add(C),je(C,Io(te)),cr(Ne,be,!1,{fetcherSubmission:te,preventScrollReset:W});if(an(be)){Be(C,V,be.error);return}}let fr=D.navigation.location||D.location,Dn=Ya(t.history,fr,he.signal),Br=l||s,Ft=D.navigation.state!=="idle"?ti(Br,D.navigation.location,u):D.matches;_e(Ft,"Didn't find any matches after fetcher action");let ji=++J;de.set(C,ji);let jn=Io(te,be.data);D.fetchers.set(C,jn);let{dsMatches:La,revalidatingFetchers:On}=Qv(Dn,X,i,a,t.history,D,Ft,te,fr,r,!1,Ae,Ge,Ie,vt,pe,Br,u,[G.route.id,be]);On.filter(We=>We.key!==C).forEach(We=>{let qn=We.key,Ua=D.fetchers.get(qn),hu=Io(void 0,Ua?Ua.data:void 0);D.fetchers.set(qn,hu),zn(qn),We.controller&&H.set(qn,We.controller)}),st({fetchers:new Map(D.fetchers)});let Bn=()=>On.forEach(We=>zn(We.key));he.signal.addEventListener("abort",Bn);let{loaderResults:Ee,fetcherResults:xt}=await Ia(La,On,Dn,X);if(he.signal.aborted)return;he.signal.removeEventListener("abort",Bn),de.delete(C),H.delete(C),On.forEach(We=>H.delete(We.key));let Hn=Uu(Ee);if(Hn)return cr(Dn,Hn.result,!1,{preventScrollReset:W});if(Hn=Uu(xt),Hn)return pe.add(Hn.key),cr(Dn,Hn.result,!1,{preventScrollReset:W});let{loaderData:Bi,errors:ka}=e_(D,Ft,Ee,void 0,On,xt);if(D.fetchers.has(C)){let We=Yr(be.data);D.fetchers.set(C,We)}lo(ji),D.navigation.state==="loading"&&ji>ee?(_e(S,"Expected pending action"),T&&T.abort(),Cn(D.navigation.location,{matches:Ft,loaderData:Bi,errors:ka,fetchers:new Map(D.fetchers)})):(st({errors:ka,loaderData:t_(D.loaderData,Bi,Ft,ka),fetchers:new Map(D.fetchers)}),Ae=!1)}async function su(C,V,L,G,Q,X,ie,$,W,te){let le=D.fetchers.get(C);je(C,Io(te,le?le.data:void 0),{flushSync:$});let Z=new AbortController,he=Ya(t.history,L,Z.signal);if(ie){let be=await zi(Q,L,he.signal,C);if(be.type==="aborted")return;if(be.type==="error"){Be(C,V,be.error,{flushSync:$});return}else if(be.matches)Q=be.matches,G=Po(Q,L);else{Be(C,V,pn(404,{pathname:L}),{flushSync:$});return}}H.set(C,Z);let Ne=J,Ke=_s(i,a,he,Q,G,r,X),Mt=(await hr(he,Ke,X,C))[G.route.id];if(H.get(C)===Z&&H.delete(C),!he.signal.aborted){if(Ie.has(C)){je(C,Yr(void 0));return}if(Xi(Mt))if(ee>Ne){je(C,Yr(void 0));return}else{pe.add(C),await cr(he,Mt,!1,{preventScrollReset:W});return}if(an(Mt)){Be(C,V,Mt.error);return}je(C,Yr(Mt.data))}}async function cr(C,V,L,{submission:G,fetcherSubmission:Q,preventScrollReset:X,replace:ie}={}){V.response.headers.has("X-Remix-Revalidate")&&(Ae=!0);let $=V.response.headers.get("Location");_e($,"Expected a Location header on the redirect Response"),$=Zv($,new URL(C.url),u);let W=El(D.location,$,{_isRedirect:!0});if(n){let Ke=!1;if(V.response.headers.has("X-Remix-Reload-Document"))Ke=!0;else if(Bg.test($)){const He=t.history.createURL($);Ke=He.origin!==e.location.origin||Rn(He.pathname,u)==null}if(Ke){ie?e.location.replace($):e.location.assign($);return}}T=null;let te=ie===!0||V.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:le,formAction:Z,formEncType:he}=D.navigation;!G&&!Q&&le&&Z&&he&&(G=a_(D.navigation));let Ne=G||Q;if(wI.has(V.response.status)&&Ne&&sn(Ne.formMethod))await In(te,W,{submission:{...Ne,formAction:$},preventScrollReset:X||_,enableViewTransition:L?w:void 0});else{let Ke=rd(W,G);await In(te,W,{overrideNavigation:Ke,fetcherSubmission:Q,preventScrollReset:X||_,enableViewTransition:L?w:void 0})}}async function hr(C,V,L,G){let Q,X={};try{Q=await VI(c,C,V,G,L,!1)}catch(ie){return V.filter($=>$.shouldLoad).forEach($=>{X[$.route.id]={type:"error",error:ie}}),X}for(let[ie,$]of Object.entries(Q))if(jI($)){let W=$.result;X[ie]={type:"redirect",response:kI(W,C,ie,V,u)}}else X[ie]=await LI($);return X}async function Ia(C,V,L,G){let Q=hr(L,C,G,null),X=Promise.all(V.map(async W=>{if(W.matches&&W.match&&W.request&&W.controller){let le=(await hr(W.request,W.matches,G,W.key))[W.match.route.id];return{[W.key]:le}}else return Promise.resolve({[W.key]:{type:"error",error:pn(404,{pathname:W.path})}})})),ie=await Q,$=(await X).reduce((W,te)=>Object.assign(W,te),{});return{loaderResults:ie,fetcherResults:$}}function Da(){Ae=!0,vt.forEach((C,V)=>{H.has(V)&&Ge.add(V),zn(V)})}function je(C,V,L={}){D.fetchers.set(C,V),st({fetchers:new Map(D.fetchers)},{flushSync:(L&&L.flushSync)===!0})}function Be(C,V,L,G={}){let Q=$i(D.matches,V);Oa(C),st({errors:{[Q.route.id]:L},fetchers:new Map(D.fetchers)},{flushSync:(G&&G.flushSync)===!0})}function Ui(C){return ht.set(C,(ht.get(C)||0)+1),Ie.has(C)&&Ie.delete(C),D.fetchers.get(C)||RI}function Oa(C){let V=D.fetchers.get(C);H.has(C)&&!(V&&V.state==="loading"&&de.has(C))&&zn(C),vt.delete(C),de.delete(C),pe.delete(C),Ie.delete(C),Ge.delete(C),D.fetchers.delete(C)}function ou(C){let V=(ht.get(C)||0)-1;V<=0?(ht.delete(C),Ie.add(C)):ht.set(C,V),st({fetchers:new Map(D.fetchers)})}function zn(C){let V=H.get(C);V&&(V.abort(),H.delete(C))}function zr(C){for(let V of C){let L=Ui(V),G=Yr(L.data);D.fetchers.set(V,G)}}function oo(){let C=[],V=!1;for(let L of pe){let G=D.fetchers.get(L);_e(G,`Expected fetcher: ${L}`),G.state==="loading"&&(pe.delete(L),C.push(L),V=!0)}return zr(C),V}function lo(C){let V=[];for(let[L,G]of de)if(G<C){let Q=D.fetchers.get(L);_e(Q,`Expected fetcher: ${L}`),Q.state==="loading"&&(zn(L),de.delete(L),V.push(L))}return zr(V),V.length>0}function uo(C,V){let L=D.blockers.get(C)||Co;return bt.get(C)!==V&&bt.set(C,V),L}function lu(C){D.blockers.delete(C),bt.delete(C)}function Na(C,V){let L=D.blockers.get(C)||Co;_e(L.state==="unblocked"&&V.state==="blocked"||L.state==="blocked"&&V.state==="blocked"||L.state==="blocked"&&V.state==="proceeding"||L.state==="blocked"&&V.state==="unblocked"||L.state==="proceeding"&&V.state==="unblocked",`Invalid blocker state transition: ${L.state} -> ${V.state}`);let G=new Map(D.blockers);G.set(C,V),st({blockers:G})}function Ma({currentLocation:C,nextLocation:V,historyAction:L}){if(bt.size===0)return;bt.size>1&&ct(!1,"A router only supports one blocker at a time");let G=Array.from(bt.entries()),[Q,X]=G[G.length-1],ie=D.blockers.get(Q);if(!(ie&&ie.state==="proceeding")&&X({currentLocation:C,nextLocation:V,historyAction:L}))return Q}function xa(C){let V=pn(404,{pathname:C}),L=l||s,{matches:G,route:Q}=r_(L);return{notFoundMatches:G,route:Q,error:V}}function uu(C,V,L){if(p=C,N=V,R=L||null,!O&&D.navigation===nd){O=!0;let G=Va(D.location,D.matches);G!=null&&st({restoreScrollPosition:G})}return()=>{p=null,N=null,R=null}}function jr(C,V){return R&&R(C,V.map(G=>rI(G,D.loaderData)))||C.key}function co(C,V){if(p&&N){let L=jr(C,V);p[L]=N()}}function Va(C,V){if(p){let L=jr(C,V),G=p[L];if(typeof G=="number")return G}return null}function mn(C,V,L){if(t.patchRoutesOnNavigation)if(C){if(Object.keys(C[0].params).length>0)return{active:!0,matches:oc(V,L,u,!0)}}else return{active:!0,matches:oc(V,L,u,!0)||[]};return{active:!1,matches:null}}async function zi(C,V,L,G){if(!t.patchRoutesOnNavigation)return{type:"success",matches:C};let Q=C;for(;;){let X=l==null,ie=l||s,$=a;try{await t.patchRoutesOnNavigation({signal:L,path:V,matches:Q,fetcherKey:G,patch:(le,Z)=>{L.aborted||Yv(le,Z,ie,$,i)}})}catch(le){return{type:"error",error:le,partialMatches:Q}}finally{X&&!L.aborted&&(s=[...s])}if(L.aborted)return{type:"aborted"};let W=ti(ie,V,u);if(W)return{type:"success",matches:W};let te=oc(ie,V,u,!0);if(!te||Q.length===te.length&&Q.every((le,Z)=>le.route.id===te[Z].route.id))return{type:"success",matches:null};Q=te}}function Pa(C){a={},l=Xc(C,i,void 0,a)}function cu(C,V){let L=l==null;Yv(C,V,l||s,a,i),L&&(s=[...s],st({}))}return z={get basename(){return u},get future(){return f},get state(){return D},get routes(){return s},get window(){return e},initialize:Ra,subscribe:ff,enableScrollRestoration:uu,navigate:Ca,fetch:au,revalidate:io,createHref:C=>t.history.createHref(C),encodeLocation:C=>t.history.encodeLocation(C),getFetcher:Ui,deleteFetcher:ou,dispose:hf,getBlocker:uo,deleteBlocker:lu,patchRoutes:cu,_internalFetchControllers:H,_internalSetRoutes:Pa},z}function DI(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hm(t,e,n,r,i,a){let s,l;if(i){s=[];for(let c of e)if(s.push(c),c.route.id===i){l=c;break}}else s=e,l=e[e.length-1];let u=jg(r||".",zg(s),Rn(t.pathname,n)||t.pathname,a==="path");if(r==null&&(u.search=t.search,u.hash=t.hash),(r==null||r===""||r===".")&&l){let c=Hg(u.search);if(l.route.index&&!c)u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index";else if(!l.route.index&&c){let f=new URLSearchParams(u.search),m=f.getAll("index");f.delete("index"),m.filter(p=>p).forEach(p=>f.append("index",p));let g=f.toString();u.search=g?`?${g}`:""}}return n!=="/"&&(u.pathname=u.pathname==="/"?n:Wn([n,u.pathname])),Ci(u)}function Kv(t,e,n){if(!n||!DI(n))return{path:e};if(n.formMethod&&!BI(n.formMethod))return{path:e,error:pn(405,{method:n.formMethod})};let r=()=>({path:e,error:pn(400,{type:"invalid-body"})}),a=(n.formMethod||"get").toUpperCase(),s=YS(e);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!sn(a))return r();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,[p,R])=>`${g}${p}=${R}
`,""):String(n.body);return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!sn(a))return r();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:e,submission:{formMethod:a,formAction:s,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return r()}}}_e(typeof FormData=="function","FormData is not available in this environment");let l,u;if(n.formData)l=mm(n.formData),u=n.formData;else if(n.body instanceof FormData)l=mm(n.body),u=n.body;else if(n.body instanceof URLSearchParams)l=n.body,u=Jv(l);else if(n.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(n.body),u=Jv(l)}catch{return r()}let c={formMethod:a,formAction:s,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(sn(c.formMethod))return{path:e,submission:c};let f=Li(e);return t&&f.search&&Hg(f.search)&&l.append("index",""),f.search=`?${l}`,{path:Ci(f),submission:c}}function Qv(t,e,n,r,i,a,s,l,u,c,f,m,g,p,R,N,O,E,v){var x;let A=v?an(v[1])?v[1].error:v[1].data:void 0,M=i.createURL(a.location),z=i.createURL(u),D;if(f&&a.errors){let b=Object.keys(a.errors)[0];D=s.findIndex(Ae=>Ae.route.id===b)}else if(v&&an(v[1])){let b=v[0];D=s.findIndex(Ae=>Ae.route.id===b)-1}let S=v?v[1].statusCode:void 0,_=S&&S>=400,T={currentUrl:M,currentParams:((x=a.matches[0])==null?void 0:x.params)||{},nextUrl:z,nextParams:s[0].params,...l,actionResult:A,actionStatus:S},w=s.map((b,Ae)=>{let{route:Ge}=b,H=null;if(D!=null&&Ae>D?H=!1:Ge.lazy?H=!0:Ge.loader==null?H=!1:f?H=fm(Ge,a.loaderData,a.errors):OI(a.loaderData,a.matches[Ae],b)&&(H=!0),H!==null)return dm(n,r,t,b,c,e,H);let J=_?!1:m||M.pathname+M.search===z.pathname+z.search||M.search!==z.search||NI(a.matches[Ae],b),ee={...T,defaultShouldRevalidate:J},de=Jc(b,ee);return dm(n,r,t,b,c,e,de,ee)}),I=[];return R.forEach((b,Ae)=>{if(f||!s.some(vt=>vt.route.id===b.routeId)||p.has(Ae))return;let Ge=ti(O,b.path,E);if(!Ge){I.push({key:Ae,routeId:b.routeId,path:b.path,matches:null,match:null,request:null,controller:null});return}if(N.has(Ae))return;let H=a.fetchers.get(Ae),J=Po(Ge,b.path),ee=new AbortController,de=Ya(i,b.path,ee.signal),pe=null;if(g.has(Ae))g.delete(Ae),pe=_s(n,r,de,Ge,J,c,e);else if(H&&H.state!=="idle"&&H.data===void 0)m&&(pe=_s(n,r,de,Ge,J,c,e));else{let vt={...T,defaultShouldRevalidate:_?!1:m};Jc(J,vt)&&(pe=_s(n,r,de,Ge,J,c,e,vt))}pe&&I.push({key:Ae,routeId:b.routeId,path:b.path,matches:pe,match:J,request:de,controller:ee})}),{dsMatches:w,revalidatingFetchers:I}}function fm(t,e,n){if(t.lazy)return!0;if(!t.loader)return!1;let r=e!=null&&e[t.id]!==void 0,i=n!=null&&n[t.id]!==void 0;return!r&&i?!1:typeof t.loader=="function"&&t.loader.hydrate===!0?!0:!r&&!i}function OI(t,e,n){let r=!e||n.route.id!==e.route.id,i=!t.hasOwnProperty(n.route.id);return r||i}function NI(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function Jc(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}function Yv(t,e,n,r,i){let a;if(t){let u=r[t];_e(u,`No route found to patch children into: routeId = ${t}`),u.children||(u.children=[]),a=u.children}else a=n;let s=e.filter(u=>!a.some(c=>qS(u,c))),l=Xc(s,i,[t||"_","patch",String((a==null?void 0:a.length)||"0")],r);a.push(...l)}function qS(t,e){return"id"in t&&"id"in e&&t.id===e.id?!0:t.index===e.index&&t.path===e.path&&t.caseSensitive===e.caseSensitive?(!t.children||t.children.length===0)&&(!e.children||e.children.length===0)?!0:t.children.every((n,r)=>{var i;return(i=e.children)==null?void 0:i.some(a=>qS(n,a))}):!1}var $v=new WeakMap,FS=({key:t,route:e,manifest:n,mapRouteProperties:r})=>{let i=n[e.id];if(_e(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let a=i.lazy[t];if(!a)return;let s=$v.get(i);s||(s={},$v.set(i,s));let l=s[t];if(l)return l;let u=(async()=>{let c=JC(t),m=i[t]!==void 0&&t!=="hasErrorBoundary";if(c)ct(!c,"Route property "+t+" is not a supported lazy route property. This property will be ignored."),s[t]=Promise.resolve();else if(m)ct(!1,`Route "${i.id}" has a static property "${t}" defined. The lazy property will be ignored.`);else{let g=await a();g!=null&&(Object.assign(i,{[t]:g}),Object.assign(i,r(i)))}typeof i.lazy=="object"&&(i.lazy[t]=void 0,Object.values(i.lazy).every(g=>g===void 0)&&(i.lazy=void 0))})();return s[t]=u,u},Xv=new WeakMap;function MI(t,e,n,r,i){let a=n[t.id];if(_e(a,"No route found in manifest"),!t.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof t.lazy=="function"){let f=Xv.get(a);if(f)return{lazyRoutePromise:f,lazyHandlerPromise:f};let m=(async()=>{_e(typeof t.lazy=="function","No lazy route function found");let g=await t.lazy(),p={};for(let R in g){let N=g[R];if(N===void 0)continue;let O=tI(R),v=a[R]!==void 0&&R!=="hasErrorBoundary";O?ct(!O,"Route property "+R+" is not a supported property to be returned from a lazy route function. This property will be ignored."):v?ct(!v,`Route "${a.id}" has a static property "${R}" defined but its lazy function is also returning a value for this property. The lazy route property "${R}" will be ignored.`):p[R]=N}Object.assign(a,p),Object.assign(a,{...r(a),lazy:void 0})})();return Xv.set(a,m),m.catch(()=>{}),{lazyRoutePromise:m,lazyHandlerPromise:m}}let s=Object.keys(t.lazy),l=[],u;for(let f of s){if(i&&i.includes(f))continue;let m=FS({key:f,route:t,manifest:n,mapRouteProperties:r});m&&(l.push(m),f===e&&(u=m))}let c=l.length>0?Promise.all(l).then(()=>{}):void 0;return c==null||c.catch(()=>{}),u==null||u.catch(()=>{}),{lazyRoutePromise:c,lazyHandlerPromise:u}}async function Wv(t){let e=t.matches.filter(i=>i.shouldLoad),n={};return(await Promise.all(e.map(i=>i.resolve()))).forEach((i,a)=>{n[e[a].route.id]=i}),n}async function xI(t){return t.matches.some(e=>e.route.unstable_middleware)?GS(t,!1,()=>Wv(t),(e,n)=>({[n]:{type:"error",result:e}})):Wv(t)}async function GS(t,e,n,r){let{matches:i,request:a,params:s,context:l}=t,u={handlerResult:void 0};try{let c=i.flatMap(m=>m.route.unstable_middleware?m.route.unstable_middleware.map(g=>[m.route.id,g]):[]),f=await KS({request:a,params:s,context:l},c,e,u,n);return e?f:u.handlerResult}catch(c){if(!u.middlewareError)throw c;let f=await r(u.middlewareError.error,u.middlewareError.routeId);return u.handlerResult?Object.assign(u.handlerResult,f):f}}async function KS(t,e,n,r,i,a=0){let{request:s}=t;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let l=e[a];if(!l)return r.handlerResult=await i(),r.handlerResult;let[u,c]=l,f=!1,m,g=async()=>{if(f)throw new Error("You may only call `next()` once per middleware");f=!0,await KS(t,e,n,r,i,a+1)};try{let p=await c({request:t.request,params:t.params,context:t.context},g);return f?p===void 0?m:p:g()}catch(p){throw r.middlewareError?r.middlewareError.error!==p&&(r.middlewareError={routeId:u,error:p}):r.middlewareError={routeId:u,error:p},p}}function QS(t,e,n,r,i){let a=FS({key:"unstable_middleware",route:r.route,manifest:e,mapRouteProperties:t}),s=MI(r.route,sn(n.method)?"action":"loader",e,t,i);return{middleware:a,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function dm(t,e,n,r,i,a,s,l=null){let u=!1,c=QS(t,e,n,r,i);return{...r,_lazyPromises:c,shouldLoad:s,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler(f){return u=!0,l?typeof f=="boolean"?Jc(r,{...l,defaultShouldRevalidate:f}):Jc(r,l):s},resolve(f){return u||s||f&&n.method==="GET"&&(r.route.lazy||r.route.loader)?PI({request:n,match:r,lazyHandlerPromise:c==null?void 0:c.handler,lazyRoutePromise:c==null?void 0:c.route,handlerOverride:f,scopedContext:a}):Promise.resolve({type:"data",result:void 0})}}}function _s(t,e,n,r,i,a,s,l=null){return r.map(u=>u.route.id!==i.route.id?{...u,shouldLoad:!1,unstable_shouldRevalidateArgs:l,unstable_shouldCallHandler:()=>!1,_lazyPromises:QS(t,e,n,u,a),resolve:()=>Promise.resolve({type:"data",result:void 0})}:dm(t,e,n,u,a,s,!0,l))}async function VI(t,e,n,r,i,a){n.some(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware})&&await Promise.all(n.map(c=>{var f;return(f=c._lazyPromises)==null?void 0:f.middleware}));let s={request:e,params:n[0].params,context:i,matches:n},u=await t({...s,fetcherKey:r,unstable_runClientMiddleware:c=>{let f=s;return GS(f,!1,()=>c({...f,fetcherKey:r,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}}),(m,g)=>({[g]:{type:"error",result:m}}))}});try{await Promise.all(n.flatMap(c=>{var f,m;return[(f=c._lazyPromises)==null?void 0:f.handler,(m=c._lazyPromises)==null?void 0:m.route]}))}catch{}return u}async function PI({request:t,match:e,lazyHandlerPromise:n,lazyRoutePromise:r,handlerOverride:i,scopedContext:a}){let s,l,u=sn(t.method),c=u?"action":"loader",f=m=>{let g,p=new Promise((O,E)=>g=E);l=()=>g(),t.signal.addEventListener("abort",l);let R=O=>typeof m!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${c}" [routeId: ${e.route.id}]`)):m({request:t,params:e.params,context:a},...O!==void 0?[O]:[]),N=(async()=>{try{return{type:"data",result:await(i?i(E=>R(E)):R())}}catch(O){return{type:"error",result:O}}})();return Promise.race([N,p])};try{let m=u?e.route.action:e.route.loader;if(n||r)if(m){let g,[p]=await Promise.all([f(m).catch(R=>{g=R}),n,r]);if(g!==void 0)throw g;s=p}else{await n;let g=u?e.route.action:e.route.loader;if(g)[s]=await Promise.all([f(g),r]);else if(c==="action"){let p=new URL(t.url),R=p.pathname+p.search;throw pn(405,{method:t.method,pathname:R,routeId:e.route.id})}else return{type:"data",result:void 0}}else if(m)s=await f(m);else{let g=new URL(t.url),p=g.pathname+g.search;throw pn(404,{pathname:p})}}catch(m){return{type:"error",result:m}}finally{l&&t.signal.removeEventListener("abort",l)}return s}async function LI(t){var r,i,a,s,l,u;let{result:e,type:n}=t;if($S(e)){let c;try{let f=e.headers.get("Content-Type");f&&/\bapplication\/json\b/.test(f)?e.body==null?c=null:c=await e.json():c=await e.text()}catch(f){return{type:"error",error:f}}return n==="error"?{type:"error",error:new Zc(e.status,e.statusText,c),statusCode:e.status,headers:e.headers}:{type:"data",data:c,statusCode:e.status,headers:e.headers}}return n==="error"?i_(e)?e.data instanceof Error?{type:"error",error:e.data,statusCode:(r=e.init)==null?void 0:r.status,headers:(i=e.init)!=null&&i.headers?new Headers(e.init.headers):void 0}:{type:"error",error:new Zc(((a=e.init)==null?void 0:a.status)||500,void 0,e.data),statusCode:Tl(e)?e.status:void 0,headers:(s=e.init)!=null&&s.headers?new Headers(e.init.headers):void 0}:{type:"error",error:e,statusCode:Tl(e)?e.status:void 0}:i_(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(u=e.init)!=null&&u.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function kI(t,e,n,r,i){let a=t.headers.get("Location");if(_e(a,"Redirects returned/thrown from loaders/actions must have a Location header"),!Bg.test(a)){let s=r.slice(0,r.findIndex(l=>l.route.id===n)+1);a=hm(new URL(e.url),s,i,a),t.headers.set("Location",a)}return t}function Zv(t,e,n){if(Bg.test(t)){let r=t,i=r.startsWith("//")?new URL(e.protocol+r):new URL(r),a=Rn(i.pathname,n)!=null;if(i.origin===e.origin&&a)return i.pathname+i.search+i.hash}return t}function Ya(t,e,n,r){let i=t.createURL(YS(e)).toString(),a={signal:n};if(r&&sn(r.formMethod)){let{formMethod:s,formEncType:l}=r;a.method=s.toUpperCase(),l==="application/json"?(a.headers=new Headers({"Content-Type":l}),a.body=JSON.stringify(r.json)):l==="text/plain"?a.body=r.text:l==="application/x-www-form-urlencoded"&&r.formData?a.body=mm(r.formData):a.body=r.formData}return new Request(i,a)}function mm(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function Jv(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function UI(t,e,n,r=!1,i=!1){let a={},s=null,l,u=!1,c={},f=n&&an(n[1])?n[1].error:void 0;return t.forEach(m=>{if(!(m.route.id in e))return;let g=m.route.id,p=e[g];if(_e(!Xi(p),"Cannot handle redirect results in processLoaderData"),an(p)){let R=p.error;if(f!==void 0&&(R=f,f=void 0),s=s||{},i)s[g]=R;else{let N=$i(t,g);s[N.route.id]==null&&(s[N.route.id]=R)}r||(a[g]=HS),u||(u=!0,l=Tl(p.error)?p.error.status:500),p.headers&&(c[g]=p.headers)}else a[g]=p.data,p.statusCode&&p.statusCode!==200&&!u&&(l=p.statusCode),p.headers&&(c[g]=p.headers)}),f!==void 0&&n&&(s={[n[0]]:f},n[2]&&(a[n[2]]=void 0)),{loaderData:a,errors:s,statusCode:l||200,loaderHeaders:c}}function e_(t,e,n,r,i,a){let{loaderData:s,errors:l}=UI(e,n,r);return i.filter(u=>!u.matches||u.matches.some(c=>c.shouldLoad)).forEach(u=>{let{key:c,match:f,controller:m}=u,g=a[c];if(_e(g,"Did not find corresponding fetcher result"),!(m&&m.signal.aborted))if(an(g)){let p=$i(t.matches,f==null?void 0:f.route.id);l&&l[p.route.id]||(l={...l,[p.route.id]:g.error}),t.fetchers.delete(c)}else if(Xi(g))_e(!1,"Unhandled fetcher revalidation redirect");else{let p=Yr(g.data);t.fetchers.set(c,p)}}),{loaderData:s,errors:l}}function t_(t,e,n,r){let i=Object.entries(e).filter(([,a])=>a!==HS).reduce((a,[s,l])=>(a[s]=l,a),{});for(let a of n){let s=a.route.id;if(!e.hasOwnProperty(s)&&t.hasOwnProperty(s)&&a.route.loader&&(i[s]=t[s]),r&&r.hasOwnProperty(s))break}return i}function n_(t){return t?an(t[1])?{actionData:{}}:{actionData:{[t[0]]:t[1].data}}:{}}function $i(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function r_(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function pn(t,{pathname:e,routeId:n,method:r,type:i,message:a}={}){let s="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(s="Bad Request",r&&e&&n?l=`You made a ${r} request to "${e}" but did not provide a \`loader\` for route "${n}", so there is no way to handle the request.`:i==="invalid-body"&&(l="Unable to encode submission body")):t===403?(s="Forbidden",l=`Route "${n}" does not match URL "${e}"`):t===404?(s="Not Found",l=`No route matches URL "${e}"`):t===405&&(s="Method Not Allowed",r&&e&&n?l=`You made a ${r.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${n}", so there is no way to handle the request.`:r&&(l=`Invalid request method "${r.toUpperCase()}"`)),new Zc(t||500,s,new Error(l),!0)}function Uu(t){let e=Object.entries(t);for(let n=e.length-1;n>=0;n--){let[r,i]=e[n];if(Xi(i))return{key:r,result:i}}}function YS(t){let e=typeof t=="string"?Li(t):t;return Ci({...e,hash:""})}function zI(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function jI(t){return $S(t.result)&&bI.has(t.result.status)}function an(t){return t.type==="error"}function Xi(t){return(t&&t.type)==="redirect"}function i_(t){return typeof t=="object"&&t!=null&&"type"in t&&"data"in t&&"init"in t&&t.type==="DataWithResponseInit"}function $S(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function BI(t){return AI.has(t.toUpperCase())}function sn(t){return TI.has(t.toUpperCase())}function Hg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function Po(t,e){let n=typeof e=="string"?Li(e).search:e.search;if(t[t.length-1].route.index&&Hg(n||""))return t[t.length-1];let r=zS(t);return r[r.length-1]}function a_(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:a,json:s}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(a!=null)return{formMethod:e,formAction:n,formEncType:r,formData:a,json:void 0,text:void 0};if(s!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:s,text:void 0}}}function rd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HI(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Io(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function qI(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Yr(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function FI(t,e){try{let n=t.sessionStorage.getItem(BS);if(n){let r=JSON.parse(n);for(let[i,a]of Object.entries(r||{}))a&&Array.isArray(a)&&e.set(i,new Set(a||[]))}}catch{}}function GI(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(BS,JSON.stringify(n))}catch(r){ct(!1,`Failed to save applied view transitions in sessionStorage (${r}).`)}}}function KI(){let t,e,n=new Promise((r,i)=>{t=async a=>{r(a);try{await n}catch{}},e=async a=>{i(a);try{await n}catch{}}});return{promise:n,resolve:t,reject:e}}var Ta=k.createContext(null);Ta.displayName="DataRouter";var Kl=k.createContext(null);Kl.displayName="DataRouterState";var qg=k.createContext({isTransitioning:!1});qg.displayName="ViewTransition";var XS=k.createContext(new Map);XS.displayName="Fetchers";var QI=k.createContext(null);QI.displayName="Await";var or=k.createContext(null);or.displayName="Navigation";var Uh=k.createContext(null);Uh.displayName="Location";var lr=k.createContext({outlet:null,matches:[],isDataRoute:!1});lr.displayName="Route";var Fg=k.createContext(null);Fg.displayName="RouteError";function YI(t,{relative:e}={}){_e(Ql(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=k.useContext(or),{hash:i,pathname:a,search:s}=Yl(t,{relative:e}),l=a;return n!=="/"&&(l=a==="/"?n:Wn([n,a])),r.createHref({pathname:l,search:s,hash:i})}function Ql(){return k.useContext(Uh)!=null}function Sa(){return _e(Ql(),"useLocation() may be used only in the context of a <Router> component."),k.useContext(Uh).location}var WS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZS(t){k.useContext(or).static||k.useLayoutEffect(t)}function $I(){let{isDataRoute:t}=k.useContext(lr);return t?cD():XI()}function XI(){_e(Ql(),"useNavigate() may be used only in the context of a <Router> component.");let t=k.useContext(Ta),{basename:e,navigator:n}=k.useContext(or),{matches:r}=k.useContext(lr),{pathname:i}=Sa(),a=JSON.stringify(zg(r)),s=k.useRef(!1);return ZS(()=>{s.current=!0}),k.useCallback((u,c={})=>{if(ct(s.current,WS),!s.current)return;if(typeof u=="number"){n.go(u);return}let f=jg(u,JSON.parse(a),i,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Wn([e,f.pathname])),(c.replace?n.replace:n.push)(f,c.state,c)},[e,n,a,i,t])}var WI=k.createContext(null);function ZI(t){let e=k.useContext(lr).outlet;return e&&k.createElement(WI.Provider,{value:t},e)}function Yl(t,{relative:e}={}){let{matches:n}=k.useContext(lr),{pathname:r}=Sa(),i=JSON.stringify(zg(n));return k.useMemo(()=>jg(t,JSON.parse(i),r,e==="path"),[t,i,r,e])}function JI(t,e,n,r){_e(Ql(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:a}=k.useContext(or),{matches:s}=k.useContext(lr),l=s[s.length-1],u=l?l.params:{},c=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let v=m&&m.path||"";JS(c,!m||v.endsWith("*")||v.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${v}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${v}"> to <Route path="${v==="/"?"*":`${v}/*`}">.`)}let g=Sa(),p;p=g;let R=p.pathname||"/",N=R;if(f!=="/"){let v=f.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(v.length).join("/")}let O=!a&&n&&n.matches&&n.matches.length>0?n.matches:ti(t,{pathname:N});return ct(m||O!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),ct(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),iD(O&&O.map(v=>Object.assign({},v,{params:Object.assign({},u,v.params),pathname:Wn([f,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?f:Wn([f,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r)}function eD(){let t=uD(),e=Tl(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=k.createElement(k.Fragment,null,k.createElement("p",null,"💿 Hey developer 👋"),k.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",k.createElement("code",{style:a},"ErrorBoundary")," or"," ",k.createElement("code",{style:a},"errorElement")," prop on your route.")),k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),n?k.createElement("pre",{style:i},n):null,s)}var tD=k.createElement(eD,null),nD=class extends k.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?k.createElement(lr.Provider,{value:this.props.routeContext},k.createElement(Fg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function rD({routeContext:t,match:e,children:n}){let r=k.useContext(Ta);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),k.createElement(lr.Provider,{value:t},n)}function iD(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let i=t,a=n==null?void 0:n.errors;if(a!=null){let u=i.findIndex(c=>c.route.id&&(a==null?void 0:a[c.route.id])!==void 0);_e(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),i=i.slice(0,Math.min(i.length,u+1))}let s=!1,l=-1;if(n)for(let u=0;u<i.length;u++){let c=i[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:f,errors:m}=n,g=c.route.loader&&!f.hasOwnProperty(c.route.id)&&(!m||m[c.route.id]===void 0);if(c.route.lazy||g){s=!0,l>=0?i=i.slice(0,l+1):i=[i[0]];break}}}return i.reduceRight((u,c,f)=>{let m,g=!1,p=null,R=null;n&&(m=a&&c.route.id?a[c.route.id]:void 0,p=c.route.errorElement||tD,s&&(l<0&&f===0?(JS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,R=null):l===f&&(g=!0,R=c.route.hydrateFallbackElement||null)));let N=e.concat(i.slice(0,f+1)),O=()=>{let E;return m?E=p:g?E=R:c.route.Component?E=k.createElement(c.route.Component,null):c.route.element?E=c.route.element:E=u,k.createElement(rD,{match:c,routeContext:{outlet:u,matches:N,isDataRoute:n!=null},children:E})};return n&&(c.route.ErrorBoundary||c.route.errorElement||f===0)?k.createElement(nD,{location:n.location,revalidation:n.revalidation,component:p,error:m,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):O()},null)}function Gg(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function aD(t){let e=k.useContext(Ta);return _e(e,Gg(t)),e}function sD(t){let e=k.useContext(Kl);return _e(e,Gg(t)),e}function oD(t){let e=k.useContext(lr);return _e(e,Gg(t)),e}function Kg(t){let e=oD(t),n=e.matches[e.matches.length-1];return _e(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function lD(){return Kg("useRouteId")}function uD(){var r;let t=k.useContext(Fg),e=sD("useRouteError"),n=Kg("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function cD(){let{router:t}=aD("useNavigate"),e=Kg("useNavigate"),n=k.useRef(!1);return ZS(()=>{n.current=!0}),k.useCallback(async(i,a={})=>{ct(n.current,WS),n.current&&(typeof i=="number"?t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var s_={};function JS(t,e,n){!e&&!s_[t]&&(s_[t]=!0,ct(!1,n))}var o_={};function l_(t,e){!t&&!o_[e]&&(o_[e]=!0,console.warn(e))}function hD(t){let e={hasErrorBoundary:t.hasErrorBoundary||t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&(t.element&&ct(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:k.createElement(t.Component),Component:void 0})),t.HydrateFallback&&(t.hydrateFallbackElement&&ct(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:k.createElement(t.HydrateFallback),HydrateFallback:void 0})),t.ErrorBoundary&&(t.errorElement&&ct(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:k.createElement(t.ErrorBoundary),ErrorBoundary:void 0})),e}var fD=["HydrateFallback","hydrateFallbackElement"],dD=class{constructor(){this.status="pending",this.promise=new Promise((e,n)=>{this.resolve=r=>{this.status==="pending"&&(this.status="resolved",e(r))},this.reject=r=>{this.status==="pending"&&(this.status="rejected",n(r))}})}};function mD({router:t,flushSync:e}){let[n,r]=k.useState(t.state),[i,a]=k.useState(),[s,l]=k.useState({isTransitioning:!1}),[u,c]=k.useState(),[f,m]=k.useState(),[g,p]=k.useState(),R=k.useRef(new Map),N=k.useCallback((A,{deletedFetchers:M,flushSync:z,viewTransitionOpts:D})=>{A.fetchers.forEach((_,T)=>{_.data!==void 0&&R.current.set(T,_.data)}),M.forEach(_=>R.current.delete(_)),l_(z===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let S=t.window!=null&&t.window.document!=null&&typeof t.window.document.startViewTransition=="function";if(l_(D==null||S,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!D||!S){e&&z?e(()=>r(A)):k.startTransition(()=>r(A));return}if(e&&z){e(()=>{f&&(u&&u.resolve(),f.skipTransition()),l({isTransitioning:!0,flushSync:!0,currentLocation:D.currentLocation,nextLocation:D.nextLocation})});let _=t.window.document.startViewTransition(()=>{e(()=>r(A))});_.finished.finally(()=>{e(()=>{c(void 0),m(void 0),a(void 0),l({isTransitioning:!1})})}),e(()=>m(_));return}f?(u&&u.resolve(),f.skipTransition(),p({state:A,currentLocation:D.currentLocation,nextLocation:D.nextLocation})):(a(A),l({isTransitioning:!0,flushSync:!1,currentLocation:D.currentLocation,nextLocation:D.nextLocation}))},[t.window,e,f,u]);k.useLayoutEffect(()=>t.subscribe(N),[t,N]),k.useEffect(()=>{s.isTransitioning&&!s.flushSync&&c(new dD)},[s]),k.useEffect(()=>{if(u&&i&&t.window){let A=i,M=u.promise,z=t.window.document.startViewTransition(async()=>{k.startTransition(()=>r(A)),await M});z.finished.finally(()=>{c(void 0),m(void 0),a(void 0),l({isTransitioning:!1})}),m(z)}},[i,u,t.window]),k.useEffect(()=>{u&&i&&n.location.key===i.location.key&&u.resolve()},[u,f,n.location,i]),k.useEffect(()=>{!s.isTransitioning&&g&&(a(g.state),l({isTransitioning:!0,flushSync:!1,currentLocation:g.currentLocation,nextLocation:g.nextLocation}),p(void 0))},[s.isTransitioning,g]);let O=k.useMemo(()=>({createHref:t.createHref,encodeLocation:t.encodeLocation,go:A=>t.navigate(A),push:(A,M,z)=>t.navigate(A,{state:M,preventScrollReset:z==null?void 0:z.preventScrollReset}),replace:(A,M,z)=>t.navigate(A,{replace:!0,state:M,preventScrollReset:z==null?void 0:z.preventScrollReset})}),[t]),E=t.basename||"/",v=k.useMemo(()=>({router:t,navigator:O,static:!1,basename:E}),[t,O,E]);return k.createElement(k.Fragment,null,k.createElement(Ta.Provider,{value:v},k.createElement(Kl.Provider,{value:n},k.createElement(XS.Provider,{value:R.current},k.createElement(qg.Provider,{value:s},k.createElement(vD,{basename:E,location:n.location,navigationType:n.historyAction,navigator:O},k.createElement(gD,{routes:t.routes,future:t.future,state:n})))))),null)}var gD=k.memo(pD);function pD({routes:t,future:e,state:n}){return JI(t,void 0,n,e)}function yD(t){return ZI(t.context)}function vD({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:i,static:a=!1}){_e(!Ql(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=t.replace(/^\/*/,"/"),l=k.useMemo(()=>({basename:s,navigator:i,static:a,future:{}}),[s,i,a]);typeof n=="string"&&(n=Li(n));let{pathname:u="/",search:c="",hash:f="",state:m=null,key:g="default"}=n,p=k.useMemo(()=>{let R=Rn(u,s);return R==null?null:{location:{pathname:R,search:c,hash:f,state:m,key:g},navigationType:r}},[s,u,c,f,m,g,r]);return ct(p!=null,`<Router basename="${s}"> is not able to match the URL "${u}${c}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:k.createElement(or.Provider,{value:l},k.createElement(Uh.Provider,{children:e,value:p}))}var lc="get",uc="application/x-www-form-urlencoded";function zh(t){return t!=null&&typeof t.tagName=="string"}function _D(t){return zh(t)&&t.tagName.toLowerCase()==="button"}function ED(t){return zh(t)&&t.tagName.toLowerCase()==="form"}function TD(t){return zh(t)&&t.tagName.toLowerCase()==="input"}function SD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AD(t,e){return t.button===0&&(!e||e==="_self")&&!SD(t)}var zu=null;function bD(){if(zu===null)try{new FormData(document.createElement("form"),0),zu=!1}catch{zu=!0}return zu}var wD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(t){return t!=null&&!wD.has(t)?(ct(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${uc}"`),null):t}function RD(t,e){let n,r,i,a,s;if(ED(t)){let l=t.getAttribute("action");r=l?Rn(l,e):null,n=t.getAttribute("method")||lc,i=id(t.getAttribute("enctype"))||uc,a=new FormData(t)}else if(_D(t)||TD(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?Rn(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||lc,i=id(t.getAttribute("formenctype"))||id(l.getAttribute("enctype"))||uc,a=new FormData(l,t),!bD()){let{name:c,type:f,value:m}=t;if(f==="image"){let g=c?`${c}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else c&&a.append(c,m)}}else{if(zh(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=lc,r=null,i=uc,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:s}}function Qg(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function CD(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function ID(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function DD(t,e,n){let r=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await CD(a,n);return s.links?s.links():[]}return[]}));return xD(r.flat(1).filter(ID).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function u_(t,e,n,r,i,a){let s=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var f;return n[c].pathname!==u.pathname||((f=n[c].route.path)==null?void 0:f.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return a==="assets"?e.filter((u,c)=>s(u,c)||l(u,c)):a==="data"?e.filter((u,c)=>{var m;let f=r.routes[u.route.id];if(!f||!f.hasLoader)return!1;if(s(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((m=n[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function OD(t,e,{includeHydrateFallback:n}={}){return ND(t.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function ND(t){return[...new Set(t)]}function MD(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function xD(t,e){let n=new Set;return new Set(e),t.reduce((r,i)=>{let a=JSON.stringify(MD(i));return n.has(a)||(n.add(a),r.push({key:a,link:i})),r},[])}var VD=new Set([100,101,204,205]);function PD(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&Rn(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function eA(){let t=k.useContext(Ta);return Qg(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function LD(){let t=k.useContext(Kl);return Qg(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yg=k.createContext(void 0);Yg.displayName="FrameworkContext";function tA(){let t=k.useContext(Yg);return Qg(t,"You must render this element inside a <HydratedRouter> element"),t}function kD(t,e){let n=k.useContext(Yg),[r,i]=k.useState(!1),[a,s]=k.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:f,onTouchStart:m}=e,g=k.useRef(null);k.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let N=E=>{E.forEach(v=>{s(v.isIntersecting)})},O=new IntersectionObserver(N,{threshold:.5});return g.current&&O.observe(g.current),()=>{O.disconnect()}}},[t]),k.useEffect(()=>{if(r){let N=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(N)}}},[r]);let p=()=>{i(!0)},R=()=>{i(!1),s(!1)};return n?t!=="intent"?[a,g,{}]:[a,g,{onFocus:Do(l,p),onBlur:Do(u,R),onMouseEnter:Do(c,p),onMouseLeave:Do(f,R),onTouchStart:Do(m,p)}]:[!1,g,{}]}function Do(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function UD({page:t,...e}){let{router:n}=eA(),r=k.useMemo(()=>ti(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?k.createElement(jD,{page:t,matches:r,...e}):null}function zD(t){let{manifest:e,routeModules:n}=tA(),[r,i]=k.useState([]);return k.useEffect(()=>{let a=!1;return DD(t,e,n).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,n]),r}function jD({page:t,matches:e,...n}){let r=Sa(),{manifest:i,routeModules:a}=tA(),{basename:s}=eA(),{loaderData:l,matches:u}=LD(),c=k.useMemo(()=>u_(t,e,u,i,r,"data"),[t,e,u,i,r]),f=k.useMemo(()=>u_(t,e,u,i,r,"assets"),[t,e,u,i,r]),m=k.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let R=new Set,N=!1;if(e.forEach(E=>{var A;let v=i.routes[E.route.id];!v||!v.hasLoader||(!c.some(M=>M.route.id===E.route.id)&&E.route.id in l&&((A=a[E.route.id])!=null&&A.shouldRevalidate)||v.hasClientLoader?N=!0:R.add(E.route.id))}),R.size===0)return[];let O=PD(t,s);return N&&R.size>0&&O.searchParams.set("_routes",e.filter(E=>R.has(E.route.id)).map(E=>E.route.id).join(",")),[O.pathname+O.search]},[s,l,r,i,c,e,t,a]),g=k.useMemo(()=>OD(f,i),[f,i]),p=zD(f);return k.createElement(k.Fragment,null,m.map(R=>k.createElement("link",{key:R,rel:"prefetch",as:"fetch",href:R,...n})),g.map(R=>k.createElement("link",{key:R,rel:"modulepreload",href:R,...n})),p.map(({key:R,link:N})=>k.createElement("link",{key:R,...N})))}function BD(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var nA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{nA&&(window.__reactRouterVersion="7.5.3")}catch{}function HD(t,e){return II({basename:e==null?void 0:e.basename,unstable_getContext:e==null?void 0:e.unstable_getContext,future:e==null?void 0:e.future,history:$C({window:e==null?void 0:e.window}),hydrationData:qD(),routes:t,mapRouteProperties:hD,hydrationRouteProperties:fD,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function qD(){let t=window==null?void 0:window.__staticRouterHydrationData;return t&&t.errors&&(t={...t,errors:FD(t.errors)}),t}function FD(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new Zc(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let a=window[i.__subType];if(typeof a=="function")try{let s=new a(i.message);s.stack="",n[r]=s}catch{}}if(n[r]==null){let a=new Error(i.message);a.stack="",n[r]=a}}else n[r]=i;return n}var rA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,el=k.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:i,reloadDocument:a,replace:s,state:l,target:u,to:c,preventScrollReset:f,viewTransition:m,...g},p){let{basename:R}=k.useContext(or),N=typeof c=="string"&&rA.test(c),O,E=!1;if(typeof c=="string"&&N&&(O=c,nA))try{let T=new URL(window.location.href),w=c.startsWith("//")?new URL(T.protocol+c):new URL(c),I=Rn(w.pathname,R);w.origin===T.origin&&I!=null?c=I+w.search+w.hash:E=!0}catch{ct(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let v=YI(c,{relative:i}),[A,M,z]=kD(r,g),D=YD(c,{replace:s,state:l,target:u,preventScrollReset:f,relative:i,viewTransition:m});function S(T){e&&e(T),T.defaultPrevented||D(T)}let _=k.createElement("a",{...g,...z,href:O||v,onClick:E||a?e:S,ref:BD(p,M),target:u,"data-discover":!N&&n==="render"?"true":void 0});return A&&!N?k.createElement(k.Fragment,null,_,k.createElement(UD,{page:v})):_});el.displayName="Link";var GD=k.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:i=!1,style:a,to:s,viewTransition:l,children:u,...c},f){let m=Yl(s,{relative:c.relative}),g=Sa(),p=k.useContext(Kl),{navigator:R,basename:N}=k.useContext(or),O=p!=null&&JD(m)&&l===!0,E=R.encodeLocation?R.encodeLocation(m).pathname:m.pathname,v=g.pathname,A=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(v=v.toLowerCase(),A=A?A.toLowerCase():null,E=E.toLowerCase()),A&&N&&(A=Rn(A,N)||A);const M=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=v===E||!i&&v.startsWith(E)&&v.charAt(M)==="/",D=A!=null&&(A===E||!i&&A.startsWith(E)&&A.charAt(E.length)==="/"),S={isActive:z,isPending:D,isTransitioning:O},_=z?e:void 0,T;typeof r=="function"?T=r(S):T=[r,z?"active":null,D?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let w=typeof a=="function"?a(S):a;return k.createElement(el,{...c,"aria-current":_,className:T,ref:f,style:w,to:s,viewTransition:l},typeof u=="function"?u(S):u)});GD.displayName="NavLink";var KD=k.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:i,state:a,method:s=lc,action:l,onSubmit:u,relative:c,preventScrollReset:f,viewTransition:m,...g},p)=>{let R=WD(),N=ZD(l,{relative:c}),O=s.toLowerCase()==="get"?"get":"post",E=typeof l=="string"&&rA.test(l),v=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let M=A.nativeEvent.submitter,z=(M==null?void 0:M.getAttribute("formmethod"))||s;R(M||A.currentTarget,{fetcherKey:e,method:z,navigate:n,replace:i,state:a,relative:c,preventScrollReset:f,viewTransition:m})};return k.createElement("form",{ref:p,method:O,action:N,onSubmit:r?u:v,...g,"data-discover":!E&&t==="render"?"true":void 0})});KD.displayName="Form";function QD(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(t){let e=k.useContext(Ta);return _e(e,QD(t)),e}function YD(t,{target:e,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:s}={}){let l=$I(),u=Sa(),c=Yl(t,{relative:a});return k.useCallback(f=>{if(AD(f,e)){f.preventDefault();let m=n!==void 0?n:Ci(u)===Ci(c);l(t,{replace:m,state:r,preventScrollReset:i,relative:a,viewTransition:s})}},[u,l,c,n,r,e,t,i,a,s])}var $D=0,XD=()=>`__${String(++$D)}__`;function WD(){let{router:t}=iA("useSubmit"),{basename:e}=k.useContext(or),n=lD();return k.useCallback(async(r,i={})=>{let{action:a,method:s,encType:l,formData:u,body:c}=RD(r,e);if(i.navigate===!1){let f=i.fetcherKey||XD();await t.fetch(f,n,i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,flushSync:i.flushSync})}else await t.navigate(i.action||a,{preventScrollReset:i.preventScrollReset,formData:u,body:c,formMethod:i.method||s,formEncType:i.encType||l,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[t,e,n])}function ZD(t,{relative:e}={}){let{basename:n}=k.useContext(or),r=k.useContext(lr);_e(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),a={...Yl(t||".",{relative:e})},s=Sa();if(t==null){a.search=s.search;let l=new URLSearchParams(a.search),u=l.getAll("index");if(u.some(f=>f==="")){l.delete("index"),u.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(a.pathname=a.pathname==="/"?n:Wn([n,a.pathname])),Ci(a)}function JD(t,e={}){let n=k.useContext(qg);_e(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=iA("useViewTransitionState"),i=Yl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=Rn(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=Rn(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Wc(i.pathname,s)!=null||Wc(i.pathname,a)!=null}new TextEncoder;[...VD];/**
 * react-router v7.5.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e2(t){return k.createElement(mD,{flushSync:e0.flushSync,...t})}const t2=()=>{};var c_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},n2=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],s=t[n++],l=t[n++],u=((i&7)<<18|(a&63)<<12|(s&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const a=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},sA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,l=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=a>>2,m=(a&3)<<4|l>>4;let g=(l&15)<<2|c>>6,p=c&63;u||(p=64,s||(g=64)),r.push(n[f],n[m],n[g],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(aA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):n2(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const m=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||l==null||c==null||m==null)throw new r2;const g=a<<2|l>>4;if(r.push(g),c!==64){const p=l<<4&240|c>>2;if(r.push(p),m!==64){const R=c<<6&192|m;r.push(R)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class r2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const i2=function(t){const e=aA(t);return sA.encodeByteArray(e,!0)},eh=function(t){return i2(t).replace(/\./g,"")},oA=function(t){try{return sA.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s2=()=>a2().__FIREBASE_DEFAULTS__,o2=()=>{if(typeof process>"u"||typeof c_>"u")return;const t=c_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l2=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&oA(t[1]);return e&&JSON.parse(e)},jh=()=>{try{return t2()||s2()||o2()||l2()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},lA=t=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},u2=t=>{const e=lA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},uA=()=>{var t;return(t=jh())===null||t===void 0?void 0:t.config},cA=t=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[eh(JSON.stringify(n)),eh(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function f2(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bt())}function d2(){var t;const e=(t=jh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function m2(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function g2(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function p2(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function y2(){const t=Bt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function v2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function _2(){try{return typeof indexedDB=="object"}catch{return!1}}function E2(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="FirebaseError";class Ur extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=T2,Object.setPrototypeOf(this,Ur.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$l.prototype.create)}}class $l{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?S2(a,r):"Error",l=`${this.serviceName}: ${s} (${i}).`;return new Ur(i,l,r)}}function S2(t,e){return t.replace(A2,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const A2=/\{\$([^}]+)}/g;function b2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fa(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],s=e[i];if(h_(a)&&h_(s)){if(!fa(a,s))return!1}else if(a!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function h_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function w2(t,e){const n=new R2(t,e);return n.subscribe.bind(n)}class R2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");C2(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=ad),i.error===void 0&&(i.error=ad),i.complete===void 0&&(i.complete=ad);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function C2(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function ad(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ht(t){return t&&t._delegate?t._delegate:t}class da{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new c2;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(O2(e))try{this.getOrInitializeService({instanceIdentifier:Yi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Yi){return this.instances.has(e)}getOptions(e=Yi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(a);r===l&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const s=this.instances.get(i);return s&&e(s,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:D2(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Yi){return this.component?this.component.multipleInstances?e:Yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function D2(t){return t===Yi?void 0:t}function O2(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new I2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const M2={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},x2=Te.INFO,V2={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},P2=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=V2[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class $g{constructor(e){this.name=e,this._logLevel=x2,this._logHandler=P2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const L2=(t,e)=>e.some(n=>t instanceof n);let f_,d_;function k2(){return f_||(f_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function U2(){return d_||(d_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const hA=new WeakMap,gm=new WeakMap,fA=new WeakMap,sd=new WeakMap,Xg=new WeakMap;function z2(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{n(vi(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&hA.set(n,t)}).catch(()=>{}),Xg.set(e,t),e}function j2(t){if(gm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});gm.set(t,e)}let pm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||fA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return vi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function B2(t){pm=t(pm)}function H2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(od(this),e,...n);return fA.set(r,e.sort?e.sort():[e]),vi(r)}:U2().includes(t)?function(...e){return t.apply(od(this),e),vi(hA.get(this))}:function(...e){return vi(t.apply(od(this),e))}}function q2(t){return typeof t=="function"?H2(t):(t instanceof IDBTransaction&&j2(t),L2(t,k2())?new Proxy(t,pm):t)}function vi(t){if(t instanceof IDBRequest)return z2(t);if(sd.has(t))return sd.get(t);const e=q2(t);return e!==t&&(sd.set(t,e),Xg.set(e,t)),e}const od=t=>Xg.get(t);function F2(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),l=vi(s);return r&&s.addEventListener("upgradeneeded",u=>{r(vi(s.result),u.oldVersion,u.newVersion,vi(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{a&&u.addEventListener("close",()=>a()),i&&u.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const G2=["get","getKey","getAll","getAllKeys","count"],K2=["put","add","delete","clear"],ld=new Map;function m_(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ld.get(e))return ld.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=K2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||G2.includes(n)))return;const a=async function(s,...l){const u=this.transaction(s,i?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&u.done]))[0]};return ld.set(e,a),a}B2(t=>({...t,get:(e,n,r)=>m_(e,n)||t.get(e,n,r),has:(e,n)=>!!m_(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Y2(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Y2(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const ym="@firebase/app",g_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new $g("@firebase/app"),$2="@firebase/app-compat",X2="@firebase/analytics-compat",W2="@firebase/analytics",Z2="@firebase/app-check-compat",J2="@firebase/app-check",eO="@firebase/auth",tO="@firebase/auth-compat",nO="@firebase/database",rO="@firebase/data-connect",iO="@firebase/database-compat",aO="@firebase/functions",sO="@firebase/functions-compat",oO="@firebase/installations",lO="@firebase/installations-compat",uO="@firebase/messaging",cO="@firebase/messaging-compat",hO="@firebase/performance",fO="@firebase/performance-compat",dO="@firebase/remote-config",mO="@firebase/remote-config-compat",gO="@firebase/storage",pO="@firebase/storage-compat",yO="@firebase/firestore",vO="@firebase/vertexai",_O="@firebase/firestore-compat",EO="firebase",TO="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="[DEFAULT]",SO={[ym]:"fire-core",[$2]:"fire-core-compat",[W2]:"fire-analytics",[X2]:"fire-analytics-compat",[J2]:"fire-app-check",[Z2]:"fire-app-check-compat",[eO]:"fire-auth",[tO]:"fire-auth-compat",[nO]:"fire-rtdb",[rO]:"fire-data-connect",[iO]:"fire-rtdb-compat",[aO]:"fire-fn",[sO]:"fire-fn-compat",[oO]:"fire-iid",[lO]:"fire-iid-compat",[uO]:"fire-fcm",[cO]:"fire-fcm-compat",[hO]:"fire-perf",[fO]:"fire-perf-compat",[dO]:"fire-rc",[mO]:"fire-rc-compat",[gO]:"fire-gcs",[pO]:"fire-gcs-compat",[yO]:"fire-fst",[_O]:"fire-fst-compat",[vO]:"fire-vertex","fire-js":"fire-js",[EO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,AO=new Map,_m=new Map;function p_(t,e){try{t.container.addComponent(e)}catch(n){xr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ps(t){const e=t.name;if(_m.has(e))return xr.debug(`There were multiple attempts to register component ${e}.`),!1;_m.set(e,t);for(const n of th.values())p_(n,t);for(const n of AO.values())p_(n,t);return!0}function Wg(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_i=new $l("app","Firebase",bO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _i.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs=TO;function dA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:vm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw _i.create("bad-app-name",{appName:String(i)});if(n||(n=uA()),!n)throw _i.create("no-options");const a=th.get(i);if(a){if(fa(n,a.options)&&fa(r,a.config))return a;throw _i.create("duplicate-app",{appName:i})}const s=new N2(i);for(const u of _m.values())s.addComponent(u);const l=new wO(n,r,s);return th.set(i,l),l}function mA(t=vm){const e=th.get(t);if(!e&&t===vm&&uA())return dA();if(!e)throw _i.create("no-app",{appName:t});return e}function Ei(t,e,n){var r;let i=(r=SO[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),s=e.match(/\s|\//);if(a||s){const l=[`Unable to register library "${i}" with version "${e}":`];a&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),xr.warn(l.join(" "));return}Ps(new da(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RO="firebase-heartbeat-database",CO=1,Sl="firebase-heartbeat-store";let ud=null;function gA(){return ud||(ud=F2(RO,CO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Sl)}catch(n){console.warn(n)}}}}).catch(t=>{throw _i.create("idb-open",{originalErrorMessage:t.message})})),ud}async function IO(t){try{const n=(await gA()).transaction(Sl),r=await n.objectStore(Sl).get(pA(t));return await n.done,r}catch(e){if(e instanceof Ur)xr.warn(e.message);else{const n=_i.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});xr.warn(n.message)}}}async function y_(t,e){try{const r=(await gA()).transaction(Sl,"readwrite");await r.objectStore(Sl).put(e,pA(t)),await r.done}catch(n){if(n instanceof Ur)xr.warn(n.message);else{const r=_i.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});xr.warn(r.message)}}}function pA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1024,OO=30;class NO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xO(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=v_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(s=>s.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>OO){const s=VO(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){xr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=v_(),{heartbeatsToSend:r,unsentEntries:i}=MO(this._heartbeatsCache.heartbeats),a=eh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(n){return xr.warn(n),""}}}function v_(){return new Date().toISOString().substring(0,10)}function MO(t,e=DO){const n=[];let r=t.slice();for(const i of t){const a=n.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),__(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),__(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return _2()?E2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await IO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function __(t){return eh(JSON.stringify({version:2,heartbeats:t})).length}function VO(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PO(t){Ps(new da("platform-logger",e=>new Q2(e),"PRIVATE")),Ps(new da("heartbeat",e=>new NO(e),"PRIVATE")),Ei(ym,g_,t),Ei(ym,g_,"esm2017"),Ei("fire-js","")}PO("");var LO="firebase",kO="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ei(LO,kO,"app");var E_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ti,yA;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,_){function T(){}T.prototype=_.prototype,S.D=_.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(w,I,x){for(var b=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)b[Ae-2]=arguments[Ae];return _.prototype[I].apply(w,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,_,T){T||(T=0);var w=Array(16);if(typeof _=="string")for(var I=0;16>I;++I)w[I]=_.charCodeAt(T++)|_.charCodeAt(T++)<<8|_.charCodeAt(T++)<<16|_.charCodeAt(T++)<<24;else for(I=0;16>I;++I)w[I]=_[T++]|_[T++]<<8|_[T++]<<16|_[T++]<<24;_=S.g[0],T=S.g[1],I=S.g[2];var x=S.g[3],b=_+(x^T&(I^x))+w[0]+3614090360&4294967295;_=T+(b<<7&4294967295|b>>>25),b=x+(I^_&(T^I))+w[1]+3905402710&4294967295,x=_+(b<<12&4294967295|b>>>20),b=I+(T^x&(_^T))+w[2]+606105819&4294967295,I=x+(b<<17&4294967295|b>>>15),b=T+(_^I&(x^_))+w[3]+3250441966&4294967295,T=I+(b<<22&4294967295|b>>>10),b=_+(x^T&(I^x))+w[4]+4118548399&4294967295,_=T+(b<<7&4294967295|b>>>25),b=x+(I^_&(T^I))+w[5]+1200080426&4294967295,x=_+(b<<12&4294967295|b>>>20),b=I+(T^x&(_^T))+w[6]+2821735955&4294967295,I=x+(b<<17&4294967295|b>>>15),b=T+(_^I&(x^_))+w[7]+4249261313&4294967295,T=I+(b<<22&4294967295|b>>>10),b=_+(x^T&(I^x))+w[8]+1770035416&4294967295,_=T+(b<<7&4294967295|b>>>25),b=x+(I^_&(T^I))+w[9]+2336552879&4294967295,x=_+(b<<12&4294967295|b>>>20),b=I+(T^x&(_^T))+w[10]+4294925233&4294967295,I=x+(b<<17&4294967295|b>>>15),b=T+(_^I&(x^_))+w[11]+2304563134&4294967295,T=I+(b<<22&4294967295|b>>>10),b=_+(x^T&(I^x))+w[12]+1804603682&4294967295,_=T+(b<<7&4294967295|b>>>25),b=x+(I^_&(T^I))+w[13]+4254626195&4294967295,x=_+(b<<12&4294967295|b>>>20),b=I+(T^x&(_^T))+w[14]+2792965006&4294967295,I=x+(b<<17&4294967295|b>>>15),b=T+(_^I&(x^_))+w[15]+1236535329&4294967295,T=I+(b<<22&4294967295|b>>>10),b=_+(I^x&(T^I))+w[1]+4129170786&4294967295,_=T+(b<<5&4294967295|b>>>27),b=x+(T^I&(_^T))+w[6]+3225465664&4294967295,x=_+(b<<9&4294967295|b>>>23),b=I+(_^T&(x^_))+w[11]+643717713&4294967295,I=x+(b<<14&4294967295|b>>>18),b=T+(x^_&(I^x))+w[0]+3921069994&4294967295,T=I+(b<<20&4294967295|b>>>12),b=_+(I^x&(T^I))+w[5]+3593408605&4294967295,_=T+(b<<5&4294967295|b>>>27),b=x+(T^I&(_^T))+w[10]+38016083&4294967295,x=_+(b<<9&4294967295|b>>>23),b=I+(_^T&(x^_))+w[15]+3634488961&4294967295,I=x+(b<<14&4294967295|b>>>18),b=T+(x^_&(I^x))+w[4]+3889429448&4294967295,T=I+(b<<20&4294967295|b>>>12),b=_+(I^x&(T^I))+w[9]+568446438&4294967295,_=T+(b<<5&4294967295|b>>>27),b=x+(T^I&(_^T))+w[14]+3275163606&4294967295,x=_+(b<<9&4294967295|b>>>23),b=I+(_^T&(x^_))+w[3]+4107603335&4294967295,I=x+(b<<14&4294967295|b>>>18),b=T+(x^_&(I^x))+w[8]+1163531501&4294967295,T=I+(b<<20&4294967295|b>>>12),b=_+(I^x&(T^I))+w[13]+2850285829&4294967295,_=T+(b<<5&4294967295|b>>>27),b=x+(T^I&(_^T))+w[2]+4243563512&4294967295,x=_+(b<<9&4294967295|b>>>23),b=I+(_^T&(x^_))+w[7]+1735328473&4294967295,I=x+(b<<14&4294967295|b>>>18),b=T+(x^_&(I^x))+w[12]+2368359562&4294967295,T=I+(b<<20&4294967295|b>>>12),b=_+(T^I^x)+w[5]+4294588738&4294967295,_=T+(b<<4&4294967295|b>>>28),b=x+(_^T^I)+w[8]+2272392833&4294967295,x=_+(b<<11&4294967295|b>>>21),b=I+(x^_^T)+w[11]+1839030562&4294967295,I=x+(b<<16&4294967295|b>>>16),b=T+(I^x^_)+w[14]+4259657740&4294967295,T=I+(b<<23&4294967295|b>>>9),b=_+(T^I^x)+w[1]+2763975236&4294967295,_=T+(b<<4&4294967295|b>>>28),b=x+(_^T^I)+w[4]+1272893353&4294967295,x=_+(b<<11&4294967295|b>>>21),b=I+(x^_^T)+w[7]+4139469664&4294967295,I=x+(b<<16&4294967295|b>>>16),b=T+(I^x^_)+w[10]+3200236656&4294967295,T=I+(b<<23&4294967295|b>>>9),b=_+(T^I^x)+w[13]+681279174&4294967295,_=T+(b<<4&4294967295|b>>>28),b=x+(_^T^I)+w[0]+3936430074&4294967295,x=_+(b<<11&4294967295|b>>>21),b=I+(x^_^T)+w[3]+3572445317&4294967295,I=x+(b<<16&4294967295|b>>>16),b=T+(I^x^_)+w[6]+76029189&4294967295,T=I+(b<<23&4294967295|b>>>9),b=_+(T^I^x)+w[9]+3654602809&4294967295,_=T+(b<<4&4294967295|b>>>28),b=x+(_^T^I)+w[12]+3873151461&4294967295,x=_+(b<<11&4294967295|b>>>21),b=I+(x^_^T)+w[15]+530742520&4294967295,I=x+(b<<16&4294967295|b>>>16),b=T+(I^x^_)+w[2]+3299628645&4294967295,T=I+(b<<23&4294967295|b>>>9),b=_+(I^(T|~x))+w[0]+4096336452&4294967295,_=T+(b<<6&4294967295|b>>>26),b=x+(T^(_|~I))+w[7]+1126891415&4294967295,x=_+(b<<10&4294967295|b>>>22),b=I+(_^(x|~T))+w[14]+2878612391&4294967295,I=x+(b<<15&4294967295|b>>>17),b=T+(x^(I|~_))+w[5]+4237533241&4294967295,T=I+(b<<21&4294967295|b>>>11),b=_+(I^(T|~x))+w[12]+1700485571&4294967295,_=T+(b<<6&4294967295|b>>>26),b=x+(T^(_|~I))+w[3]+2399980690&4294967295,x=_+(b<<10&4294967295|b>>>22),b=I+(_^(x|~T))+w[10]+4293915773&4294967295,I=x+(b<<15&4294967295|b>>>17),b=T+(x^(I|~_))+w[1]+2240044497&4294967295,T=I+(b<<21&4294967295|b>>>11),b=_+(I^(T|~x))+w[8]+1873313359&4294967295,_=T+(b<<6&4294967295|b>>>26),b=x+(T^(_|~I))+w[15]+4264355552&4294967295,x=_+(b<<10&4294967295|b>>>22),b=I+(_^(x|~T))+w[6]+2734768916&4294967295,I=x+(b<<15&4294967295|b>>>17),b=T+(x^(I|~_))+w[13]+1309151649&4294967295,T=I+(b<<21&4294967295|b>>>11),b=_+(I^(T|~x))+w[4]+4149444226&4294967295,_=T+(b<<6&4294967295|b>>>26),b=x+(T^(_|~I))+w[11]+3174756917&4294967295,x=_+(b<<10&4294967295|b>>>22),b=I+(_^(x|~T))+w[2]+718787259&4294967295,I=x+(b<<15&4294967295|b>>>17),b=T+(x^(I|~_))+w[9]+3951481745&4294967295,S.g[0]=S.g[0]+_&4294967295,S.g[1]=S.g[1]+(I+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+I&4294967295,S.g[3]=S.g[3]+x&4294967295}r.prototype.u=function(S,_){_===void 0&&(_=S.length);for(var T=_-this.blockSize,w=this.B,I=this.h,x=0;x<_;){if(I==0)for(;x<=T;)i(this,S,x),x+=this.blockSize;if(typeof S=="string"){for(;x<_;)if(w[I++]=S.charCodeAt(x++),I==this.blockSize){i(this,w),I=0;break}}else for(;x<_;)if(w[I++]=S[x++],I==this.blockSize){i(this,w),I=0;break}}this.h=I,this.o+=_},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var _=1;_<S.length-8;++_)S[_]=0;var T=8*this.o;for(_=S.length-8;_<S.length;++_)S[_]=T&255,T/=256;for(this.u(S),S=Array(16),_=T=0;4>_;++_)for(var w=0;32>w;w+=8)S[T++]=this.g[_]>>>w&255;return S};function a(S,_){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=_(S)}function s(S,_){this.h=_;for(var T=[],w=!0,I=S.length-1;0<=I;I--){var x=S[I]|0;w&&x==_||(T[I]=x,w=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?a(S,function(_){return new s([_|0],0>_?-1:0)}):new s([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return m;if(0>S)return O(c(-S));for(var _=[],T=1,w=0;S>=T;w++)_[w]=S/T|0,T*=4294967296;return new s(_,0)}function f(S,_){if(S.length==0)throw Error("number format error: empty string");if(_=_||10,2>_||36<_)throw Error("radix out of range: "+_);if(S.charAt(0)=="-")return O(f(S.substring(1),_));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(_,8)),w=m,I=0;I<S.length;I+=8){var x=Math.min(8,S.length-I),b=parseInt(S.substring(I,I+x),_);8>x?(x=c(Math.pow(_,x)),w=w.j(x).add(c(b))):(w=w.j(T),w=w.add(c(b)))}return w}var m=u(0),g=u(1),p=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-O(this).m();for(var S=0,_=1,T=0;T<this.g.length;T++){var w=this.i(T);S+=(0<=w?w:4294967296+w)*_,_*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(R(this))return"0";if(N(this))return"-"+O(this).toString(S);for(var _=c(Math.pow(S,6)),T=this,w="";;){var I=M(T,_).g;T=E(T,I.j(_));var x=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=I,R(T))return x+w;for(;6>x.length;)x="0"+x;w=x+w}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function R(S){if(S.h!=0)return!1;for(var _=0;_<S.g.length;_++)if(S.g[_]!=0)return!1;return!0}function N(S){return S.h==-1}t.l=function(S){return S=E(this,S),N(S)?-1:R(S)?0:1};function O(S){for(var _=S.g.length,T=[],w=0;w<_;w++)T[w]=~S.g[w];return new s(T,~S.h).add(g)}t.abs=function(){return N(this)?O(this):this},t.add=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],w=0,I=0;I<=_;I++){var x=w+(this.i(I)&65535)+(S.i(I)&65535),b=(x>>>16)+(this.i(I)>>>16)+(S.i(I)>>>16);w=b>>>16,x&=65535,b&=65535,T[I]=b<<16|x}return new s(T,T[T.length-1]&-2147483648?-1:0)};function E(S,_){return S.add(O(_))}t.j=function(S){if(R(this)||R(S))return m;if(N(this))return N(S)?O(this).j(O(S)):O(O(this).j(S));if(N(S))return O(this.j(O(S)));if(0>this.l(p)&&0>S.l(p))return c(this.m()*S.m());for(var _=this.g.length+S.g.length,T=[],w=0;w<2*_;w++)T[w]=0;for(w=0;w<this.g.length;w++)for(var I=0;I<S.g.length;I++){var x=this.i(w)>>>16,b=this.i(w)&65535,Ae=S.i(I)>>>16,Ge=S.i(I)&65535;T[2*w+2*I]+=b*Ge,v(T,2*w+2*I),T[2*w+2*I+1]+=x*Ge,v(T,2*w+2*I+1),T[2*w+2*I+1]+=b*Ae,v(T,2*w+2*I+1),T[2*w+2*I+2]+=x*Ae,v(T,2*w+2*I+2)}for(w=0;w<_;w++)T[w]=T[2*w+1]<<16|T[2*w];for(w=_;w<2*_;w++)T[w]=0;return new s(T,0)};function v(S,_){for(;(S[_]&65535)!=S[_];)S[_+1]+=S[_]>>>16,S[_]&=65535,_++}function A(S,_){this.g=S,this.h=_}function M(S,_){if(R(_))throw Error("division by zero");if(R(S))return new A(m,m);if(N(S))return _=M(O(S),_),new A(O(_.g),O(_.h));if(N(_))return _=M(S,O(_)),new A(O(_.g),_.h);if(30<S.g.length){if(N(S)||N(_))throw Error("slowDivide_ only works with positive integers.");for(var T=g,w=_;0>=w.l(S);)T=z(T),w=z(w);var I=D(T,1),x=D(w,1);for(w=D(w,2),T=D(T,2);!R(w);){var b=x.add(w);0>=b.l(S)&&(I=I.add(T),x=b),w=D(w,1),T=D(T,1)}return _=E(S,I.j(_)),new A(I,_)}for(I=m;0<=S.l(_);){for(T=Math.max(1,Math.floor(S.m()/_.m())),w=Math.ceil(Math.log(T)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),x=c(T),b=x.j(_);N(b)||0<b.l(S);)T-=w,x=c(T),b=x.j(_);R(x)&&(x=g),I=I.add(x),S=E(S,b)}return new A(I,S)}t.A=function(S){return M(this,S).h},t.and=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],w=0;w<_;w++)T[w]=this.i(w)&S.i(w);return new s(T,this.h&S.h)},t.or=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],w=0;w<_;w++)T[w]=this.i(w)|S.i(w);return new s(T,this.h|S.h)},t.xor=function(S){for(var _=Math.max(this.g.length,S.g.length),T=[],w=0;w<_;w++)T[w]=this.i(w)^S.i(w);return new s(T,this.h^S.h)};function z(S){for(var _=S.g.length+1,T=[],w=0;w<_;w++)T[w]=S.i(w)<<1|S.i(w-1)>>>31;return new s(T,S.h)}function D(S,_){var T=_>>5;_%=32;for(var w=S.g.length-T,I=[],x=0;x<w;x++)I[x]=0<_?S.i(x+T)>>>_|S.i(x+T+1)<<32-_:S.i(x+T);return new s(I,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yA=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=c,s.fromString=f,Ti=s}).apply(typeof E_<"u"?E_:typeof self<"u"?self:typeof window<"u"?window:{});var ju=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vA,Lo,_A,cc,Em,EA,TA,SA;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,h,d){return o==Array.prototype||o==Object.prototype||(o[h]=d.value),o};function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof ju=="object"&&ju];for(var h=0;h<o.length;++h){var d=o[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function i(o,h){if(h)e:{var d=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var P=o[y];if(!(P in d))break e;d=d[P]}o=o[o.length-1],y=d[o],h=h(y),h!=y&&h!=null&&e(d,o,{configurable:!0,writable:!0,value:h})}}function a(o,h){o instanceof String&&(o+="");var d=0,y=!1,P={next:function(){if(!y&&d<o.length){var U=d++;return{value:h(U,o[U]),done:!1}}return y=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}i("Array.prototype.values",function(o){return o||function(){return a(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function u(o){var h=typeof o;return h=h!="object"?h:o?Array.isArray(o)?"array":h:"null",h=="array"||h=="object"&&typeof o.length=="number"}function c(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function f(o,h,d){return o.call.apply(o.bind,arguments)}function m(o,h,d){if(!o)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,y),o.apply(h,P)}}return function(){return o.apply(h,arguments)}}function g(o,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:m,g.apply(null,arguments)}function p(o,h){var d=Array.prototype.slice.call(arguments,1);return function(){var y=d.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function R(o,h){function d(){}d.prototype=h.prototype,o.aa=h.prototype,o.prototype=new d,o.prototype.constructor=o,o.Qb=function(y,P,U){for(var K=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)K[ke-2]=arguments[ke];return h.prototype[P].apply(y,K)}}function N(o){const h=o.length;if(0<h){const d=Array(h);for(let y=0;y<h;y++)d[y]=o[y];return d}return[]}function O(o,h){for(let d=1;d<arguments.length;d++){const y=arguments[d];if(u(y)){const P=o.length||0,U=y.length||0;o.length=P+U;for(let K=0;K<U;K++)o[P+K]=y[K]}else o.push(y)}}class E{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function v(o){return/^[\s\xa0]*$/.test(o)}function A(){var o=l.navigator;return o&&(o=o.userAgent)?o:""}function M(o){return M[" "](o),o}M[" "]=function(){};var z=A().indexOf("Gecko")!=-1&&!(A().toLowerCase().indexOf("webkit")!=-1&&A().indexOf("Edge")==-1)&&!(A().indexOf("Trident")!=-1||A().indexOf("MSIE")!=-1)&&A().indexOf("Edge")==-1;function D(o,h,d){for(const y in o)h.call(d,o[y],y,o)}function S(o,h){for(const d in o)h.call(void 0,o[d],d,o)}function _(o){const h={};for(const d in o)h[d]=o[d];return h}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(o,h){let d,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(d in y)o[d]=y[d];for(let U=0;U<T.length;U++)d=T[U],Object.prototype.hasOwnProperty.call(y,d)&&(o[d]=y[d])}}function I(o){var h=1;o=o.split(":");const d=[];for(;0<h&&o.length;)d.push(o.shift()),h--;return o.length&&d.push(o.join(":")),d}function x(o){l.setTimeout(()=>{throw o},0)}function b(){var o=de;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class Ae{constructor(){this.h=this.g=null}add(h,d){const y=Ge.get();y.set(h,d),this.h?this.h.next=y:this.g=y,this.h=y}}var Ge=new E(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let J,ee=!1,de=new Ae,pe=()=>{const o=l.Promise.resolve(void 0);J=()=>{o.then(vt)}};var vt=()=>{for(var o;o=b();){try{o.h.call(o.g)}catch(d){x(d)}var h=Ge;h.j(o),100>h.h&&(h.h++,o.next=h.g,h.g=o)}ee=!1};function ht(){this.s=this.s,this.C=this.C}ht.prototype.s=!1,ht.prototype.ma=function(){this.s||(this.s=!0,this.N())},ht.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ie(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}Ie.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return o}();function qt(o,h){if(Ie.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var d=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget){if(z){e:{try{M(h.nodeName);var P=!0;break e}catch{}P=!1}P||(h=null)}}else d=="mouseover"?h=o.fromElement:d=="mouseout"&&(h=o.toElement);this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:ur[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&qt.aa.h.call(this)}}R(qt,Ie);var ur={2:"touch",3:"pen",4:"mouse"};qt.prototype.h=function(){qt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ra="closure_listenable_"+(1e6*Math.random()|0),hf=0;function ff(o,h,d,y,P){this.listener=o,this.proxy=null,this.src=h,this.type=d,this.capture=!!y,this.ha=P,this.key=++hf,this.da=this.fa=!1}function st(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Cn(o){this.src=o,this.g={},this.h=0}Cn.prototype.add=function(o,h,d,y,P){var U=o.toString();o=this.g[U],o||(o=this.g[U]=[],this.h++);var K=io(o,h,y,P);return-1<K?(h=o[K],d||(h.fa=!1)):(h=new ff(h,this.src,U,!!y,P),h.fa=d,o.push(h)),h};function Ca(o,h){var d=h.type;if(d in o.g){var y=o.g[d],P=Array.prototype.indexOf.call(y,h,void 0),U;(U=0<=P)&&Array.prototype.splice.call(y,P,1),U&&(st(h),o.g[d].length==0&&(delete o.g[d],o.h--))}}function io(o,h,d,y){for(var P=0;P<o.length;++P){var U=o[P];if(!U.da&&U.listener==h&&U.capture==!!d&&U.ha==y)return P}return-1}var In="closure_lm_"+(1e6*Math.random()|0),ao={};function ru(o,h,d,y,P){if(Array.isArray(h)){for(var U=0;U<h.length;U++)ru(o,h[U],d,y,P);return null}return d=Da(d),o&&o[Ra]?o.K(h,d,c(y)?!!y.capture:!1,P):iu(o,h,d,!1,y,P)}function iu(o,h,d,y,P,U){if(!h)throw Error("Invalid event type");var K=c(P)?!!P.capture:!!P,ke=hr(o);if(ke||(o[In]=ke=new Cn(o)),d=ke.add(h,d,y,K,U),d.proxy)return d;if(y=df(),d.proxy=y,y.src=o,y.listener=d,o.addEventListener)bt||(P=K),P===void 0&&(P=!1),o.addEventListener(h.toString(),y,P);else if(o.attachEvent)o.attachEvent(su(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return d}function df(){function o(d){return h.call(o.src,o.listener,d)}const h=cr;return o}function au(o,h,d,y,P){if(Array.isArray(h))for(var U=0;U<h.length;U++)au(o,h[U],d,y,P);else y=c(y)?!!y.capture:!!y,d=Da(d),o&&o[Ra]?(o=o.i,h=String(h).toString(),h in o.g&&(U=o.g[h],d=io(U,d,y,P),-1<d&&(st(U[d]),Array.prototype.splice.call(U,d,1),U.length==0&&(delete o.g[h],o.h--)))):o&&(o=hr(o))&&(h=o.g[h.toString()],o=-1,h&&(o=io(h,d,y,P)),(d=-1<o?h[o]:null)&&so(d))}function so(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[Ra])Ca(h.i,o);else{var d=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(d,y,o.capture):h.detachEvent?h.detachEvent(su(d),y):h.addListener&&h.removeListener&&h.removeListener(y),(d=hr(h))?(Ca(d,o),d.h==0&&(d.src=null,h[In]=null)):st(o)}}}function su(o){return o in ao?ao[o]:ao[o]="on"+o}function cr(o,h){if(o.da)o=!0;else{h=new qt(h,this);var d=o.listener,y=o.ha||o.src;o.fa&&so(o),o=d.call(y,h)}return o}function hr(o){return o=o[In],o instanceof Cn?o:null}var Ia="__closure_events_fn_"+(1e9*Math.random()>>>0);function Da(o){return typeof o=="function"?o:(o[Ia]||(o[Ia]=function(h){return o.handleEvent(h)}),o[Ia])}function je(){ht.call(this),this.i=new Cn(this),this.M=this,this.F=null}R(je,ht),je.prototype[Ra]=!0,je.prototype.removeEventListener=function(o,h,d,y){au(this,o,h,d,y)};function Be(o,h){var d,y=o.F;if(y)for(d=[];y;y=y.F)d.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new Ie(h,o);else if(h instanceof Ie)h.target=h.target||o;else{var P=h;h=new Ie(y,o),w(h,P)}if(P=!0,d)for(var U=d.length-1;0<=U;U--){var K=h.g=d[U];P=Ui(K,y,!0,h)&&P}if(K=h.g=o,P=Ui(K,y,!0,h)&&P,P=Ui(K,y,!1,h)&&P,d)for(U=0;U<d.length;U++)K=h.g=d[U],P=Ui(K,y,!1,h)&&P}je.prototype.N=function(){if(je.aa.N.call(this),this.i){var o=this.i,h;for(h in o.g){for(var d=o.g[h],y=0;y<d.length;y++)st(d[y]);delete o.g[h],o.h--}}this.F=null},je.prototype.K=function(o,h,d,y){return this.i.add(String(o),h,!1,d,y)},je.prototype.L=function(o,h,d,y){return this.i.add(String(o),h,!0,d,y)};function Ui(o,h,d,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();for(var P=!0,U=0;U<h.length;++U){var K=h[U];if(K&&!K.da&&K.capture==d){var ke=K.listener,wt=K.ha||K.src;K.fa&&Ca(o.i,K),P=ke.call(wt,y)!==!1&&P}}return P&&!y.defaultPrevented}function Oa(o,h,d){if(typeof o=="function")d&&(o=g(o,d));else if(o&&typeof o.handleEvent=="function")o=g(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(o,h||0)}function ou(o){o.g=Oa(()=>{o.g=null,o.i&&(o.i=!1,ou(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class zn extends ht{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:ou(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zr(o){ht.call(this),this.h=o,this.g={}}R(zr,ht);var oo=[];function lo(o){D(o.g,function(h,d){this.g.hasOwnProperty(d)&&so(h)},o),o.g={}}zr.prototype.N=function(){zr.aa.N.call(this),lo(this)},zr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=l.JSON.stringify,lu=l.JSON.parse,Na=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function Ma(){}Ma.prototype.h=null;function xa(o){return o.h||(o.h=o.i())}function uu(){}var jr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function co(){Ie.call(this,"d")}R(co,Ie);function Va(){Ie.call(this,"c")}R(Va,Ie);var mn={},zi=null;function Pa(){return zi=zi||new je}mn.La="serverreachability";function cu(o){Ie.call(this,mn.La,o)}R(cu,Ie);function C(o){const h=Pa();Be(h,new cu(h))}mn.STAT_EVENT="statevent";function V(o,h){Ie.call(this,mn.STAT_EVENT,o),this.stat=h}R(V,Ie);function L(o){const h=Pa();Be(h,new V(h,o))}mn.Ma="timingevent";function G(o,h){Ie.call(this,mn.Ma,o),this.size=h}R(G,Ie);function Q(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function X(){this.g=!0}X.prototype.xa=function(){this.g=!1};function ie(o,h,d,y,P,U){o.info(function(){if(o.g)if(U)for(var K="",ke=U.split("&"),wt=0;wt<ke.length;wt++){var Ce=ke[wt].split("=");if(1<Ce.length){var Vt=Ce[0];Ce=Ce[1];var Pt=Vt.split("_");K=2<=Pt.length&&Pt[1]=="type"?K+(Vt+"="+Ce+"&"):K+(Vt+"=redacted&")}}else K=null;else K=U;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+d+`
`+K})}function $(o,h,d,y,P,U,K){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+d+`
`+U+" "+K})}function W(o,h,d,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+le(o,d)+(y?" "+y:"")})}function te(o,h){o.info(function(){return"TIMEOUT: "+h})}X.prototype.info=function(){};function le(o,h){if(!o.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(o=0;o<d.length;o++)if(Array.isArray(d[o])){var y=d[o];if(!(2>y.length)){var P=y[1];if(Array.isArray(P)&&!(1>P.length)){var U=P[0];if(U!="noop"&&U!="stop"&&U!="close")for(var K=1;K<P.length;K++)P[K]=""}}}}return uo(d)}catch{return h}}var Z={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},he={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ne;function Ke(){}R(Ke,Ma),Ke.prototype.g=function(){return new XMLHttpRequest},Ke.prototype.i=function(){return{}},Ne=new Ke;function He(o,h,d,y){this.j=o,this.i=h,this.l=d,this.R=y||1,this.U=new zr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mt}function Mt(){this.i=null,this.g="",this.h=!1}var be={},fr={};function Dn(o,h,d){o.L=1,o.v=mu(dr(h)),o.m=d,o.P=!0,Br(o,null)}function Br(o,h){o.F=Date.now(),jn(o),o.A=dr(o.v);var d=o.A,y=o.R;Array.isArray(y)||(y=[String(y)]),Qp(d.i,"t",y),o.C=0,d=o.j.J,o.h=new Mt,o.g=hy(o.j,d?h:null,!o.m),0<o.O&&(o.M=new zn(g(o.Y,o,o.g),o.O)),h=o.U,d=o.g,y=o.ca;var P="readystatechange";Array.isArray(P)||(P&&(oo[0]=P.toString()),P=oo);for(var U=0;U<P.length;U++){var K=ru(d,P[U],y||h.handleEvent,!1,h.h||h);if(!K)break;h.g[K.key]=K}h=o.H?_(o.H):{},o.m?(o.u||(o.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,h)):(o.u="GET",o.g.ea(o.A,o.u,null,h)),C(),ie(o.i,o.u,o.A,o.l,o.R,o.m)}He.prototype.ca=function(o){o=o.target;const h=this.M;h&&mr(o)==3?h.j():this.Y(o)},He.prototype.Y=function(o){try{if(o==this.g)e:{const Pt=mr(this.g);var h=this.g.Ba();const Ba=this.g.Z();if(!(3>Pt)&&(Pt!=3||this.g&&(this.h.h||this.g.oa()||ey(this.g)))){this.J||Pt!=4||h==7||(h==8||0>=Ba?C(3):C(2)),On(this);var d=this.g.Z();this.X=d;t:if(Ft(this)){var y=ey(this.g);o="";var P=y.length,U=mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ee(this),Bn(this);var K="";break t}this.h.i=new l.TextDecoder}for(h=0;h<P;h++)this.h.h=!0,o+=this.h.i.decode(y[h],{stream:!(U&&h==P-1)});y.length=0,this.h.g+=o,this.C=0,K=this.h.g}else K=this.g.oa();if(this.o=d==200,$(this.i,this.u,this.A,this.l,this.R,Pt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var ke,wt=this.g;if((ke=wt.g?wt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(ke)){var Ce=ke;break t}}Ce=null}if(d=Ce)W(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xt(this,d);else{this.o=!1,this.s=3,L(12),Ee(this),Bn(this);break e}}if(this.P){d=!0;let Nn;for(;!this.J&&this.C<K.length;)if(Nn=ji(this,K),Nn==fr){Pt==4&&(this.s=4,L(14),d=!1),W(this.i,this.l,null,"[Incomplete Response]");break}else if(Nn==be){this.s=4,L(15),W(this.i,this.l,K,"[Invalid Chunk]"),d=!1;break}else W(this.i,this.l,Nn,null),xt(this,Nn);if(Ft(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Pt!=4||K.length!=0||this.h.h||(this.s=1,L(16),d=!1),this.o=this.o&&d,!d)W(this.i,this.l,K,"[Invalid Chunked Response]"),Ee(this),Bn(this);else if(0<K.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+K.length),yf(Vt),Vt.M=!0,L(11))}}else W(this.i,this.l,K,null),xt(this,K);Pt==4&&Ee(this),this.o&&!this.J&&(Pt==4?oy(this.j,this):(this.o=!1,jn(this)))}else Uw(this.g),d==400&&0<K.indexOf("Unknown SID")?(this.s=3,L(12)):(this.s=0,L(13)),Ee(this),Bn(this)}}}catch{}finally{}};function Ft(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function ji(o,h){var d=o.C,y=h.indexOf(`
`,d);return y==-1?fr:(d=Number(h.substring(d,y)),isNaN(d)?be:(y+=1,y+d>h.length?fr:(h=h.slice(y,y+d),o.C=y+d,h)))}He.prototype.cancel=function(){this.J=!0,Ee(this)};function jn(o){o.S=Date.now()+o.I,La(o,o.I)}function La(o,h){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Q(g(o.ba,o),h)}function On(o){o.B&&(l.clearTimeout(o.B),o.B=null)}He.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(te(this.i,this.A),this.L!=2&&(C(),L(17)),Ee(this),this.s=2,Bn(this)):La(this,this.S-o)};function Bn(o){o.j.G==0||o.J||oy(o.j,o)}function Ee(o){On(o);var h=o.M;h&&typeof h.ma=="function"&&h.ma(),o.M=null,lo(o.U),o.g&&(h=o.g,o.g=null,h.abort(),h.ma())}function xt(o,h){try{var d=o.j;if(d.G!=0&&(d.g==o||qn(d.h,o))){if(!o.K&&qn(d.h,o)&&d.G==3){try{var y=d.Da.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<o.F)Eu(d),vu(d);else break e;pf(d),L(18)}}else d.za=P[1],0<d.za-d.T&&37500>P[2]&&d.F&&d.v==0&&!d.C&&(d.C=Q(g(d.Za,d),6e3));if(1>=We(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else qi(d,11)}else if((o.K||d.g==o)&&Eu(d),!v(h))for(P=d.Da.g.parse(h),h=0;h<P.length;h++){let Ce=P[h];if(d.T=Ce[0],Ce=Ce[1],d.G==2)if(Ce[0]=="c"){d.K=Ce[1],d.ia=Ce[2];const Vt=Ce[3];Vt!=null&&(d.la=Vt,d.j.info("VER="+d.la));const Pt=Ce[4];Pt!=null&&(d.Aa=Pt,d.j.info("SVER="+d.Aa));const Ba=Ce[5];Ba!=null&&typeof Ba=="number"&&0<Ba&&(y=1.5*Ba,d.L=y,d.j.info("backChannelRequestTimeoutMs_="+y)),y=d;const Nn=o.g;if(Nn){const Su=Nn.g?Nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Su){var U=y.h;U.g||Su.indexOf("spdy")==-1&&Su.indexOf("quic")==-1&&Su.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Ua(U,U.h),U.h=null))}if(y.D){const vf=Nn.g?Nn.g.getResponseHeader("X-HTTP-Session-Id"):null;vf&&(y.ya=vf,qe(y.I,y.D,vf))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-o.F,d.j.info("Handshake RTT: "+d.R+"ms")),y=d;var K=o;if(y.qa=cy(y,y.J?y.ia:null,y.W),K.K){hu(y.h,K);var ke=K,wt=y.L;wt&&(ke.I=wt),ke.B&&(On(ke),jn(ke)),y.g=K}else ay(y);0<d.i.length&&_u(d)}else Ce[0]!="stop"&&Ce[0]!="close"||qi(d,7);else d.G==3&&(Ce[0]=="stop"||Ce[0]=="close"?Ce[0]=="stop"?qi(d,7):gf(d):Ce[0]!="noop"&&d.l&&d.l.ta(Ce),d.v=0)}}C(4)}catch{}}var Hn=class{constructor(o,h){this.g=o,this.map=h}};function Bi(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ka(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function We(o){return o.h?1:o.g?o.g.size:0}function qn(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Ua(o,h){o.g?o.g.add(h):o.h=h}function hu(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Bi.prototype.cancel=function(){if(this.i=jp(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function jp(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const d of o.g.values())h=h.concat(d.D);return h}return N(o.i)}function Aw(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(u(o)){for(var h=[],d=o.length,y=0;y<d;y++)h.push(o[y]);return h}h=[],d=0;for(y in o)h[d++]=o[y];return h}function bw(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(u(o)||typeof o=="string"){var h=[];o=o.length;for(var d=0;d<o;d++)h.push(d);return h}h=[],d=0;for(const y in o)h[d++]=y;return h}}}function Bp(o,h){if(o.forEach&&typeof o.forEach=="function")o.forEach(h,void 0);else if(u(o)||typeof o=="string")Array.prototype.forEach.call(o,h,void 0);else for(var d=bw(o),y=Aw(o),P=y.length,U=0;U<P;U++)h.call(void 0,y[U],d&&d[U],o)}var Hp=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ww(o,h){if(o){o=o.split("&");for(var d=0;d<o.length;d++){var y=o[d].indexOf("="),P=null;if(0<=y){var U=o[d].substring(0,y);P=o[d].substring(y+1)}else U=o[d];h(U,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function Hi(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof Hi){this.h=o.h,fu(this,o.j),this.o=o.o,this.g=o.g,du(this,o.s),this.l=o.l;var h=o.i,d=new mo;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),qp(this,d),this.m=o.m}else o&&(h=String(o).match(Hp))?(this.h=!1,fu(this,h[1]||"",!0),this.o=ho(h[2]||""),this.g=ho(h[3]||"",!0),du(this,h[4]),this.l=ho(h[5]||"",!0),qp(this,h[6]||"",!0),this.m=ho(h[7]||"")):(this.h=!1,this.i=new mo(null,this.h))}Hi.prototype.toString=function(){var o=[],h=this.j;h&&o.push(fo(h,Fp,!0),":");var d=this.g;return(d||h=="file")&&(o.push("//"),(h=this.o)&&o.push(fo(h,Fp,!0),"@"),o.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&o.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&o.push("/"),o.push(fo(d,d.charAt(0)=="/"?Iw:Cw,!0))),(d=this.i.toString())&&o.push("?",d),(d=this.m)&&o.push("#",fo(d,Ow)),o.join("")};function dr(o){return new Hi(o)}function fu(o,h,d){o.j=d?ho(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function du(o,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);o.s=h}else o.s=null}function qp(o,h,d){h instanceof mo?(o.i=h,Nw(o.i,o.h)):(d||(h=fo(h,Dw)),o.i=new mo(h,o.h))}function qe(o,h,d){o.i.set(h,d)}function mu(o){return qe(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function ho(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function fo(o,h,d){return typeof o=="string"?(o=encodeURI(o).replace(h,Rw),d&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rw(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Fp=/[#\/\?@]/g,Cw=/[#\?:]/g,Iw=/[#\?]/g,Dw=/[#\?@]/g,Ow=/#/g;function mo(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function Hr(o){o.g||(o.g=new Map,o.h=0,o.i&&ww(o.i,function(h,d){o.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=mo.prototype,t.add=function(o,h){Hr(this),this.i=null,o=za(this,o);var d=this.g.get(o);return d||this.g.set(o,d=[]),d.push(h),this.h+=1,this};function Gp(o,h){Hr(o),h=za(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Kp(o,h){return Hr(o),h=za(o,h),o.g.has(h)}t.forEach=function(o,h){Hr(this),this.g.forEach(function(d,y){d.forEach(function(P){o.call(h,P,y,this)},this)},this)},t.na=function(){Hr(this);const o=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let y=0;y<h.length;y++){const P=o[y];for(let U=0;U<P.length;U++)d.push(h[y])}return d},t.V=function(o){Hr(this);let h=[];if(typeof o=="string")Kp(this,o)&&(h=h.concat(this.g.get(za(this,o))));else{o=Array.from(this.g.values());for(let d=0;d<o.length;d++)h=h.concat(o[d])}return h},t.set=function(o,h){return Hr(this),this.i=null,o=za(this,o),Kp(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=this.V(o),0<o.length?String(o[0]):h):h};function Qp(o,h,d){Gp(o,h),0<d.length&&(o.i=null,o.g.set(za(o,h),N(d)),o.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var y=h[d];const U=encodeURIComponent(String(y)),K=this.V(y);for(y=0;y<K.length;y++){var P=U;K[y]!==""&&(P+="="+encodeURIComponent(String(K[y]))),o.push(P)}}return this.i=o.join("&")};function za(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function Nw(o,h){h&&!o.j&&(Hr(o),o.i=null,o.g.forEach(function(d,y){var P=y.toLowerCase();y!=P&&(Gp(this,y),Qp(this,P,d))},o)),o.j=h}function Mw(o,h){const d=new X;if(l.Image){const y=new Image;y.onload=p(qr,d,"TestLoadImage: loaded",!0,h,y),y.onerror=p(qr,d,"TestLoadImage: error",!1,h,y),y.onabort=p(qr,d,"TestLoadImage: abort",!1,h,y),y.ontimeout=p(qr,d,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function xw(o,h){const d=new X,y=new AbortController,P=setTimeout(()=>{y.abort(),qr(d,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(U=>{clearTimeout(P),U.ok?qr(d,"TestPingServer: ok",!0,h):qr(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),qr(d,"TestPingServer: error",!1,h)})}function qr(o,h,d,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(d)}catch{}}function Vw(){this.g=new Na}function Pw(o,h,d){const y=d||"";try{Bp(o,function(P,U){let K=P;c(P)&&(K=uo(P)),h.push(y+U+"="+encodeURIComponent(K))})}catch(P){throw h.push(y+"type="+encodeURIComponent("_badmap")),P}}function gu(o){this.l=o.Ub||null,this.j=o.eb||!1}R(gu,Ma),gu.prototype.g=function(){return new pu(this.l,this.j)},gu.prototype.i=function(o){return function(){return o}}({});function pu(o,h){je.call(this),this.D=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}R(pu,je),t=pu.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=h,this.readyState=1,po(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(h.body=o),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,go(this)),this.readyState=0},t.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,po(this)),this.g&&(this.readyState=3,po(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yp(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yp(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}t.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?go(this):po(this),this.readyState==3&&Yp(this)}},t.Ra=function(o){this.g&&(this.response=this.responseText=o,go(this))},t.Qa=function(o){this.g&&(this.response=o,go(this))},t.ga=function(){this.g&&go(this)};function go(o){o.readyState=4,o.l=null,o.j=null,o.v=null,po(o)}t.setRequestHeader=function(o,h){this.u.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,o.push(d[0]+": "+d[1]),d=h.next();return o.join(`\r
`)};function po(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(pu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function $p(o){let h="";return D(o,function(d,y){h+=y,h+=":",h+=d,h+=`\r
`}),h}function mf(o,h,d){e:{for(y in d){var y=!1;break e}y=!0}y||(d=$p(d),typeof o=="string"?d!=null&&encodeURIComponent(String(d)):qe(o,h,d))}function et(o){je.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}R(et,je);var Lw=/^https?$/i,kw=["POST","PUT"];t=et.prototype,t.Ha=function(o){this.J=o},t.ea=function(o,h,d,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ne.g(),this.v=this.o?xa(this.o):xa(Ne),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(U){Xp(this,U);return}if(o=d||"",d=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)d.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const U of y.keys())d.set(U,y.get(U));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(d.keys()).find(U=>U.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(0<=Array.prototype.indexOf.call(kw,h,void 0))||y||P||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,K]of d)this.g.setRequestHeader(U,K);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Jp(this),this.u=!0,this.g.send(o),this.u=!1}catch(U){Xp(this,U)}};function Xp(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.m=5,Wp(o),yu(o)}function Wp(o){o.A||(o.A=!0,Be(o,"complete"),Be(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Be(this,"complete"),Be(this,"abort"),yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yu(this,!0)),et.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Zp(this):this.bb())},t.bb=function(){Zp(this)};function Zp(o){if(o.h&&typeof s<"u"&&(!o.v[1]||mr(o)!=4||o.Z()!=2)){if(o.u&&mr(o)==4)Oa(o.Ea,0,o);else if(Be(o,"readystatechange"),mr(o)==4){o.h=!1;try{const K=o.Z();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var y;if(y=K===0){var P=String(o.D).match(Hp)[1]||null;!P&&l.self&&l.self.location&&(P=l.self.location.protocol.slice(0,-1)),y=!Lw.test(P?P.toLowerCase():"")}d=y}if(d)Be(o,"complete"),Be(o,"success");else{o.m=6;try{var U=2<mr(o)?o.g.statusText:""}catch{U=""}o.l=U+" ["+o.Z()+"]",Wp(o)}}finally{yu(o)}}}}function yu(o,h){if(o.g){Jp(o);const d=o.g,y=o.v[0]?()=>{}:null;o.g=null,o.v=null,h||Be(o,"ready");try{d.onreadystatechange=y}catch{}}}function Jp(o){o.I&&(l.clearTimeout(o.I),o.I=null)}t.isActive=function(){return!!this.g};function mr(o){return o.g?o.g.readyState:0}t.Z=function(){try{return 2<mr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),lu(h)}};function ey(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Uw(o){const h={};o=(o.g&&2<=mr(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(v(o[y]))continue;var d=I(o[y]);const P=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const U=h[P]||[];h[P]=U,U.push(d)}S(h,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function yo(o,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[o]||h}function ty(o){this.Aa=0,this.i=[],this.j=new X,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=yo("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=yo("baseRetryDelayMs",5e3,o),this.cb=yo("retryDelaySeedMs",1e4,o),this.Wa=yo("forwardChannelMaxRetries",2,o),this.wa=yo("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Bi(o&&o.concurrentRequestLimit),this.Da=new Vw,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ty.prototype,t.la=8,t.G=1,t.connect=function(o,h,d,y){L(0),this.W=o,this.H=h||{},d&&y!==void 0&&(this.H.OSID=d,this.H.OAID=y),this.F=this.X,this.I=cy(this,null,this.W),_u(this)};function gf(o){if(ny(o),o.G==3){var h=o.U++,d=dr(o.I);if(qe(d,"SID",o.K),qe(d,"RID",h),qe(d,"TYPE","terminate"),vo(o,d),h=new He(o,o.j,h),h.L=2,h.v=mu(dr(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=hy(h.j,null),h.g.ea(h.v)),h.F=Date.now(),jn(h)}uy(o)}function vu(o){o.g&&(yf(o),o.g.cancel(),o.g=null)}function ny(o){vu(o),o.u&&(l.clearTimeout(o.u),o.u=null),Eu(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&l.clearTimeout(o.s),o.s=null)}function _u(o){if(!ka(o.h)&&!o.s){o.s=!0;var h=o.Ga;J||pe(),ee||(J(),ee=!0),de.add(h,o),o.B=0}}function zw(o,h){return We(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=h.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Q(g(o.Ga,o,h),ly(o,o.B)),o.B++,!0)}t.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const P=new He(this,this.j,o);let U=this.o;if(this.S&&(U?(U=_(U),w(U,this.S)):U=this.S),this.m!==null||this.O||(P.H=U,U=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var y=this.i[d];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=iy(this,P,h),d=dr(this.I),qe(d,"RID",o),qe(d,"CVER",22),this.D&&qe(d,"X-HTTP-Session-Id",this.D),vo(this,d),U&&(this.O?h="headers="+encodeURIComponent(String($p(U)))+"&"+h:this.m&&mf(d,this.m,U)),Ua(this.h,P),this.Ua&&qe(d,"TYPE","init"),this.P?(qe(d,"$req",h),qe(d,"SID","null"),P.T=!0,Dn(P,d,null)):Dn(P,d,h),this.G=2}}else this.G==3&&(o?ry(this,o):this.i.length==0||ka(this.h)||ry(this))};function ry(o,h){var d;h?d=h.l:d=o.U++;const y=dr(o.I);qe(y,"SID",o.K),qe(y,"RID",d),qe(y,"AID",o.T),vo(o,y),o.m&&o.o&&mf(y,o.m,o.o),d=new He(o,o.j,d,o.B+1),o.m===null&&(d.H=o.o),h&&(o.i=h.D.concat(o.i)),h=iy(o,d,1e3),d.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ua(o.h,d),Dn(d,y,h)}function vo(o,h){o.H&&D(o.H,function(d,y){qe(h,y,d)}),o.l&&Bp({},function(d,y){qe(h,y,d)})}function iy(o,h,d){d=Math.min(o.i.length,d);var y=o.l?g(o.l.Na,o.l,o):null;e:{var P=o.i;let U=-1;for(;;){const K=["count="+d];U==-1?0<d?(U=P[0].g,K.push("ofs="+U)):U=0:K.push("ofs="+U);let ke=!0;for(let wt=0;wt<d;wt++){let Ce=P[wt].g;const Vt=P[wt].map;if(Ce-=U,0>Ce)U=Math.max(0,P[wt].g-100),ke=!1;else try{Pw(Vt,K,"req"+Ce+"_")}catch{y&&y(Vt)}}if(ke){y=K.join("&");break e}}}return o=o.i.splice(0,d),h.D=o,y}function ay(o){if(!o.g&&!o.u){o.Y=1;var h=o.Fa;J||pe(),ee||(J(),ee=!0),de.add(h,o),o.v=0}}function pf(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Q(g(o.Fa,o),ly(o,o.v)),o.v++,!0)}t.Fa=function(){if(this.u=null,sy(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Q(g(this.ab,this),o)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,L(10),vu(this),sy(this))};function yf(o){o.A!=null&&(l.clearTimeout(o.A),o.A=null)}function sy(o){o.g=new He(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var h=dr(o.qa);qe(h,"RID","rpc"),qe(h,"SID",o.K),qe(h,"AID",o.T),qe(h,"CI",o.F?"0":"1"),!o.F&&o.ja&&qe(h,"TO",o.ja),qe(h,"TYPE","xmlhttp"),vo(o,h),o.m&&o.o&&mf(h,o.m,o.o),o.L&&(o.g.I=o.L);var d=o.g;o=o.ia,d.L=1,d.v=mu(dr(h)),d.m=null,d.P=!0,Br(d,o)}t.Za=function(){this.C!=null&&(this.C=null,vu(this),pf(this),L(19))};function Eu(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function oy(o,h){var d=null;if(o.g==h){Eu(o),yf(o),o.g=null;var y=2}else if(qn(o.h,h))d=h.D,hu(o.h,h),y=1;else return;if(o.G!=0){if(h.o)if(y==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var P=o.B;y=Pa(),Be(y,new G(y,d)),_u(o)}else ay(o);else if(P=h.s,P==3||P==0&&0<h.X||!(y==1&&zw(o,h)||y==2&&pf(o)))switch(d&&0<d.length&&(h=o.h,h.i=h.i.concat(d)),P){case 1:qi(o,5);break;case 4:qi(o,10);break;case 3:qi(o,6);break;default:qi(o,2)}}}function ly(o,h){let d=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(d*=2),d*h}function qi(o,h){if(o.j.info("Error code "+h),h==2){var d=g(o.fb,o),y=o.Xa;const P=!y;y=new Hi(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||fu(y,"https"),mu(y),P?Mw(y.toString(),d):xw(y.toString(),d)}else L(2);o.G=0,o.l&&o.l.sa(h),uy(o),ny(o)}t.fb=function(o){o?(this.j.info("Successfully pinged google.com"),L(2)):(this.j.info("Failed to ping google.com"),L(1))};function uy(o){if(o.G=0,o.ka=[],o.l){const h=jp(o.h);(h.length!=0||o.i.length!=0)&&(O(o.ka,h),O(o.ka,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.ra()}}function cy(o,h,d){var y=d instanceof Hi?dr(d):new Hi(d);if(y.g!="")h&&(y.g=h+"."+y.g),du(y,y.s);else{var P=l.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;var U=new Hi(null);y&&fu(U,y),h&&(U.g=h),P&&du(U,P),d&&(U.l=d),y=U}return d=o.D,h=o.ya,d&&h&&qe(y,d,h),qe(y,"VER",o.la),vo(o,y),y}function hy(o,h,d){if(h&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Ca&&!o.pa?new et(new gu({eb:d})):new et(o.pa),h.Ha(o.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function fy(){}t=fy.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tu(){}Tu.prototype.g=function(o,h){return new en(o,h)};function en(o,h){je.call(this),this.g=new ty(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(o?o["X-WebChannel-Client-Profile"]=h.va:o={"X-WebChannel-Client-Profile":h.va}),this.g.S=o,(o=h&&h.Sb)&&!v(o)&&(this.g.m=o),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!v(h)&&(this.g.D=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new ja(this)}R(en,je),en.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){gf(this.g)},en.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var d={};d.__data__=o,o=d}else this.u&&(d={},d.__data__=uo(o),o=d);h.i.push(new Hn(h.Ya++,o)),h.G==3&&_u(h)},en.prototype.N=function(){this.g.l=null,delete this.j,gf(this.g),delete this.g,en.aa.N.call(this)};function dy(o){co.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const d in h){o=d;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}R(dy,co);function my(){Va.call(this),this.status=1}R(my,Va);function ja(o){this.g=o}R(ja,fy),ja.prototype.ua=function(){Be(this.g,"a")},ja.prototype.ta=function(o){Be(this.g,new dy(o))},ja.prototype.sa=function(o){Be(this.g,new my)},ja.prototype.ra=function(){Be(this.g,"b")},Tu.prototype.createWebChannel=Tu.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,SA=function(){return new Tu},TA=function(){return Pa()},EA=mn,Em={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Z.NO_ERROR=0,Z.TIMEOUT=8,Z.HTTP_ERROR=6,cc=Z,he.COMPLETE="complete",_A=he,uu.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",je.prototype.listen=je.prototype.K,Lo=uu,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,vA=et}).apply(typeof ju<"u"?ju:typeof self<"u"?self:typeof window<"u"?window:{});const T_="@firebase/firestore",S_="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}kt.UNAUTHENTICATED=new kt(null),kt.GOOGLE_CREDENTIALS=new kt("google-credentials-uid"),kt.FIRST_PARTY=new kt("first-party-uid"),kt.MOCK_USER=new kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma=new $g("@firebase/firestore");function $a(){return ma.logLevel}function Y(t,...e){if(ma.logLevel<=Te.DEBUG){const n=e.map(Zg);ma.debug(`Firestore (${Js}): ${t}`,...n)}}function Vr(t,...e){if(ma.logLevel<=Te.ERROR){const n=e.map(Zg);ma.error(`Firestore (${Js}): ${t}`,...n)}}function Ls(t,...e){if(ma.logLevel<=Te.WARN){const n=e.map(Zg);ma.warn(`Firestore (${Js}): ${t}`,...n)}}function Zg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ae(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,AA(t,r,n)}function AA(t,e,n){let r=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Vr(r),new Error(r)}function Me(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||AA(e,i,r)}function ce(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends Ur{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class UO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(kt.UNAUTHENTICATED))}shutdown(){}}class zO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class jO{constructor(e){this.t=e,this.currentUser=kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let a=new Si;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Si,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const u=a;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},l=u=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Si)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new bA(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new kt(e)}}class BO{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HO{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BO(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(kt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class A_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qO{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=a=>{a.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,Y("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new A_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wA(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=FO(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%62))}return r}}function me(t,e){return t<e?-1:t>e?1:0}function Tm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return me(r,i);{const a=wA(),s=GO(a.encode(b_(t,n)),a.encode(b_(e,n)));return s!==0?s:me(r,i)}}n+=r>65535?2:1}return me(t.length,e.length)}function b_(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function GO(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return me(t[n],e[n]);return me(t.length,e.length)}function ks(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-62135596800,R_=1e6;class gt{static now(){return gt.fromMillis(Date.now())}static fromDate(e){return gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*R_);return new gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ne(q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<w_)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/R_}_compareTo(e){return this.seconds===e.seconds?me(this.nanoseconds,e.nanoseconds):me(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-w_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{static fromTimestamp(e){return new ue(e)}static min(){return new ue(new gt(0,0))}static max(){return new ue(new gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C_="__name__";class Gn{constructor(e,n,r){n===void 0?n=0:n>e.length&&ae(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ae(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Gn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Gn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=Gn.compareSegments(e.get(i),n.get(i));if(a!==0)return a}return me(e.length,n.length)}static compareSegments(e,n){const r=Gn.isNumericId(e),i=Gn.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Gn.extractNumericId(e).compare(Gn.extractNumericId(n)):Tm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ti.fromString(e.substring(4,e.length-2))}}class Ye extends Gn{construct(e,n,r){return new Ye(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Ye(n)}static emptyPath(){return new Ye([])}}const KO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dt extends Gn{construct(e,n,r){return new Dt(e,n,r)}static isValidIdentifier(e){return KO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===C_}static keyField(){return new Dt([C_])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new ne(q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new ne(q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new ne(q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else l==="`"?(s=!s,i++):l!=="."||s?(r+=l,i++):(a(),i++)}if(a(),s)throw new ne(q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Dt(n)}static emptyPath(){return new Dt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(e){this.path=e}static fromPath(e){return new re(Ye.fromString(e))}static fromName(e){return new re(Ye.fromString(e).popFirst(5))}static empty(){return new re(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ye.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new re(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=-1;function QO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ue.fromTimestamp(r===1e9?new gt(n+1,0):new gt(n,r));return new Ii(i,re.empty(),e)}function YO(t){return new Ii(t.readTime,t.key,Al)}class Ii{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ii(ue.min(),re.empty(),Al)}static max(){return new Ii(ue.max(),re.empty(),Al)}}function $O(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:me(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eo(t){if(t.code!==q.FAILED_PRECONDITION||t.message!==XO)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new j((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof j?n:j.resolve(n)}catch(n){return j.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):j.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):j.reject(n)}static resolve(e){return new j((n,r)=>{n(e)})}static reject(e){return new j((n,r)=>{r(e)})}static waitFor(e){return new j((n,r)=>{let i=0,a=0,s=!1;e.forEach(l=>{++i,l.next(()=>{++a,s&&a===i&&n()},u=>r(u))}),s=!0,a===i&&n()})}static or(e){let n=j.resolve(!1);for(const r of e)n=n.next(i=>i?j.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,a)=>{r.push(n.call(this,i,a))}),this.waitFor(r)}static mapArray(e,n){return new j((r,i)=>{const a=e.length,s=new Array(a);let l=0;for(let u=0;u<a;u++){const c=u;n(e[c]).next(f=>{s[c]=f,++l,l===a&&r(s)},f=>i(f))}})}static doWhile(e,n){return new j((r,i)=>{const a=()=>{e()===!0?n().next(()=>{a()},i):r()};a()})}}function ZO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function to(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Bh.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jg=-1;function Hh(t){return t==null}function nh(t){return t===0&&1/t==-1/0}function JO(t){return typeof t=="number"&&Number.isInteger(t)&&!nh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="";function eN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=I_(e)),e=tN(t.get(n),e);return I_(e)}function tN(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const a=t.charAt(i);switch(a){case"\0":n+="";break;case CA:n+="";break;default:n+=a}}return n}function I_(t){return t+CA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e,n){this.comparator=e,this.root=n||Ct.EMPTY}insert(e,n){return new Je(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ct.BLACK,null,null))}remove(e){return new Je(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ct.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bu(this.root,e,this.comparator,!0)}}class Bu{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ct{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??Ct.RED,this.left=i??Ct.EMPTY,this.right=a??Ct.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new Ct(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ct.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ct.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ct.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ct.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ae(27949);return e+(this.isRed()?0:1)}}Ct.EMPTY=null,Ct.RED=!0,Ct.BLACK=!1;Ct.EMPTY=new class{constructor(){this.size=0}get key(){throw ae(57766)}get value(){throw ae(16141)}get color(){throw ae(16727)}get left(){throw ae(29726)}get right(){throw ae(36894)}copy(e,n,r,i,a){return this}insert(e,n,r){return new Ct(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.comparator=e,this.data=new Je(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O_(this.data.getIterator())}getIteratorFrom(e){return new O_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof pt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new pt(this.comparator);return n.data=e,n}}class O_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this.fields=e,e.sort(Dt.comparator)}static empty(){return new Vn([])}unionWith(e){let n=new pt(Dt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Vn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ks(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new DA("Invalid base64 string: "+a):a}}(e);return new Nt(n)}static fromUint8Array(e){const n=function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a}(e);return new Nt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return me(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Nt.EMPTY_BYTE_STRING=new Nt("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=nN.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Oi(t){return typeof t=="string"?Nt.fromBase64String(t):Nt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OA="server_timestamp",NA="__type__",MA="__previous_value__",xA="__local_write_time__";function ep(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[NA])===null||n===void 0?void 0:n.stringValue)===OA}function qh(t){const e=t.mapValue.fields[MA];return ep(e)?qh(e):e}function bl(t){const e=Di(t.mapValue.fields[xA].timestampValue);return new gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rN{constructor(e,n,r,i,a,s,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}const rh="(default)";class wl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new wl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA="__type__",iN="__max__",Hu={mapValue:{}},PA="__vector__",ih="value";function Ni(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ep(t)?4:sN(t)?9007199254740991:aN(t)?10:11:ae(28295,{value:t})}function nr(t,e){if(t===e)return!0;const n=Ni(t);if(n!==Ni(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return bl(t).isEqual(bl(e));case 3:return function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=Di(i.timestampValue),l=Di(a.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,a){return Oi(i.bytesValue).isEqual(Oi(a.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,a){return at(i.geoPointValue.latitude)===at(a.geoPointValue.latitude)&&at(i.geoPointValue.longitude)===at(a.geoPointValue.longitude)}(t,e);case 2:return function(i,a){if("integerValue"in i&&"integerValue"in a)return at(i.integerValue)===at(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=at(i.doubleValue),l=at(a.doubleValue);return s===l?nh(s)===nh(l):isNaN(s)&&isNaN(l)}return!1}(t,e);case 9:return ks(t.arrayValue.values||[],e.arrayValue.values||[],nr);case 10:case 11:return function(i,a){const s=i.mapValue.fields||{},l=a.mapValue.fields||{};if(D_(s)!==D_(l))return!1;for(const u in s)if(s.hasOwnProperty(u)&&(l[u]===void 0||!nr(s[u],l[u])))return!1;return!0}(t,e);default:return ae(52216,{left:t})}}function Rl(t,e){return(t.values||[]).find(n=>nr(n,e))!==void 0}function Us(t,e){if(t===e)return 0;const n=Ni(t),r=Ni(e);if(n!==r)return me(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return me(t.booleanValue,e.booleanValue);case 2:return function(a,s){const l=at(a.integerValue||a.doubleValue),u=at(s.integerValue||s.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return N_(t.timestampValue,e.timestampValue);case 4:return N_(bl(t),bl(e));case 5:return Tm(t.stringValue,e.stringValue);case 6:return function(a,s){const l=Oi(a),u=Oi(s);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(a,s){const l=a.split("/"),u=s.split("/");for(let c=0;c<l.length&&c<u.length;c++){const f=me(l[c],u[c]);if(f!==0)return f}return me(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(a,s){const l=me(at(a.latitude),at(s.latitude));return l!==0?l:me(at(a.longitude),at(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return M_(t.arrayValue,e.arrayValue);case 10:return function(a,s){var l,u,c,f;const m=a.fields||{},g=s.fields||{},p=(l=m[ih])===null||l===void 0?void 0:l.arrayValue,R=(u=g[ih])===null||u===void 0?void 0:u.arrayValue,N=me(((c=p==null?void 0:p.values)===null||c===void 0?void 0:c.length)||0,((f=R==null?void 0:R.values)===null||f===void 0?void 0:f.length)||0);return N!==0?N:M_(p,R)}(t.mapValue,e.mapValue);case 11:return function(a,s){if(a===Hu.mapValue&&s===Hu.mapValue)return 0;if(a===Hu.mapValue)return 1;if(s===Hu.mapValue)return-1;const l=a.fields||{},u=Object.keys(l),c=s.fields||{},f=Object.keys(c);u.sort(),f.sort();for(let m=0;m<u.length&&m<f.length;++m){const g=Tm(u[m],f[m]);if(g!==0)return g;const p=Us(l[u[m]],c[f[m]]);if(p!==0)return p}return me(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ae(23264,{Pe:n})}}function N_(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return me(t,e);const n=Di(t),r=Di(e),i=me(n.seconds,r.seconds);return i!==0?i:me(n.nanos,r.nanos)}function M_(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const a=Us(n[i],r[i]);if(a)return a}return me(n.length,r.length)}function zs(t){return Sm(t)}function Sm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Di(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Oi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Sm(a);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const s of r)a?a=!1:i+=",",i+=`${s}:${Sm(n.fields[s])}`;return i+"}"}(t.mapValue):ae(61005,{value:t})}function hc(t){switch(Ni(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=qh(t);return e?16+hc(e):16;case 5:return 2*t.stringValue.length;case 6:return Oi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,a)=>i+hc(a),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ki(r.fields,(a,s)=>{i+=a.length+hc(s)}),i}(t.mapValue);default:throw ae(13486,{value:t})}}function Am(t){return!!t&&"integerValue"in t}function tp(t){return!!t&&"arrayValue"in t}function x_(t){return!!t&&"nullValue"in t}function V_(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function fc(t){return!!t&&"mapValue"in t}function aN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[VA])===null||n===void 0?void 0:n.stringValue)===PA}function tl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=tl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=tl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=tl(n)}setAll(e){let n=Dt.emptyPath(),r={},i=[];e.forEach((s,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=l.popLast()}s?r[l.lastSegment()]=tl(s):i.push(l.lastSegment())});const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());fc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fc(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ki(n,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new ln(tl(this.value))}}function LA(t){const e=[];return ki(t.fields,(n,r)=>{const i=new Dt([n]);if(fc(r)){const a=LA(r.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)}),new Vn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ut{constructor(e,n,r,i,a,s,l){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Ut(e,0,ue.min(),ue.min(),ue.min(),ln.empty(),0)}static newFoundDocument(e,n,r,i){return new Ut(e,1,n,ue.min(),r,i,0)}static newNoDocument(e,n){return new Ut(e,2,n,ue.min(),ue.min(),ln.empty(),0)}static newUnknownDocument(e,n){return new Ut(e,3,n,ue.min(),ue.min(),ln.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ue.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ue.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ut&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ut(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function P_(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=Us(s,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function L_(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n="asc"){this.field=e,this.dir=n}}function oN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kA=class{};class mt extends kA{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new uN(e,n,r):n==="array-contains"?new fN(e,r):n==="in"?new dN(e,r):n==="not-in"?new mN(e,r):n==="array-contains-any"?new gN(e,r):new mt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new cN(e,r):new hN(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Us(n,this.value)):n!==null&&Ni(this.value)===Ni(n)&&this.matchesComparison(Us(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rr extends kA{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new rr(e,n)}matches(e){return UA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function UA(t){return t.op==="and"}function zA(t){return lN(t)&&UA(t)}function lN(t){for(const e of t.filters)if(e instanceof rr)return!1;return!0}function bm(t){if(t instanceof mt)return t.field.canonicalString()+t.op.toString()+zs(t.value);if(zA(t))return t.filters.map(e=>bm(e)).join(",");{const e=t.filters.map(n=>bm(n)).join(",");return`${t.op}(${e})`}}function jA(t,e){return t instanceof mt?function(r,i){return i instanceof mt&&r.op===i.op&&r.field.isEqual(i.field)&&nr(r.value,i.value)}(t,e):t instanceof rr?function(r,i){return i instanceof rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((a,s,l)=>a&&jA(s,i.filters[l]),!0):!1}(t,e):void ae(19439)}function BA(t){return t instanceof mt?function(n){return`${n.field.canonicalString()} ${n.op} ${zs(n.value)}`}(t):t instanceof rr?function(n){return n.op.toString()+" {"+n.getFilters().map(BA).join(" ,")+"}"}(t):"Filter"}class uN extends mt{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){const n=re.comparator(e.key,this.key);return this.matchesComparison(n)}}class cN extends mt{constructor(e,n){super(e,"in",n),this.keys=HA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class hN extends mt{constructor(e,n){super(e,"not-in",n),this.keys=HA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function HA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}class fN extends mt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&Rl(n.arrayValue,this.value)}}class dN extends mt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Rl(this.value.arrayValue,n)}}class mN extends mt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Rl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Rl(this.value.arrayValue,n)}}class gN extends mt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Rl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pN{constructor(e,n=null,r=[],i=[],a=null,s=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=s,this.endAt=l,this.Ie=null}}function k_(t,e=null,n=[],r=[],i=null,a=null,s=null){return new pN(t,e,n,r,i,a,s)}function np(t){const e=ce(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>bm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>zs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>zs(r)).join(",")),e.Ie=n}return e.Ie}function rp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!jA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!L_(t.startAt,e.startAt)&&L_(t.endAt,e.endAt)}function wm(t){return re.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n=null,r=[],i=[],a=null,s="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=s,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function yN(t,e,n,r,i,a,s,l){return new Fh(t,e,n,r,i,a,s,l)}function qA(t){return new Fh(t)}function U_(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function vN(t){return t.collectionGroup!==null}function nl(t){const e=ce(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let l=new pt(Dt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(a=>{n.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new sh(a,r))}),n.has(Dt.keyField().canonicalString())||e.Ee.push(new sh(Dt.keyField(),r))}return e.Ee}function Zn(t){const e=ce(t);return e.de||(e.de=_N(e,nl(t))),e.de}function _N(t,e){if(t.limitType==="F")return k_(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const a=i.dir==="desc"?"asc":"desc";return new sh(i.field,a)});const n=t.endAt?new ah(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ah(t.startAt.position,t.startAt.inclusive):null;return k_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Rm(t,e,n){return new Fh(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Gh(t,e){return rp(Zn(t),Zn(e))&&t.limitType===e.limitType}function FA(t){return`${np(Zn(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>BA(i)).join(", ")}]`),Hh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>zs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>zs(i)).join(",")),`Target(${r})`}(Zn(t))}; limitType=${t.limitType})`}function Kh(t,e){return e.isFoundDocument()&&function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):re.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(t,e)&&function(r,i){for(const a of nl(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,l,u){const c=P_(s,l,u);return s.inclusive?c<=0:c<0}(r.startAt,nl(r),i)||r.endAt&&!function(s,l,u){const c=P_(s,l,u);return s.inclusive?c>=0:c>0}(r.endAt,nl(r),i))}(t,e)}function EN(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function GA(t){return(e,n)=>{let r=!1;for(const i of nl(t)){const a=TN(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function TN(t,e,n){const r=t.field.isKeyField()?re.comparator(e.key,n.key):function(a,s,l){const u=s.data.field(a),c=l.data.field(a);return u!==null&&c!==null?Us(u,c):ae(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ae(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Je(re.comparator);function Pr(){return SN}const KA=new Je(re.comparator);function ko(...t){let e=KA;for(const n of t)e=e.insert(n.key,n);return e}function QA(t){let e=KA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Wi(){return rl()}function YA(){return rl()}function rl(){return new Aa(t=>t.toString(),(t,e)=>t.isEqual(e))}const AN=new Je(re.comparator),bN=new pt(re.comparator);function Se(...t){let e=bN;for(const n of t)e=e.add(n);return e}const wN=new pt(me);function RN(){return wN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function $A(t){return{integerValue:""+t}}function CN(t,e){return JO(e)?$A(e):ip(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(){this._=void 0}}function IN(t,e,n){return t instanceof oh?function(i,a){const s={fields:{[NA]:{stringValue:OA},[xA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&ep(a)&&(a=qh(a)),a&&(s.fields[MA]=a),{mapValue:s}}(n,e):t instanceof Cl?WA(t,e):t instanceof Il?ZA(t,e):function(i,a){const s=XA(i,a),l=z_(s)+z_(i.Re);return Am(s)&&Am(i.Re)?$A(l):ip(i.serializer,l)}(t,e)}function DN(t,e,n){return t instanceof Cl?WA(t,e):t instanceof Il?ZA(t,e):n}function XA(t,e){return t instanceof lh?function(r){return Am(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class oh extends Qh{}class Cl extends Qh{constructor(e){super(),this.elements=e}}function WA(t,e){const n=JA(e);for(const r of t.elements)n.some(i=>nr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Il extends Qh{constructor(e){super(),this.elements=e}}function ZA(t,e){let n=JA(e);for(const r of t.elements)n=n.filter(i=>!nr(i,r));return{arrayValue:{values:n}}}class lh extends Qh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function z_(t){return at(t.integerValue||t.doubleValue)}function JA(t){return tp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function ON(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Cl&&i instanceof Cl||r instanceof Il&&i instanceof Il?ks(r.elements,i.elements,nr):r instanceof lh&&i instanceof lh?nr(r.Re,i.Re):r instanceof oh&&i instanceof oh}(t.transform,e.transform)}class NN{constructor(e,n){this.version=e,this.transformResults=n}}class Jn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Jn}static exists(e){return new Jn(void 0,e)}static updateTime(e){return new Jn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function dc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Yh{}function eb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ap(t.key,Jn.none()):new $h(t.key,t.data,Jn.none());{const n=t.data,r=ln.empty();let i=new pt(Dt.comparator);for(let a of e.fields)if(!i.has(a)){let s=n.field(a);s===null&&a.length>1&&(a=a.popLast(),s=n.field(a)),s===null?r.delete(a):r.set(a,s),i=i.add(a)}return new ba(t.key,r,new Vn(i.toArray()),Jn.none())}}function MN(t,e,n){t instanceof $h?function(i,a,s){const l=i.value.clone(),u=B_(i.fieldTransforms,a,s.transformResults);l.setAll(u),a.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):t instanceof ba?function(i,a,s){if(!dc(i.precondition,a))return void a.convertToUnknownDocument(s.version);const l=B_(i.fieldTransforms,a,s.transformResults),u=a.data;u.setAll(tb(i)),u.setAll(l),a.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function il(t,e,n,r){return t instanceof $h?function(a,s,l,u){if(!dc(a.precondition,s))return l;const c=a.value.clone(),f=H_(a.fieldTransforms,u,s);return c.setAll(f),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof ba?function(a,s,l,u){if(!dc(a.precondition,s))return l;const c=H_(a.fieldTransforms,u,s),f=s.data;return f.setAll(tb(a)),f.setAll(c),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),l===null?null:l.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(m=>m.field))}(t,e,n,r):function(a,s,l){return dc(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):l}(t,e,n)}function xN(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=XA(r.transform,i||null);a!=null&&(n===null&&(n=ln.empty()),n.set(r.field,a))}return n||null}function j_(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ks(r,i,(a,s)=>ON(a,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class $h extends Yh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ba extends Yh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function B_(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const a=t[i],s=a.transform,l=e.data.field(a.field);r.set(a.field,DN(s,l,n[i]))}return r}function H_(t,e,n){const r=new Map;for(const i of t){const a=i.transform,s=n.data.field(i.field);r.set(i.field,IN(a,s,e))}return r}class ap extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class VN extends Yh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&MN(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=il(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=YA();return this.mutations.forEach(i=>{const a=e.get(i.key),s=a.overlayedDocument;let l=this.applyToLocalView(s,a.mutatedFields);l=n.has(i.key)?null:l;const u=eb(s,l);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ue.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Se())}isEqual(e){return this.batchId===e.batchId&&ks(this.mutations,e.mutations,(n,r)=>j_(n,r))&&ks(this.baseMutations,e.baseMutations,(n,r)=>j_(n,r))}}class sp{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return AN}();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,r[s].version);return new sp(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,we;function UN(t){switch(t){case q.OK:return ae(64938);case q.CANCELLED:case q.UNKNOWN:case q.DEADLINE_EXCEEDED:case q.RESOURCE_EXHAUSTED:case q.INTERNAL:case q.UNAVAILABLE:case q.UNAUTHENTICATED:return!1;case q.INVALID_ARGUMENT:case q.NOT_FOUND:case q.ALREADY_EXISTS:case q.PERMISSION_DENIED:case q.FAILED_PRECONDITION:case q.ABORTED:case q.OUT_OF_RANGE:case q.UNIMPLEMENTED:case q.DATA_LOSS:return!0;default:return ae(15467,{code:t})}}function nb(t){if(t===void 0)return Vr("GRPC error has no .code"),q.UNKNOWN;switch(t){case ot.OK:return q.OK;case ot.CANCELLED:return q.CANCELLED;case ot.UNKNOWN:return q.UNKNOWN;case ot.DEADLINE_EXCEEDED:return q.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return q.RESOURCE_EXHAUSTED;case ot.INTERNAL:return q.INTERNAL;case ot.UNAVAILABLE:return q.UNAVAILABLE;case ot.UNAUTHENTICATED:return q.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return q.INVALID_ARGUMENT;case ot.NOT_FOUND:return q.NOT_FOUND;case ot.ALREADY_EXISTS:return q.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return q.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return q.FAILED_PRECONDITION;case ot.ABORTED:return q.ABORTED;case ot.OUT_OF_RANGE:return q.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return q.UNIMPLEMENTED;case ot.DATA_LOSS:return q.DATA_LOSS;default:return ae(39323,{code:t})}}(we=ot||(ot={}))[we.OK=0]="OK",we[we.CANCELLED=1]="CANCELLED",we[we.UNKNOWN=2]="UNKNOWN",we[we.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",we[we.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",we[we.NOT_FOUND=5]="NOT_FOUND",we[we.ALREADY_EXISTS=6]="ALREADY_EXISTS",we[we.PERMISSION_DENIED=7]="PERMISSION_DENIED",we[we.UNAUTHENTICATED=16]="UNAUTHENTICATED",we[we.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",we[we.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",we[we.ABORTED=10]="ABORTED",we[we.OUT_OF_RANGE=11]="OUT_OF_RANGE",we[we.UNIMPLEMENTED=12]="UNIMPLEMENTED",we[we.INTERNAL=13]="INTERNAL",we[we.UNAVAILABLE=14]="UNAVAILABLE",we[we.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new Ti([4294967295,4294967295],0);function q_(t){const e=wA().encode(t),n=new yA;return n.update(e),new Uint8Array(n.digest())}function F_(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Ti([n,r],0),new Ti([i,a],0)]}class op{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Uo(`Invalid padding: ${n}`);if(r<0)throw new Uo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ti.fromNumber(this.pe)}we(e,n,r){let i=e.add(n.multiply(Ti.fromNumber(r)));return i.compare(zN)===1&&(i=new Ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=q_(e),[r,i]=F_(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);if(!this.be(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new op(a,i,n);return r.forEach(l=>s.insert(l)),s}insert(e){if(this.pe===0)return;const n=q_(e),[r,i]=F_(n);for(let a=0;a<this.hashCount;a++){const s=this.we(r,i,a);this.Se(s)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Xh(ue.min(),i,new Je(me),Pr(),Se())}}class Wl{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wl(r,n,Se(),Se(),Se())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc{constructor(e,n,r,i){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=i}}class rb{constructor(e,n){this.targetId=e,this.Ce=n}}class ib{constructor(e,n,r=Nt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class G_{constructor(){this.Fe=0,this.Me=K_(),this.xe=Nt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Se(),n=Se(),r=Se();return this.Me.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ae(38017,{changeType:a})}}),new Wl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=K_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class jN{constructor(e){this.ze=e,this.je=new Map,this.He=Pr(),this.Je=qu(),this.Ye=qu(),this.Ze=new Je(me)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:ae(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,i)=>{this.it(i)&&n(i)})}ot(e){const n=e.targetId,r=e.Ce.count,i=this._t(n);if(i){const a=i.target;if(wm(a))if(r===0){const s=new re(a.path);this.tt(n,s,Ut.newNoDocument(s,ue.min()))}else Me(r===1,20013,{expectedCount:r});else{const s=this.ut(n);if(s!==r){const l=this.ct(e),u=l?this.lt(l,e,s):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let s,l;try{s=Oi(r).toUint8Array()}catch(u){if(u instanceof DA)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new op(s,i,a)}catch(u){return Ls(u instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let i=0;return r.forEach(a=>{const s=this.ze.Pt(),l=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,a,null),i++)}),i}It(e){const n=new Map;this.je.forEach((a,s)=>{const l=this._t(s);if(l){if(a.current&&wm(l.target)){const u=new re(l.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,Ut.newNoDocument(u,e))}a.Le&&(n.set(s,a.qe()),a.Qe())}});let r=Se();this.Ye.forEach((a,s)=>{let l=!0;s.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(a))}),this.He.forEach((a,s)=>s.setReadTime(e));const i=new Xh(e,n,this.Ze,this.He,r);return this.He=Pr(),this.Je=qu(),this.Ye=qu(),this.Ze=new Je(me),i}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,n)?i.$e(n,1):i.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new G_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new pt(me),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new pt(me),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new G_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function qu(){return new Je(re.comparator)}function K_(){return new Je(re.comparator)}const BN={asc:"ASCENDING",desc:"DESCENDING"},HN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qN={and:"AND",or:"OR"};class FN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Cm(t,e){return t.useProto3Json||Hh(e)?e:{value:e}}function uh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ab(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function GN(t,e){return uh(t,e.toTimestamp())}function er(t){return Me(!!t,49232),ue.fromTimestamp(function(n){const r=Di(n);return new gt(r.seconds,r.nanos)}(t))}function lp(t,e){return Im(t,e).canonicalString()}function Im(t,e){const n=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function sb(t){const e=Ye.fromString(t);return Me(hb(e),10190,{key:e.toString()}),e}function Dm(t,e){return lp(t.databaseId,e.path)}function cd(t,e){const n=sb(e);if(n.get(1)!==t.databaseId.projectId)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ne(q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new re(lb(n))}function ob(t,e){return lp(t.databaseId,e)}function KN(t){const e=sb(t);return e.length===4?Ye.emptyPath():lb(e)}function Om(t){return new Ye(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lb(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Q_(t,e,n){return{name:Dm(t,e),fields:n.value.mapValue.fields}}function QN(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ae(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=function(c,f){return c.useProto3Json?(Me(f===void 0||typeof f=="string",58123),Nt.fromBase64String(f||"")):(Me(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Nt.fromUint8Array(f||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,l=s&&function(c){const f=c.code===void 0?q.UNKNOWN:nb(c.code);return new ne(f,c.message||"")}(s);n=new ib(r,i,a,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=cd(t,r.document.name),a=er(r.document.updateTime),s=r.document.createTime?er(r.document.createTime):ue.min(),l=new ln({mapValue:{fields:r.document.fields}}),u=Ut.newFoundDocument(i,a,s,l),c=r.targetIds||[],f=r.removedTargetIds||[];n=new mc(c,f,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=cd(t,r.document),a=r.readTime?er(r.readTime):ue.min(),s=Ut.newNoDocument(i,a),l=r.removedTargetIds||[];n=new mc([],l,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=cd(t,r.document),a=r.removedTargetIds||[];n=new mc([],a,i,null)}else{if(!("filter"in e))return ae(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,s=new kN(i,a),l=r.targetId;n=new rb(l,s)}}return n}function YN(t,e){let n;if(e instanceof $h)n={update:Q_(t,e.key,e.value)};else if(e instanceof ap)n={delete:Dm(t,e.key)};else if(e instanceof ba)n={update:Q_(t,e.key,e.data),updateMask:rM(e.fieldMask)};else{if(!(e instanceof VN))return ae(16599,{ft:e.type});n={verify:Dm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(a,s){const l=s.transform;if(l instanceof oh)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Cl)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Il)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof lh)return{fieldPath:s.field.canonicalString(),increment:l.Re};throw ae(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,a){return a.updateTime!==void 0?{updateTime:GN(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:ae(27497)}(t,e.precondition)),n}function $N(t,e){return t&&t.length>0?(Me(e!==void 0,14353),t.map(n=>function(i,a){let s=i.updateTime?er(i.updateTime):er(a);return s.isEqual(ue.min())&&(s=er(a)),new NN(s,i.transformResults||[])}(n,e))):[]}function XN(t,e){return{documents:[ob(t,e.path)]}}function WN(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ob(t,i);const a=function(c){if(c.length!==0)return cb(rr.create(c,"and"))}(e.filters);a&&(n.structuredQuery.where=a);const s=function(c){if(c.length!==0)return c.map(f=>function(g){return{field:Wa(g.field),direction:eM(g.dir)}}(f))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const l=Cm(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:i}}function ZN(t){let e=KN(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Me(r===1,65062);const f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];n.where&&(a=function(m){const g=ub(m);return g instanceof rr&&zA(g)?g.getFilters():[g]}(n.where));let s=[];n.orderBy&&(s=function(m){return m.map(g=>function(R){return new sh(Za(R.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(m){let g;return g=typeof m=="object"?m.value:m,Hh(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(m){const g=!!m.before,p=m.values||[];return new ah(p,g)}(n.startAt));let c=null;return n.endAt&&(c=function(m){const g=!m.before,p=m.values||[];return new ah(p,g)}(n.endAt)),yN(e,i,s,a,l,"F",u,c)}function JN(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ae(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ub(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Za(n.unaryFilter.field);return mt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Za(n.unaryFilter.field);return mt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Za(n.unaryFilter.field);return mt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Za(n.unaryFilter.field);return mt.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ae(61313);default:return ae(60726)}}(t):t.fieldFilter!==void 0?function(n){return mt.create(Za(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ae(58110);default:return ae(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return rr.create(n.compositeFilter.filters.map(r=>ub(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ae(1026)}}(n.compositeFilter.op))}(t):ae(30097,{filter:t})}function eM(t){return BN[t]}function tM(t){return HN[t]}function nM(t){return qN[t]}function Wa(t){return{fieldPath:t.canonicalString()}}function Za(t){return Dt.fromServerFormat(t.fieldPath)}function cb(t){return t instanceof mt?function(n){if(n.op==="=="){if(V_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NAN"}};if(x_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(V_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NAN"}};if(x_(n.value))return{unaryFilter:{field:Wa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wa(n.field),op:tM(n.op),value:n.value}}}(t):t instanceof rr?function(n){const r=n.getFilters().map(i=>cb(i));return r.length===1?r[0]:{compositeFilter:{op:nM(n.op),filters:r}}}(t):ae(54877,{filter:t})}function rM(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(e,n,r,i,a=ue.min(),s=ue.min(),l=Nt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iM{constructor(e){this.wt=e}}function aM(t){const e=ZN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Rm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(){this.yn=new oM}addToCollectionParentIndex(e,n){return this.yn.add(n),j.resolve()}getCollectionParents(e,n){return j.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return j.resolve()}deleteFieldIndex(e,n){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,n){return j.resolve()}getDocumentsMatchingTarget(e,n){return j.resolve(null)}getIndexType(e,n){return j.resolve(0)}getFieldIndexes(e,n){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,n){return j.resolve(Ii.min())}getMinOffsetFromCollectionGroup(e,n){return j.resolve(Ii.min())}updateCollectionGroup(e,n,r){return j.resolve()}updateIndexEntries(e,n){return j.resolve()}}class oM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new pt(Ye.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new pt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fb=41943040;class Wt{static withCacheSize(e){return new Wt(e,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wt.DEFAULT_COLLECTION_PERCENTILE=10,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Wt.DEFAULT=new Wt(fb,Wt.DEFAULT_COLLECTION_PERCENTILE,Wt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Wt.DISABLED=new Wt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new js(0)}static ir(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_="LruGarbageCollector",lM=1048576;function X_([t,e],[n,r]){const i=me(t,n);return i===0?me(e,r):i}class uM{constructor(e){this.cr=e,this.buffer=new pt(X_),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();X_(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){Y($_,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){to(n)?Y($_,"Ignoring IndexedDB error during garbage collection: ",n):await eo(n)}await this.Ir(3e5)})}}class hM{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return j.resolve(Bh.le);const r=new uM(n);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Y("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(Y_)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Y("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Y_):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,i,a,s,l,u,c;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(m=>(m>this.params.maximumSequenceNumbersToCollect?(Y("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,s=Date.now(),this.nthSequenceNumber(e,i))).next(m=>(r=m,l=Date.now(),this.removeTargets(e,r,n))).next(m=>(a=m,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(m=>(c=Date.now(),$a()<=Te.DEBUG&&Y("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(l-s)+`ms
	Removed ${a} targets in `+(u-l)+`ms
	Removed ${m} documents in `+(c-u)+`ms
Total Duration: ${c-f}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:m})))}}function fM(t,e){return new hM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dM{constructor(){this.changes=new Aa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ut.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?j.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&il(r.mutation,i,Vn.empty(),gt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Se()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Se()){const i=Wi();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(a=>{let s=ko();return a.forEach((l,u)=>{s=s.insert(l,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Wi();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Se()))}populateOverlays(e,n,r){const i=[];return r.forEach(a=>{n.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((s,l)=>{n.set(s,l)})})}computeViews(e,n,r,i){let a=Pr();const s=rl(),l=function(){return rl()}();return n.forEach((u,c)=>{const f=r.get(c.key);i.has(c.key)&&(f===void 0||f.mutation instanceof ba)?a=a.insert(c.key,c):f!==void 0?(s.set(c.key,f.mutation.getFieldMask()),il(f.mutation,c,f.mutation.getFieldMask(),gt.now())):s.set(c.key,Vn.empty())}),this.recalculateAndSaveOverlays(e,a).next(u=>(u.forEach((c,f)=>s.set(c,f)),n.forEach((c,f)=>{var m;return l.set(c,new mM(f,(m=s.get(c))!==null&&m!==void 0?m:null))}),l))}recalculateAndSaveOverlays(e,n){const r=rl();let i=new Je((s,l)=>s-l),a=Se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const l of s)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let f=r.get(u)||Vn.empty();f=l.applyToLocalView(c,f),r.set(u,f);const m=(i.get(l.batchId)||Se()).add(u);i=i.insert(l.batchId,m)})}).next(()=>{const s=[],l=i.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,f=u.value,m=YA();f.forEach(g=>{if(!a.has(g)){const p=eb(n.get(g),r.get(g));p!==null&&m.set(g,p),a=a.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,m))}return j.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):vN(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):j.resolve(Wi());let l=Al,u=a;return s.next(c=>j.forEach(c,(f,m)=>(l<m.largestBatchId&&(l=m.largestBatchId),a.get(f)?j.resolve():this.remoteDocumentCache.getEntry(e,f).next(g=>{u=u.insert(f,g)}))).next(()=>this.populateOverlays(e,c,a)).next(()=>this.computeViews(e,u,c,Se())).next(f=>({batchId:l,changes:QA(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=ko();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let s=ko();return this.indexManager.getCollectionParents(e,a).next(l=>j.forEach(l,u=>{const c=function(m,g){return new Fh(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)}(n,u.child(a));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(f=>{f.forEach((m,g)=>{s=s.insert(m,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i))).next(s=>{a.forEach((u,c)=>{const f=c.getKey();s.get(f)===null&&(s=s.insert(f,Ut.newInvalidDocument(f)))});let l=ko();return s.forEach((u,c)=>{const f=a.get(u);f!==void 0&&il(f.mutation,c,Vn.empty(),gt.now()),Kh(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return j.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:er(i.createTime)}}(n)),j.resolve()}getNamedQuery(e,n){return j.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(i){return{name:i.name,query:aM(i.bundledQuery),readTime:er(i.readTime)}}(n)),j.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.overlays=new Je(re.comparator),this.Or=new Map}getOverlay(e,n){return j.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Wi();return j.forEach(n,i=>this.getOverlay(e,i).next(a=>{a!==null&&r.set(i,a)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,a)=>{this.St(e,n,a)}),j.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.Or.delete(r)),j.resolve()}getOverlaysForCollection(e,n,r){const i=Wi(),a=n.length+1,s=new re(n.child("")),l=this.overlays.getIteratorFrom(s);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===a&&u.largestBatchId>r&&i.set(u.getKey(),u)}return j.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Je((c,f)=>c-f);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let f=a.get(c.largestBatchId);f===null&&(f=Wi(),a=a.insert(c.largestBatchId,f)),f.set(c.getKey(),c)}}const l=Wi(),u=a.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,f)=>l.set(c,f)),!(l.size()>=i)););return j.resolve(l)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new LN(n,r));let a=this.Or.get(n);a===void 0&&(a=Se(),this.Or.set(n,a)),this.Or.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.sessionToken=Nt.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,j.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Nr=new pt(_t.Br),this.Lr=new pt(_t.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new _t(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new _t(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new re(new Ye([])),r=new _t(n,e),i=new _t(n,e+1),a=[];return this.Lr.forEachInRange([r,i],s=>{this.Qr(s),a.push(s.key)}),a}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new re(new Ye([])),r=new _t(n,e),i=new _t(n,e+1);let a=Se();return this.Lr.forEachInRange([r,i],s=>{a=a.add(s.key)}),a}containsKey(e){const n=new _t(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return re.comparator(e.key,n.key)||me(e.Gr,n.Gr)}static kr(e,n){return me(e.Gr,n.Gr)||re.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new pt(_t.Br)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new PN(a,n,r,i);this.mutationQueue.push(s);for(const l of i)this.zr=this.zr.add(new _t(l.key,a)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return j.resolve(s)}lookupMutationBatch(e,n){return j.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Hr(r),a=i<0?0:i;return j.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Jg:this.Jn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),i=new _t(n,Number.POSITIVE_INFINITY),a=[];return this.zr.forEachInRange([r,i],s=>{const l=this.jr(s.Gr);a.push(l)}),j.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new pt(me);return n.forEach(i=>{const a=new _t(i,0),s=new _t(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([a,s],l=>{r=r.add(l.Gr)})}),j.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;re.isDocumentKey(a)||(a=a.child(""));const s=new _t(new re(a),0);let l=new pt(me);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(l=l.add(u.Gr)),!0)},s),j.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return j.forEach(n.mutations,i=>{const a=new _t(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new _t(n,0),i=this.zr.firstAfterOrEqual(r);return j.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.Zr=e,this.docs=function(){return new Je(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,s=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return j.resolve(r?r.document.mutableCopy():Ut.newInvalidDocument(n))}getEntries(e,n){let r=Pr();return n.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ut.newInvalidDocument(i))}),j.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=Pr();const s=n.path,l=new re(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:f}}=u.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||$O(YO(f),r)<=0||(i.has(f.key)||Kh(n,f))&&(a=a.insert(f.key,f.mutableCopy()))}return j.resolve(a)}getAllFromCollectionGroup(e,n,r,i){ae(9500)}Xr(e,n){return j.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new TM(this)}getSize(e){return j.resolve(this.size)}}class TM extends dM{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),j.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SM{constructor(e){this.persistence=e,this.ei=new Aa(n=>np(n),rp),this.lastRemoteSnapshotVersion=ue.min(),this.highestTargetId=0,this.ti=0,this.ni=new up,this.targetCount=0,this.ri=js.rr()}forEachTarget(e,n){return this.ei.forEach((r,i)=>n(i)),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),j.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new js(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,j.resolve()}updateTargetData(e,n){return this.ar(n),j.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.ei.forEach((s,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(s),a.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),j.waitFor(a).next(()=>i)}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return j.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),j.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach(s=>{a.push(i.markPotentiallyOrphaned(e,s))}),j.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),j.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return j.resolve(r)}containsKey(e,n){return j.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(e,n){this.ii={},this.overlays={},this.si=new Bh(0),this.oi=!1,this.oi=!0,this._i=new vM,this.referenceDelegate=e(this),this.ai=new SM(this),this.indexManager=new sM,this.remoteDocumentCache=function(i){return new EM(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new iM(n),this.ci=new pM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new _M(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){Y("MemoryPersistence","Starting transaction:",e);const i=new AM(this.si.next());return this.referenceDelegate.li(),r(i).next(a=>this.referenceDelegate.hi(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Pi(e,n){return j.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class AM extends WO{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.Ti=new up,this.Ii=null}static Ei(e){return new cp(e)}get di(){if(this.Ii)return this.Ii;throw ae(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),j.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),j.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(a=>this.di.add(a.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,r=>{const i=re.fromPath(r);return this.Ai(e,i).next(a=>{a||n.removeEntry(i,ue.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return j.or([()=>j.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.Ri=new Aa(r=>eN(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=fM(this,n)}static Ei(e,n){return new ch(e,n)}li(){}hi(e){return j.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return j.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(a=>a?j.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.Xr(e,s=>this.gr(e,s,n).next(l=>{l||(r++,a.removeEntry(s,ue.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),j.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=hc(e.data.value)),n}gr(e,n,r){return j.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.Ri.get(n);return j.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=i}static Ps(e,n){let r=Se(),i=Se();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new hp(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return v2()?8:ZO(Bt())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Rs(e,n).next(s=>{a.result=s}).next(()=>{if(!a.result)return this.Vs(e,n,i,r).next(s=>{a.result=s})}).next(()=>{if(a.result)return;const s=new bM;return this.fs(e,n,s).next(l=>{if(a.result=l,this.Is)return this.gs(e,n,s,l.size)})}).next(()=>a.result)}gs(e,n,r,i){return r.documentReadCount<this.Es?($a()<=Te.DEBUG&&Y("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),j.resolve()):($a()<=Te.DEBUG&&Y("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?($a()<=Te.DEBUG&&Y("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zn(n))):j.resolve())}Rs(e,n){if(U_(n))return j.resolve(null);let r=Zn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Rm(n,null,"F"),r=Zn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const s=Se(...a);return this.As.getDocuments(e,s).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,l);return this.ys(n,c,s,u.readTime)?this.Rs(e,Rm(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,i){return U_(n)||i.isEqual(ue.min())?j.resolve(null):this.As.getDocuments(e,r).next(a=>{const s=this.ps(n,a);return this.ys(n,s,r,i)?j.resolve(null):($a()<=Te.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.ws(e,s,n,QO(i,Al)).next(l=>l))})}ps(e,n){let r=new pt(GA(e));return n.forEach((i,a)=>{Kh(e,a)&&(r=r.add(a))}),r}ys(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}fs(e,n,r){return $a()<=Te.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.As.getDocumentsMatchingQuery(e,n,Ii.min(),r)}ws(e,n,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(a=>(n.forEach(s=>{a=a.insert(s.key,s)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",RM=3e8;class CM{constructor(e,n,r,i){this.persistence=e,this.bs=n,this.serializer=i,this.Ss=new Je(me),this.Ds=new Aa(a=>np(a),rp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function IM(t,e,n,r){return new CM(t,e,n,r)}async function mb(t,e){const n=ce(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(a=>{const s=[],l=[];let u=Se();for(const c of i){s.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}for(const c of a){l.push(c.batchId);for(const f of c.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:s,addedBatchIds:l}))})})}function DM(t,e){const n=ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=n.Cs.newChangeBuffer({trackRemovals:!0});return function(l,u,c,f){const m=c.batch,g=m.keys();let p=j.resolve();return g.forEach(R=>{p=p.next(()=>f.getEntry(u,R)).next(N=>{const O=c.docVersions.get(R);Me(O!==null,48541),N.version.compareTo(O)<0&&(m.applyToRemoteDocument(N,c),N.isValidDocument()&&(N.setReadTime(c.commitVersion),f.addEntry(N)))})}),p.next(()=>l.mutationQueue.removeMutationBatch(u,m))}(n,r,e,a).next(()=>a.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let u=Se();for(let c=0;c<l.mutationResults.length;++c)l.mutationResults[c].transformResults.length>0&&(u=u.add(l.batch.mutations[c].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function gb(t){const e=ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function OM(t,e){const n=ce(t),r=e.snapshotVersion;let i=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const s=n.Cs.newChangeBuffer({trackRemovals:!0});i=n.Ss;const l=[];e.targetChanges.forEach((f,m)=>{const g=i.get(m);if(!g)return;l.push(n.ai.removeMatchingKeys(a,f.removedDocuments,m).next(()=>n.ai.addMatchingKeys(a,f.addedDocuments,m)));let p=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(m)!==null?p=p.withResumeToken(Nt.EMPTY_BYTE_STRING,ue.min()).withLastLimboFreeSnapshotVersion(ue.min()):f.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(f.resumeToken,r)),i=i.insert(m,p),function(N,O,E){return N.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=RM?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(g,p,f)&&l.push(n.ai.updateTargetData(a,p))});let u=Pr(),c=Se();if(e.documentUpdates.forEach(f=>{e.resolvedLimboDocuments.has(f)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(a,f))}),l.push(NM(a,s,e.documentUpdates).next(f=>{u=f.xs,c=f.Os})),!r.isEqual(ue.min())){const f=n.ai.getLastRemoteSnapshotVersion(a).next(m=>n.ai.setTargetsMetadata(a,a.currentSequenceNumber,r));l.push(f)}return j.waitFor(l).next(()=>s.apply(a)).next(()=>n.localDocuments.getLocalViewOfDocuments(a,u,c)).next(()=>u)}).then(a=>(n.Ss=i,a))}function NM(t,e,n){let r=Se(),i=Se();return n.forEach(a=>r=r.add(a)),e.getEntries(t,r).next(a=>{let s=Pr();return n.forEach((l,u)=>{const c=a.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),u.isNoDocument()&&u.version.isEqual(ue.min())?(e.removeEntry(l,u.readTime),s=s.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),s=s.insert(l,u)):Y(fp,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{xs:s,Os:i}})}function MM(t,e){const n=ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jg),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function xM(t,e){const n=ce(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.ai.getTargetData(r,e).next(a=>a?(i=a,j.resolve(i)):n.ai.allocateTargetId(r).next(s=>(i=new ui(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Nm(t,e,n){const r=ce(t),i=r.Ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!to(s))throw s;Y(fp,`Failed to update sequence numbers for target ${e}: ${s}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function W_(t,e,n){const r=ce(t);let i=ue.min(),a=Se();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,c,f){const m=ce(u),g=m.Ds.get(f);return g!==void 0?j.resolve(m.Ss.get(g)):m.ai.getTargetData(c,f)}(r,s,Zn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(s,l.targetId).next(u=>{a=u})}).next(()=>r.bs.getDocumentsMatchingQuery(s,e,n?i:ue.min(),n?a:Se())).next(l=>(VM(r,EN(e),l),{documents:l,Ns:a})))}function VM(t,e,n){let r=t.vs.get(e)||ue.min();n.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),t.vs.set(e,r)}class Z_{constructor(){this.activeTargetIds=RN()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PM{constructor(){this.So=new Z_,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Z_,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="ConnectivityMonitor";class eE{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){Y(J_,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){Y(J_,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fu=null;function Mm(){return Fu===null?Fu=function(){return 268435456+Math.round(2147483648*Math.random())}():Fu++,"0x"+Fu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class UM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===rh?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,n,r,i,a){const s=Mm(),l=this.$o(e,n.toUriEncodedString());Y(hd,`Sending RPC '${e}' ${s}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,i,a),this.Ko(e,l,u,r).then(c=>(Y(hd,`Received RPC '${e}' ${s}: `,c),c),c=>{throw Ls(hd,`RPC '${e}' ${s} failed with error: `,c,"url: ",l,"request:",r),c})}Wo(e,n,r,i,a,s){return this.Qo(e,n,r,i,a)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}$o(e,n){const r=kM[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lt="WebChannelConnection";class jM extends UM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,i){const a=Mm();return new Promise((s,l)=>{const u=new vA;u.setWithCredentials(!0),u.listenOnce(_A.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case cc.NO_ERROR:const f=u.getResponseJson();Y(Lt,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),s(f);break;case cc.TIMEOUT:Y(Lt,`RPC '${e}' ${a} timed out`),l(new ne(q.DEADLINE_EXCEEDED,"Request time out"));break;case cc.HTTP_ERROR:const m=u.getStatus();if(Y(Lt,`RPC '${e}' ${a} failed with status:`,m,"response text:",u.getResponseText()),m>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const p=g==null?void 0:g.error;if(p&&p.status&&p.message){const R=function(O){const E=O.toLowerCase().replace(/_/g,"-");return Object.values(q).indexOf(E)>=0?E:q.UNKNOWN}(p.status);l(new ne(R,p.message))}else l(new ne(q.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ne(q.UNAVAILABLE,"Connection failed."));break;default:ae(9055,{s_:e,streamId:a,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{Y(Lt,`RPC '${e}' ${a} completed.`)}});const c=JSON.stringify(i);Y(Lt,`RPC '${e}' ${a} sending request:`,i),u.send(n,"POST",c,r,15)})}a_(e,n,r){const i=Mm(),a=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SA(),l=TA(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const f=a.join("");Y(Lt,`Creating RPC '${e}' stream ${i}: ${f}`,u);const m=s.createWebChannel(f,u);let g=!1,p=!1;const R=new zM({Go:O=>{p?Y(Lt,`Not sending because RPC '${e}' stream ${i} is closed:`,O):(g||(Y(Lt,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),Y(Lt,`RPC '${e}' stream ${i} sending:`,O),m.send(O))},zo:()=>m.close()}),N=(O,E,v)=>{O.listen(E,A=>{try{v(A)}catch(M){setTimeout(()=>{throw M},0)}})};return N(m,Lo.EventType.OPEN,()=>{p||(Y(Lt,`RPC '${e}' stream ${i} transport opened.`),R.t_())}),N(m,Lo.EventType.CLOSE,()=>{p||(p=!0,Y(Lt,`RPC '${e}' stream ${i} transport closed`),R.r_())}),N(m,Lo.EventType.ERROR,O=>{p||(p=!0,Ls(Lt,`RPC '${e}' stream ${i} transport errored. Name:`,O.name,"Message:",O.message),R.r_(new ne(q.UNAVAILABLE,"The operation could not be completed")))}),N(m,Lo.EventType.MESSAGE,O=>{var E;if(!p){const v=O.data[0];Me(!!v,16349);const A=v,M=(A==null?void 0:A.error)||((E=A[0])===null||E===void 0?void 0:E.error);if(M){Y(Lt,`RPC '${e}' stream ${i} received error:`,M);const z=M.status;let D=function(T){const w=ot[T];if(w!==void 0)return nb(w)}(z),S=M.message;D===void 0&&(D=q.INTERNAL,S="Unknown error status: "+z+" with message "+M.message),p=!0,R.r_(new ne(D,S)),m.close()}else Y(Lt,`RPC '${e}' stream ${i} received:`,v),R.i_(v)}}),N(l,EA.STAT_EVENT,O=>{O.stat===Em.PROXY?Y(Lt,`RPC '${e}' stream ${i} detected buffering proxy`):O.stat===Em.NOPROXY&&Y(Lt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{R.n_()},0),R}}function fd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(t){return new FN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e,n,r=1e3,i=1.5,a=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=i,this.l_=a,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,n-r);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE="PersistentStream";class yb{constructor(e,n,r,i,a,s,l,u){this.bi=e,this.R_=r,this.V_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new pb(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===q.RESOURCE_EXHAUSTED?(Vr(n.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===n&&this.B_(r,i)},r=>{e(()=>{const i=new ne(q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return Y(tE,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(Y(tE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BM extends yb{constructor(e,n,r,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=QN(this.serializer,e),r=function(a){if(!("targetChange"in a))return ue.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?ue.min():s.readTime?er(s.readTime):ue.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Om(this.serializer),n.addTarget=function(a,s){let l;const u=s.target;if(l=wm(u)?{documents:XN(a,u)}:{query:WN(a,u).gt},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){l.resumeToken=ab(a,s.resumeToken);const c=Cm(a,s.expectedCount);c!==null&&(l.expectedCount=c)}else if(s.snapshotVersion.compareTo(ue.min())>0){l.readTime=uh(a,s.snapshotVersion.toTimestamp());const c=Cm(a,s.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=JN(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.F_(n)}}class HM extends yb{constructor(e,n,r,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=a}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,n){return this.connection.a_("Write",e,n)}q_(e){return Me(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Me(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const n=$N(e.writeResults,e.commitTime),r=er(e.commitTime);return this.listener.j_(r,n)}H_(){const e={};e.database=Om(this.serializer),this.F_(e)}G_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>YN(this.serializer,r))};this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qM{}class FM extends qM{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,s])=>this.connection.Qo(e,Im(n,r),i,a,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ne(q.UNKNOWN,a.toString())})}Wo(e,n,r,i,a){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Wo(e,Im(n,r),i,s,l,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(q.UNKNOWN,s.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class GM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Vr(n),this.ea=!1):Y("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="RemoteStore";class KM{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=a,this.ca.vo(s=>{r.enqueueAndForget(async()=>{wa(this)&&(Y(ga,"Restarting streams for network reachability change."),await async function(u){const c=ce(u);c.aa.add(4),await Zl(c),c.la.set("Unknown"),c.aa.delete(4),await Zh(c)}(this))})}),this.la=new GM(r,i)}}async function Zh(t){if(wa(t))for(const e of t.ua)await e(!0)}async function Zl(t){for(const e of t.ua)await e(!1)}function vb(t,e){const n=ce(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),pp(n)?gp(n):no(n).b_()&&mp(n,e))}function dp(t,e){const n=ce(t),r=no(n);n._a.delete(e),r.b_()&&_b(n,e),n._a.size===0&&(r.b_()?r.v_():wa(n)&&n.la.set("Unknown"))}function mp(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ue.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}no(t).U_(e)}function _b(t,e){t.ha.Ke(e),no(t).K_(e)}function gp(t){t.ha=new jN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),no(t).start(),t.la.ta()}function pp(t){return wa(t)&&!no(t).w_()&&t._a.size>0}function wa(t){return ce(t).aa.size===0}function Eb(t){t.ha=void 0}async function QM(t){t.la.set("Online")}async function YM(t){t._a.forEach((e,n)=>{mp(t,e)})}async function $M(t,e){Eb(t),pp(t)?(t.la.ia(e),gp(t)):t.la.set("Unknown")}async function XM(t,e,n){if(t.la.set("Online"),e instanceof ib&&e.state===2&&e.cause)try{await async function(i,a){const s=a.cause;for(const l of a.targetIds)i._a.has(l)&&(await i.remoteSyncer.rejectListen(l,s),i._a.delete(l),i.ha.removeTarget(l))}(t,e)}catch(r){Y(ga,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hh(t,r)}else if(e instanceof mc?t.ha.Xe(e):e instanceof rb?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ue.min()))try{const r=await gb(t.localStore);n.compareTo(r)>=0&&await function(a,s){const l=a.ha.It(s);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const f=a._a.get(c);f&&a._a.set(c,f.withResumeToken(u.resumeToken,s))}}),l.targetMismatches.forEach((u,c)=>{const f=a._a.get(u);if(!f)return;a._a.set(u,f.withResumeToken(Nt.EMPTY_BYTE_STRING,f.snapshotVersion)),_b(a,u);const m=new ui(f.target,u,c,f.sequenceNumber);mp(a,m)}),a.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){Y(ga,"Failed to raise snapshot:",r),await hh(t,r)}}async function hh(t,e,n){if(!to(e))throw e;t.aa.add(1),await Zl(t),t.la.set("Offline"),n||(n=()=>gb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y(ga,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Zh(t)})}function Tb(t,e){return e().catch(n=>hh(t,n,e))}async function Jh(t){const e=ce(t),n=Mi(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Jg;for(;WM(e);)try{const i=await MM(e.localStore,r);if(i===null){e.oa.length===0&&n.v_();break}r=i.batchId,ZM(e,i)}catch(i){await hh(e,i)}Sb(e)&&Ab(e)}function WM(t){return wa(t)&&t.oa.length<10}function ZM(t,e){t.oa.push(e);const n=Mi(t);n.b_()&&n.W_&&n.G_(e.mutations)}function Sb(t){return wa(t)&&!Mi(t).w_()&&t.oa.length>0}function Ab(t){Mi(t).start()}async function JM(t){Mi(t).H_()}async function ex(t){const e=Mi(t);for(const n of t.oa)e.G_(n.mutations)}async function tx(t,e,n){const r=t.oa.shift(),i=sp.from(r,e,n);await Tb(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Jh(t)}async function nx(t,e){e&&Mi(t).W_&&await async function(r,i){if(function(s){return UN(s)&&s!==q.ABORTED}(i.code)){const a=r.oa.shift();Mi(r).D_(),await Tb(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i)),await Jh(r)}}(t,e),Sb(t)&&Ab(t)}async function nE(t,e){const n=ce(t);n.asyncQueue.verifyOperationInProgress(),Y(ga,"RemoteStore received new credentials");const r=wa(n);n.aa.add(3),await Zl(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Zh(n)}async function rx(t,e){const n=ce(t);e?(n.aa.delete(2),await Zh(n)):e||(n.aa.add(2),await Zl(n),n.la.set("Unknown"))}function no(t){return t.Pa||(t.Pa=function(n,r,i){const a=ce(n);return a.Y_(),new BM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:QM.bind(null,t),Jo:YM.bind(null,t),Zo:$M.bind(null,t),Q_:XM.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),pp(t)?gp(t):t.la.set("Unknown")):(await t.Pa.stop(),Eb(t))})),t.Pa}function Mi(t){return t.Ta||(t.Ta=function(n,r,i){const a=ce(n);return a.Y_(),new HM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)}(t.datastore,t.asyncQueue,{jo:()=>Promise.resolve(),Jo:JM.bind(null,t),Zo:nx.bind(null,t),z_:ex.bind(null,t),j_:tx.bind(null,t)}),t.ua.push(async e=>{e?(t.Ta.D_(),await Jh(t)):(await t.Ta.stop(),t.oa.length>0&&(Y(ga,`Stopping write stream with ${t.oa.length} pending writes`),t.oa=[]))})),t.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Si,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const s=Date.now()+r,l=new yp(e,n,s,i,a);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(t,e){if(Vr("AsyncQueue",`${e}: ${t}`),to(t))return new ne(q.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{static emptySet(e){return new Es(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||re.comparator(n.key,r.key):(n,r)=>re.comparator(n.key,r.key),this.keyedMap=ko(),this.sortedSet=new Je(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Es)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Es;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Ia=new Je(re.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):ae(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Bs{constructor(e,n,r,i,a,s,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,a){const s=[];return n.forEach(l=>{s.push({type:0,doc:l})}),new Bs(e,n,Es.emptySet(n),s,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class ax{constructor(){this.queries=iE(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const i=ce(n),a=i.queries;i.queries=iE(),a.forEach((s,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new ne(q.ABORTED,"Firestore shutting down"))}}function iE(){return new Aa(t=>FA(t),Gh)}async function sx(t,e){const n=ce(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.Va()&&e.ma()&&(r=2):(a=new ix,r=e.ma()?0:1);try{switch(r){case 0:a.Aa=await n.onListen(i,!0);break;case 1:a.Aa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const l=vp(s,`Initialization of query '${Xa(e.query)}' failed`);return void e.onError(l)}n.queries.set(i,a),a.Ra.push(e),e.ga(n.onlineState),a.Aa&&e.pa(a.Aa)&&_p(n)}async function ox(t,e){const n=ce(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const s=a.Ra.indexOf(e);s>=0&&(a.Ra.splice(s,1),a.Ra.length===0?i=e.ma()?0:1:!a.Va()&&e.ma()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function lx(t,e){const n=ce(t);let r=!1;for(const i of e){const a=i.query,s=n.queries.get(a);if(s){for(const l of s.Ra)l.pa(i)&&(r=!0);s.Aa=i}}r&&_p(n)}function ux(t,e,n){const r=ce(t),i=r.queries.get(e);if(i)for(const a of i.Ra)a.onError(n);r.queries.delete(e)}function _p(t){t.fa.forEach(e=>{e.next()})}var xm,aE;(aE=xm||(xm={})).ya="default",aE.Cache="cache";class cx{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Bs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Bs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bb{constructor(e){this.key=e}}class wb{constructor(e){this.key=e}}class hx{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=Se(),this.mutatedKeys=Se(),this.Ua=GA(e),this.Ka=new Es(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new rE,i=n?n.Ka:this.Ka;let a=n?n.mutatedKeys:this.mutatedKeys,s=i,l=!1;const u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((f,m)=>{const g=i.get(f),p=Kh(this.query,m)?m:null,R=!!g&&this.mutatedKeys.has(g.key),N=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let O=!1;g&&p?g.data.isEqual(p.data)?R!==N&&(r.track({type:3,doc:p}),O=!0):this.ja(g,p)||(r.track({type:2,doc:p}),O=!0,(u&&this.Ua(p,u)>0||c&&this.Ua(p,c)<0)&&(l=!0)):!g&&p?(r.track({type:0,doc:p}),O=!0):g&&!p&&(r.track({type:1,doc:g}),O=!0,(u||c)&&(l=!0)),O&&(p?(s=s.add(p),a=N?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),r.track({type:1,doc:f})}return{Ka:s,za:r,ys:l,mutatedKeys:a}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const s=e.za.da();s.sort((f,m)=>function(p,R){const N=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ae(20277,{Vt:O})}};return N(p)-N(R)}(f.type,m.type)||this.Ua(f.doc,m.doc)),this.Ha(r),i=i!=null&&i;const l=n&&!i?this.Ja():[],u=this.$a.size===0&&this.current&&!i?1:0,c=u!==this.Qa;return this.Qa=u,s.length!==0||c?{snapshot:new Bs(this.query,e.Ka,a,s,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new rE,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=Se(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new wb(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new bb(r))}),n}Xa(e){this.qa=e.Ns,this.$a=Se();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Bs.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Ep="SyncEngine";class fx{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class dx{constructor(e){this.key=e,this.tu=!1}}class mx{constructor(e,n,r,i,a,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.nu={},this.ru=new Aa(l=>FA(l),Gh),this.iu=new Map,this.su=new Set,this.ou=new Je(re.comparator),this._u=new Map,this.au=new up,this.uu={},this.cu=new Map,this.lu=js.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function gx(t,e,n=!0){const r=Nb(t);let i;const a=r.ru.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.eu()):i=await Rb(r,e,n,!0),i}async function px(t,e){const n=Nb(t);await Rb(n,e,!0,!1)}async function Rb(t,e,n,r){const i=await xM(t.localStore,Zn(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,n);let l;return r&&(l=await yx(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&vb(t.remoteStore,i),l}async function yx(t,e,n,r,i){t.Pu=(m,g,p)=>async function(N,O,E,v){let A=O.view.Ga(E);A.ys&&(A=await W_(N.localStore,O.query,!1).then(({documents:S})=>O.view.Ga(S,A)));const M=v&&v.targetChanges.get(O.targetId),z=v&&v.targetMismatches.get(O.targetId)!=null,D=O.view.applyChanges(A,N.isPrimaryClient,M,z);return oE(N,O.targetId,D.Ya),D.snapshot}(t,m,g,p);const a=await W_(t.localStore,e,!0),s=new hx(e,a.Ns),l=s.Ga(a.documents),u=Wl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=s.applyChanges(l,t.isPrimaryClient,u);oE(t,n,c.Ya);const f=new fx(e,n,s);return t.ru.set(e,f),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function vx(t,e,n){const r=ce(t),i=r.ru.get(e),a=r.iu.get(i.targetId);if(a.length>1)return r.iu.set(i.targetId,a.filter(s=>!Gh(s,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Nm(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&dp(r.remoteStore,i.targetId),Vm(r,i.targetId)}).catch(eo)):(Vm(r,i.targetId),await Nm(r.localStore,i.targetId,!0))}async function _x(t,e){const n=ce(t),r=n.ru.get(e),i=n.iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),dp(n.remoteStore,r.targetId))}async function Ex(t,e,n){const r=Cx(t);try{const i=await function(s,l){const u=ce(s),c=gt.now(),f=l.reduce((p,R)=>p.add(R.key),Se());let m,g;return u.persistence.runTransaction("Locally write mutations","readwrite",p=>{let R=Pr(),N=Se();return u.Cs.getEntries(p,f).next(O=>{R=O,R.forEach((E,v)=>{v.isValidDocument()||(N=N.add(E))})}).next(()=>u.localDocuments.getOverlayedDocuments(p,R)).next(O=>{m=O;const E=[];for(const v of l){const A=xN(v,m.get(v.key).overlayedDocument);A!=null&&E.push(new ba(v.key,A,LA(A.value.mapValue),Jn.exists(!0)))}return u.mutationQueue.addMutationBatch(p,c,E,l)}).next(O=>{g=O;const E=O.applyToLocalDocumentSet(m,N);return u.documentOverlayCache.saveOverlays(p,O.batchId,E)})}).then(()=>({batchId:g.batchId,changes:QA(m)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,l,u){let c=s.uu[s.currentUser.toKey()];c||(c=new Je(me)),c=c.insert(l,u),s.uu[s.currentUser.toKey()]=c}(r,i.batchId,n),await Jl(r,i.changes),await Jh(r.remoteStore)}catch(i){const a=vp(i,"Failed to persist write");n.reject(a)}}async function Cb(t,e){const n=ce(t);try{const r=await OM(n.localStore,e);e.targetChanges.forEach((i,a)=>{const s=n._u.get(a);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.tu=!0:i.modifiedDocuments.size>0?Me(s.tu,14607):i.removedDocuments.size>0&&(Me(s.tu,42227),s.tu=!1))}),await Jl(n,r,e)}catch(r){await eo(r)}}function sE(t,e,n){const r=ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ru.forEach((a,s)=>{const l=s.view.ga(e);l.snapshot&&i.push(l.snapshot)}),function(s,l){const u=ce(s);u.onlineState=l;let c=!1;u.queries.forEach((f,m)=>{for(const g of m.Ra)g.ga(l)&&(c=!0)}),c&&_p(u)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Tx(t,e,n){const r=ce(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r._u.get(e),a=i&&i.key;if(a){let s=new Je(re.comparator);s=s.insert(a,Ut.newNoDocument(a,ue.min()));const l=Se().add(a),u=new Xh(ue.min(),new Map,new Je(me),s,l);await Cb(r,u),r.ou=r.ou.remove(a),r._u.delete(e),Tp(r)}else await Nm(r.localStore,e,!1).then(()=>Vm(r,e,n)).catch(eo)}async function Sx(t,e){const n=ce(t),r=e.batch.batchId;try{const i=await DM(n.localStore,e);Db(n,r,null),Ib(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jl(n,i)}catch(i){await eo(i)}}async function Ax(t,e,n){const r=ce(t);try{const i=await function(s,l){const u=ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let f;return u.mutationQueue.lookupMutationBatch(c,l).next(m=>(Me(m!==null,37113),f=m.keys(),u.mutationQueue.removeMutationBatch(c,m))).next(()=>u.mutationQueue.performConsistencyCheck(c)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(c,f,l)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,f)).next(()=>u.localDocuments.getDocuments(c,f))})}(r.localStore,e);Db(r,e,n),Ib(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Jl(r,i)}catch(i){await eo(i)}}function Ib(t,e){(t.cu.get(e)||[]).forEach(n=>{n.resolve()}),t.cu.delete(e)}function Db(t,e,n){const r=ce(t);let i=r.uu[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function Vm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||Ob(t,r)})}function Ob(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(dp(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),Tp(t))}function oE(t,e,n){for(const r of n)r instanceof bb?(t.au.addReference(r.key,e),bx(t,r)):r instanceof wb?(Y(Ep,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||Ob(t,r.key)):ae(19791,{Iu:r})}function bx(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(Y(Ep,"New document in limbo: "+n),t.su.add(r),Tp(t))}function Tp(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new re(Ye.fromString(e)),r=t.lu.next();t._u.set(r,new dx(n)),t.ou=t.ou.insert(n,r),vb(t.remoteStore,new ui(Zn(qA(n.path)),r,"TargetPurposeLimboResolution",Bh.le))}}async function Jl(t,e,n){const r=ce(t),i=[],a=[],s=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{s.push(r.Pu(u,e,n).then(c=>{var f;if((c||n)&&r.isPrimaryClient){const m=c?!c.fromCache:(f=n==null?void 0:n.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,m?"current":"not-current")}if(c){i.push(c);const m=hp.Ps(u.targetId,c);a.push(m)}}))}),await Promise.all(s),r.nu.Q_(i),await async function(u,c){const f=ce(u);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",m=>j.forEach(c,g=>j.forEach(g.ls,p=>f.persistence.referenceDelegate.addReference(m,g.targetId,p)).next(()=>j.forEach(g.hs,p=>f.persistence.referenceDelegate.removeReference(m,g.targetId,p)))))}catch(m){if(!to(m))throw m;Y(fp,"Failed to update sequence numbers: "+m)}for(const m of c){const g=m.targetId;if(!m.fromCache){const p=f.Ss.get(g),R=p.snapshotVersion,N=p.withLastLimboFreeSnapshotVersion(R);f.Ss=f.Ss.insert(g,N)}}}(r.localStore,a))}async function wx(t,e){const n=ce(t);if(!n.currentUser.isEqual(e)){Y(Ep,"User change. New user:",e.toKey());const r=await mb(n.localStore,e);n.currentUser=e,function(a,s){a.cu.forEach(l=>{l.forEach(u=>{u.reject(new ne(q.CANCELLED,s))})}),a.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Jl(n,r.Ms)}}function Rx(t,e){const n=ce(t),r=n._u.get(e);if(r&&r.tu)return Se().add(r.key);{let i=Se();const a=n.iu.get(e);if(!a)return i;for(const s of a){const l=n.ru.get(s);i=i.unionWith(l.view.Wa)}return i}}function Nb(t){const e=ce(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Cb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,e),e.nu.Q_=lx.bind(null,e.eventManager),e.nu.Tu=ux.bind(null,e.eventManager),e}function Cx(t){const e=ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ax.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wh(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return IM(this.persistence,new wM,e.initialUser,this.serializer)}Ru(e){return new db(cp.Ei,this.serializer)}Au(e){return new PM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class Ix extends fh{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Me(this.persistence.referenceDelegate instanceof ch,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cM(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Wt.withCacheSize(this.cacheSizeBytes):Wt.DEFAULT;return new db(r=>ch.Ei(r,n),this.serializer)}}class Pm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=wx.bind(null,this.syncEngine),await rx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ax}()}createDatastore(e){const n=Wh(e.databaseInfo.databaseId),r=function(a){return new jM(a)}(e.databaseInfo);return function(a,s,l,u){return new FM(a,s,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,a,s,l){return new KM(r,i,a,s,l)}(this.localStore,this.datastore,e.asyncQueue,n=>sE(this.syncEngine,n,0),function(){return eE.C()?new eE:new LM}())}createSyncEngine(e,n){return function(i,a,s,l,u,c,f){const m=new mx(i,a,s,l,u,c);return f&&(m.hu=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const a=ce(i);Y(ga,"RemoteStore shutting down."),a.aa.add(5),await Zl(a),a.ca.shutdown(),a.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Pm.provider={build:()=>new Pm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="FirestoreClient";class Ox{constructor(e,n,r,i,a){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=kt.UNAUTHENTICATED,this.clientId=RA.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async s=>{Y(xi,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Y(xi,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Si;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=vp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dd(t,e){t.asyncQueue.verifyOperationInProgress(),Y(xi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await mb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function lE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await Nx(t);Y(xi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>nE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>nE(e.remoteStore,i)),t._onlineComponents=e}async function Nx(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y(xi,"Using user provided OfflineComponentProvider");try{await dd(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===q.FAILED_PRECONDITION||i.code===q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ls("Error using user provided cache. Falling back to memory cache: "+n),await dd(t,new fh)}}else Y(xi,"Using default OfflineComponentProvider"),await dd(t,new Ix(void 0));return t._offlineComponents}async function Mb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y(xi,"Using user provided OnlineComponentProvider"),await lE(t,t._uninitializedComponentsProvider._online)):(Y(xi,"Using default OnlineComponentProvider"),await lE(t,new Pm))),t._onlineComponents}function Mx(t){return Mb(t).then(e=>e.syncEngine)}async function xx(t){const e=await Mb(t),n=e.eventManager;return n.onListen=gx.bind(null,e.syncEngine),n.onUnlisten=vx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=px.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=_x.bind(null,e.syncEngine),n}function Vx(t,e,n={}){const r=new Si;return t.asyncQueue.enqueueAndForget(async()=>function(a,s,l,u,c){const f=new Dx({next:g=>{f.yu(),s.enqueueAndForget(()=>ox(a,m)),g.fromCache&&u.source==="server"?c.reject(new ne(q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(g)},error:g=>c.reject(g)}),m=new cx(l,f,{includeMetadataChanges:!0,Fa:!0});return sx(a,m)}(await xx(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t,e,n){if(!n)throw new ne(q.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Px(t,e,n,r){if(e===!0&&r===!0)throw new ne(q.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function cE(t){if(!re.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hE(t){if(re.isDocumentKey(t))throw new ne(q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Sp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ae(12329,{type:typeof t})}function Hs(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ne(q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(t);throw new ne(q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb="firestore.googleapis.com",fE=!0;class dE{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Pb,this.ssl=fE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:fE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lM)throw new ne(q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=xb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ne(q.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new UO;switch(r.type){case"firstParty":return new HO(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=uE.get(n);r&&(Y("ComponentProvider","Removing Datastore"),uE.delete(n),r.terminate())}(this),Promise.resolve()}}function Lx(t,e,n,r={}){var i;const a=(t=Hs(t,ef))._getSettings(),s=Object.assign(Object.assign({},a),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;a.host!==Pb&&a.host!==l&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},a),{host:l,ssl:!1,emulatorOptions:r});if(!fa(u,s)&&(t._setSettings(u),r.mockUserToken)){let c,f;if(typeof r.mockUserToken=="string")c=r.mockUserToken,f=kt.MOCK_USER;else{c=h2(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new ne(q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new kt(m)}t._authCredentials=new zO(new bA(c,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new tf(this.firestore,e,this._query)}}class An{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ai(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new An(this.firestore,e,this._key)}}class Ai extends tf{constructor(e,n,r){super(e,n,qA(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new An(this.firestore,null,new re(e))}withConverter(e){return new Ai(this.firestore,e,this._path)}}function mE(t,e,...n){if(t=Ht(t),Vb("collection","path",e),t instanceof ef){const r=Ye.fromString(e,...n);return hE(r),new Ai(t,null,r)}{if(!(t instanceof An||t instanceof Ai))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return hE(r),new Ai(t.firestore,null,r)}}function gE(t,e,...n){if(t=Ht(t),arguments.length===1&&(e=RA.newId()),Vb("doc","path",e),t instanceof ef){const r=Ye.fromString(e,...n);return cE(r),new An(t,null,new re(r))}{if(!(t instanceof An||t instanceof Ai))throw new ne(q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ye.fromString(e,...n));return cE(r),new An(t.firestore,t instanceof Ai?t.converter:null,new re(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class yE{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new pb(this,"async_queue_retry"),this.ju=()=>{const r=fd();r&&Y(pE,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=fd();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=fd();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Si;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!to(e))throw e;Y(pE,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Vr("INTERNAL UNHANDLED ERROR: ",vE(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const i=yp.createAndSchedule(this,e,n,r,a=>this.Xu(a));return this.Uu.push(i),i}Ju(){this.Ku&&ae(47125,{ec:vE(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function vE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class nf extends ef{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new yE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new yE(e),this._firestoreClient=void 0,await e}}}function kx(t,e){const n=typeof t=="object"?t:mA(),r=typeof t=="string"?t:rh,i=Wg(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=u2("firestore");a&&Lx(i,...a)}return i}function Lb(t){if(t._terminated)throw new ne(q.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Ux(t),t._firestoreClient}function Ux(t){var e,n,r;const i=t._freezeSettings(),a=function(l,u,c,f){return new rN(l,u,c,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,xb(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Ox(t._authCredentials,t._appCheckCredentials,t._queue,a,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qs(Nt.fromBase64String(e))}catch(n){throw new ne(q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new qs(Nt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ne(q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ne(q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ne(q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return me(this._lat,e._lat)||me(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==i[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^__.*__$/;class kb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ba(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ub(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ae(40011,{oc:t})}}class Rp{constructor(e,n,r,i,a,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this._c(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new Rp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return dh(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(Ub(this.oc)&&zx.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class jx{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wh(e)}dc(e,n,r,i=!1){return new Rp({oc:e,methodName:n,Ec:r,path:Dt.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Bx(t){const e=t._freezeSettings(),n=Wh(t._databaseId);return new jx(t._databaseId,!!e.ignoreUndefinedProperties,n)}class af extends Ap{_toFieldTransform(e){if(e.oc!==2)throw e.oc===1?e.Tc(`${this._methodName}() can only appear at the top level of your update data`):e.Tc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof af}}function Hx(t,e,n,r){const i=t.dc(1,e,n);jb("Data must be an object, but it was:",i,r);const a=[],s=ln.empty();ki(r,(u,c)=>{const f=Cp(e,u,n);c=Ht(c);const m=i.hc(f);if(c instanceof af)a.push(f);else{const g=sf(c,m);g!=null&&(a.push(f),s.set(f,g))}});const l=new Vn(a);return new kb(s,l,i.fieldTransforms)}function qx(t,e,n,r,i,a){const s=t.dc(1,e,n),l=[_E(e,r,n)],u=[i];if(a.length%2!=0)throw new ne(q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)l.push(_E(e,a[g])),u.push(a[g+1]);const c=[],f=ln.empty();for(let g=l.length-1;g>=0;--g)if(!Kx(c,l[g])){const p=l[g];let R=u[g];R=Ht(R);const N=s.hc(p);if(R instanceof af)c.push(p);else{const O=sf(R,N);O!=null&&(c.push(p),f.set(p,O))}}const m=new Vn(c);return new kb(f,m,s.fieldTransforms)}function sf(t,e){if(zb(t=Ht(t)))return jb("Unsupported field value:",e,t),Fx(t,e);if(t instanceof Ap)return function(r,i){if(!Ub(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const a=[];let s=0;for(const l of r){let u=sf(l,i.Pc(s));u==null&&(u={nullValue:"NULL_VALUE"}),a.push(u),s++}return{arrayValue:{values:a}}}(t,e)}return function(r,i){if((r=Ht(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return CN(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=gt.fromDate(r);return{timestampValue:uh(i.serializer,a)}}if(r instanceof gt){const a=new gt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:uh(i.serializer,a)}}if(r instanceof bp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qs)return{bytesValue:ab(i.serializer,r._byteString)};if(r instanceof An){const a=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(a))throw i.Tc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:lp(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof wp)return function(s,l){return{mapValue:{fields:{[VA]:{stringValue:PA},[ih]:{arrayValue:{values:s.toArray().map(c=>{if(typeof c!="number")throw l.Tc("VectorValues must only contain numeric values.");return ip(l.serializer,c)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${Sp(r)}`)}(t,e)}function Fx(t,e){const n={};return IA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(r,i)=>{const a=sf(i,e.uc(r));a!=null&&(n[r]=a)}),{mapValue:{fields:n}}}function zb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof gt||t instanceof bp||t instanceof qs||t instanceof An||t instanceof Ap||t instanceof wp)}function jb(t,e,n){if(!zb(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Sp(n);throw r==="an object"?e.Tc(t+" a custom object"):e.Tc(t+" "+r)}}function _E(t,e,n){if((e=Ht(e))instanceof rf)return e._internalPath;if(typeof e=="string")return Cp(t,e);throw dh("Field path arguments must be of type string or ",t,!1,void 0,n)}const Gx=new RegExp("[~\\*/\\[\\]]");function Cp(t,e,n){if(e.search(Gx)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new rf(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dh(t,e,n,r,i){const a=r&&!r.isEmpty(),s=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let u="";return(a||s)&&(u+=" (found",a&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new ne(q.INVALID_ARGUMENT,l+t+u)}function Kx(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new An(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Qx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Hb("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Qx extends Bb{data(){return super.data()}}function Hb(t,e){return typeof e=="string"?Cp(t,e):e instanceof rf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ne(q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $x{convertValue(e,n="none"){switch(Ni(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Oi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ae(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return ki(e,(i,a)=>{r[i]=this.convertValue(a,n)}),r}convertVectorValue(e){var n,r,i;const a=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[ih].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>at(s.doubleValue));return new wp(a)}convertGeoPoint(e){return new bp(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=qh(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(bl(e));default:return null}}convertTimestamp(e){const n=Di(e);return new gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Ye.fromString(e);Me(hb(r),9688,{name:e});const i=new wl(r.get(1),r.get(3)),a=new re(r.popFirst(5));return i.isEqual(n)||Vr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Xx extends Bb{constructor(e,n,r,i,a,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new gc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Hb("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class gc extends Xx{data(e={}){return super.data(e)}}class Wx{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Gu(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new gc(this._firestore,this._userDataWriter,r.key,r,new Gu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ne(q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(l=>{const u=new gc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);return l.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(l=>a||l.type!==3).map(l=>{const u=new gc(i._firestore,i._userDataWriter,l.doc.key,l.doc,new Gu(i._snapshot.mutatedKeys.has(l.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,f=-1;return l.type!==0&&(c=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),l.type!==1&&(s=s.add(l.doc),f=s.indexOf(l.doc.key)),{type:Zx(l.type),doc:u,oldIndex:c,newIndex:f}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Zx(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ae(61501,{type:t})}}class Jx extends $x{constructor(e){super(),this.firestore=e}convertBytes(e){return new qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new An(this.firestore,null,n)}}function EE(t){t=Hs(t,tf);const e=Hs(t.firestore,nf),n=Lb(e),r=new Jx(e);return Yx(t._query),Vx(n,t._query).then(i=>new Wx(e,r,t,i))}function eV(t,e,n,...r){t=Hs(t,An);const i=Hs(t.firestore,nf),a=Bx(i);let s;return s=typeof(e=Ht(e))=="string"||e instanceof rf?qx(a,"updateDoc",t._key,e,n,r):Hx(a,"updateDoc",t._key,e),qb(i,[s.toMutation(t._key,Jn.exists(!0))])}function tV(t){return qb(Hs(t.firestore,nf),[new ap(t._key,Jn.none())])}function qb(t,e){return function(r,i){const a=new Si;return r.asyncQueue.enqueueAndForget(async()=>Ex(await Mx(r),i,a)),a.promise}(Lb(t),e)}(function(e,n=!0){(function(i){Js=i})(Zs),Ps(new da("firestore",(r,{instanceIdentifier:i,options:a})=>{const s=r.getProvider("app").getImmediate(),l=new nf(new jO(r.getProvider("auth-internal")),new qO(s,r.getProvider("app-check-internal")),function(c,f){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new ne(q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new wl(c.options.projectId,f)}(s,i),s);return a=Object.assign({useFetchStreams:n},a),l._setSettings(a),l},"PUBLIC").setMultipleInstances(!0)),Ei(T_,S_,e),Ei(T_,S_,"esm2017")})();function Ip(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Fb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nV=Fb,Gb=new $l("auth","Firebase",Fb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new $g("@firebase/auth");function rV(t,...e){mh.logLevel<=Te.WARN&&mh.warn(`Auth (${Zs}): ${t}`,...e)}function pc(t,...e){mh.logLevel<=Te.ERROR&&mh.error(`Auth (${Zs}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ir(t,...e){throw Op(t,...e)}function kn(t,...e){return Op(t,...e)}function Dp(t,e,n){const r=Object.assign(Object.assign({},nV()),{[e]:n});return new $l("auth","Firebase",r).create(e,{appName:t.name})}function sa(t){return Dp(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iV(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&ir(t,"argument-error"),Dp(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Op(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Gb.create(t,...e)}function oe(t,e,...n){if(!t)throw Op(e,...n)}function wr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw pc(e),new Error(e)}function Lr(t,e){t||wr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function aV(){return TE()==="http:"||TE()==="https:"}function TE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sV(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(aV()||g2()||"connection"in navigator)?navigator.onLine:!0}function oV(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Lr(n>e,"Short delay should be less than long delay!"),this.isMobile=f2()||p2()}get(){return sV()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(t,e){Lr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lV={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uV=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cV=new eu(3e4,6e4);function Mp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ro(t,e,n,r,i={}){return Qb(t,i,async()=>{let a={},s={};r&&(e==="GET"?s=r:a={body:JSON.stringify(r)});const l=Xl(Object.assign({key:t.config.apiKey},s)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},a);return m2()||(c.referrerPolicy="no-referrer"),Kb.fetch()(await Yb(t,t.config.apiHost,n,l),c)})}async function Qb(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},lV),e);try{const i=new fV(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Ku(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const l=a.ok?s.errorMessage:s.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ku(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Ku(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Ku(t,"user-disabled",s);const f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw Dp(t,f,c);ir(t,f)}}catch(i){if(i instanceof Ur)throw i;ir(t,"network-request-failed",{message:String(i)})}}async function hV(t,e,n,r,i={}){const a=await ro(t,e,n,r,i);return"mfaPendingCredential"in a&&ir(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function Yb(t,e,n,r){const i=`${e}${n}?${r}`,a=t,s=a.config.emulator?Np(t.config,i):`${t.config.apiScheme}://${i}`;return uV.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}class fV{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kn(this.auth,"network-request-failed")),cV.get())})}}function Ku(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=kn(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dV(t,e){return ro(t,"POST","/v1/accounts:delete",e)}async function gh(t,e){return ro(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function al(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mV(t,e=!1){const n=Ht(t),r=await n.getIdToken(e),i=xp(r);oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:al(md(i.auth_time)),issuedAtTime:al(md(i.iat)),expirationTime:al(md(i.exp)),signInProvider:s||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function md(t){return Number(t)*1e3}function xp(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return pc("JWT malformed, contained fewer than 3 sections"),null;try{const i=oA(n);return i?JSON.parse(i):(pc("Failed to decode base64 JWT payload"),null)}catch(i){return pc("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function SE(t){const e=xp(t);return oe(e,"internal-error"),oe(typeof e.exp<"u","internal-error"),oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Ur&&gV(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function gV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=al(this.lastLoginAt),this.creationTime=al(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Dl(t,gh(n,{idToken:r}));oe(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const s=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?$b(a.providerUserInfo):[],l=vV(t.providerData,s),u=t.isAnonymous,c=!(t.email&&a.passwordHash)&&!(l!=null&&l.length),f=u?c:!1,m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new km(a.createdAt,a.lastLoginAt),isAnonymous:f};Object.assign(t,m)}async function yV(t){const e=Ht(t);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vV(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function $b(t){return t.map(e=>{var{providerId:n}=e,r=Ip(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _V(t,e){const n=await Qb(t,{},async()=>{const r=Xl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await Yb(t,i,"/v1/token",`key=${a}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Kb.fetch()(s,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function EV(t,e){return ro(t,"POST","/v2/accounts:revokeToken",Mp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){oe(e.idToken,"internal-error"),oe(typeof e.idToken<"u","internal-error"),oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){oe(e.length!==0,"internal-error");const n=SE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await _V(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,s=new Ts;return r&&(oe(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(oe(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(oe(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ts,this.toJSON())}_performRefresh(){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(t,e){oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Pn{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=Ip(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new km(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await Dl(this,this.stsTokenManager.getToken(this.auth,e));return oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return mV(this,e)}reload(){return yV(this)}_assign(e){this!==e&&(oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Pn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xn(this.auth.app))return Promise.reject(sa(this.auth));const e=await this.getIdToken();return await Dl(this,dV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,s,l,u,c,f;const m=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(i=n.email)!==null&&i!==void 0?i:void 0,p=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,R=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(l=n.tenantId)!==null&&l!==void 0?l:void 0,O=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,E=(c=n.createdAt)!==null&&c!==void 0?c:void 0,v=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:A,emailVerified:M,isAnonymous:z,providerData:D,stsTokenManager:S}=n;oe(A&&S,e,"internal-error");const _=Ts.fromJSON(this.name,S);oe(typeof A=="string",e,"internal-error"),Kr(m,e.name),Kr(g,e.name),oe(typeof M=="boolean",e,"internal-error"),oe(typeof z=="boolean",e,"internal-error"),Kr(p,e.name),Kr(R,e.name),Kr(N,e.name),Kr(O,e.name),Kr(E,e.name),Kr(v,e.name);const T=new Pn({uid:A,auth:e,email:g,emailVerified:M,displayName:m,isAnonymous:z,photoURL:R,phoneNumber:p,tenantId:N,stsTokenManager:_,createdAt:E,lastLoginAt:v});return D&&Array.isArray(D)&&(T.providerData=D.map(w=>Object.assign({},w))),O&&(T._redirectEventId=O),T}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ts;i.updateFromServerResponse(n);const a=new Pn({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ph(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];oe(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?$b(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),l=new Ts;l.updateFromIdToken(r);const u=new Pn({uid:i.localId,auth:e,stsTokenManager:l,isAnonymous:s}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new km(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;function Rr(t){Lr(t instanceof Function,"Expected a class definition");let e=AE.get(t);return e?(Lr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,AE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Xb.type="NONE";const bE=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,e,n){return`firebase:${t}:${e}:${n}`}class Ss{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=yc(this.userKey,i.apiKey,a),this.fullPersistenceKey=yc("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gh(this.auth,{idToken:e}).catch(()=>{});return n?Pn._fromGetAccountInfoResponse(this.auth,n,e):null}return Pn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ss(Rr(bE),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let a=i[0]||Rr(bE);const s=yc(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const f=await c._get(s);if(f){let m;if(typeof f=="string"){const g=await gh(e,{idToken:f}).catch(()=>{});if(!g)break;m=await Pn._fromGetAccountInfoResponse(e,g,f)}else m=Pn._fromJSON(e,f);c!==a&&(l=m),a=c;break}}catch{}const u=i.filter(c=>c._shouldAllowMigration);return!a._shouldAllowMigration||!u.length?new Ss(a,e,r):(a=u[0],l&&await a._set(s,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==a)try{await c._remove(s)}catch{}})),new Ss(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ew(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Wb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(nw(e))return"Blackberry";if(rw(e))return"Webos";if(Zb(e))return"Safari";if((e.includes("chrome/")||Jb(e))&&!e.includes("edge/"))return"Chrome";if(tw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Wb(t=Bt()){return/firefox\//i.test(t)}function Zb(t=Bt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Jb(t=Bt()){return/crios\//i.test(t)}function ew(t=Bt()){return/iemobile/i.test(t)}function tw(t=Bt()){return/android/i.test(t)}function nw(t=Bt()){return/blackberry/i.test(t)}function rw(t=Bt()){return/webos/i.test(t)}function Vp(t=Bt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function TV(t=Bt()){var e;return Vp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function SV(){return y2()&&document.documentMode===10}function iw(t=Bt()){return Vp(t)||tw(t)||rw(t)||nw(t)||/windows phone/i.test(t)||ew(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aw(t,e=[]){let n;switch(t){case"Browser":n=wE(Bt());break;case"Worker":n=`${wE(Bt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zs}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((s,l)=>{try{const u=e(a);s(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bV(t,e={}){return ro(t,"GET","/v2/passwordPolicy",Mp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV=6;class RV{constructor(e){var n,r,i,a;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:wV,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,s,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(a=u.containsUppercaseLetter)!==null&&a!==void 0?a:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CV{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new AV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Gb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Rr(n)),this._initializationPromise=this.queue(async()=>{var r,i,a;if(!this._deleted&&(this.persistenceManager=await Ss.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gh(this,{idToken:e}),r=await Pn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xn(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,u=await this.tryRedirectSignIn(e);(!s||s===l)&&(u!=null&&u.user)&&(i=u.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=oV()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xn(this.app))return Promise.reject(sa(this));const n=e?Ht(e):null;return n&&oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xn(this.app)?Promise.reject(sa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xn(this.app)?Promise.reject(sa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bV(this),n=new RV(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new $l("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await EV(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Rr(e)||this._popupRedirectResolver;oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ss.create(this,[Rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let s=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(oe(l,this,"internal-error"),l.then(()=>{s||a(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{const u=e.addObserver(n);return()=>{s=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=aw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&rV(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function of(t){return Ht(t)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=w2(n=>this.observer=n)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IV(t){Pp=t}function DV(t){return Pp.loadJS(t)}function OV(){return Pp.gapiScript}function NV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MV(t,e){const n=Wg(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(fa(a,e??{}))return i;ir(i,"already-initialized")}return n.initialize({options:e})}function xV(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Rr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function VV(t,e,n){const r=of(t);oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=sw(e),{host:s,port:l}=PV(e),u=l===null?"":`:${l}`,c={url:`${a}//${s}${u}/`},f=Object.freeze({host:s,port:l,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),oe(fa(c,r.config.emulator)&&fa(f,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=f,r.settings.appVerificationDisabledForTesting=!0,LV()}function sw(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function PV(t){const e=sw(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:CE(r.substr(a.length+1))}}else{const[a,s]=r.split(":");return{host:a,port:CE(s)}}}function CE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function LV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,n){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function As(t,e){return hV(t,"POST","/v1/accounts:signInWithIdp",Mp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV="http://localhost";class pa extends ow{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ir("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=Ip(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new pa(r,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return As(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,As(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,As(e,n)}buildRequest(){const e={requestUri:kV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends Lp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends tu{constructor(){super("facebook.com")}static credential(e){return pa._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ni.credential(e.oauthAccessToken)}catch{return null}}}ni.FACEBOOK_SIGN_IN_METHOD="facebook.com";ni.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return pa._fromParams({providerId:_r.PROVIDER_ID,signInMethod:_r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return _r.credentialFromTaggedObject(e)}static credentialFromError(e){return _r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return _r.credential(n,r)}catch{return null}}}_r.GOOGLE_SIGN_IN_METHOD="google.com";_r.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends tu{constructor(){super("github.com")}static credential(e){return pa._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ii extends tu{constructor(){super("twitter.com")}static credential(e,n){return pa._fromParams({providerId:ii.PROVIDER_ID,signInMethod:ii.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ii.credentialFromTaggedObject(e)}static credentialFromError(e){return ii.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return ii.credential(n,r)}catch{return null}}}ii.TWITTER_SIGN_IN_METHOD="twitter.com";ii.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await Pn._fromIdTokenResponse(e,r,i),s=IE(r);return new Fs({user:a,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=IE(r);return new Fs({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function IE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh extends Ur{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new yh(e,n,r,i)}}function lw(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(t,a,e,r):a})}async function UV(t,e,n=!1){const r=await Dl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fs._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e,n=!1){const{auth:r}=t;if(xn(r.app))return Promise.reject(sa(r));const i="reauthenticate";try{const a=await Dl(t,lw(r,i,e,t),n);oe(a.idToken,r,"internal-error");const s=xp(a.idToken);oe(s,r,"internal-error");const{sub:l}=s;return oe(t.uid===l,r,"user-mismatch"),Fs._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&ir(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jV(t,e,n=!1){if(xn(t.app))return Promise.reject(sa(t));const r="signIn",i=await lw(t,r,e),a=await Fs._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}function BV(t,e,n,r){return Ht(t).onIdTokenChanged(e,n,r)}function HV(t,e,n){return Ht(t).beforeAuthStateChanged(e,n)}function lf(t,e,n,r){return Ht(t).onAuthStateChanged(e,n,r)}function uw(t){return Ht(t).signOut()}const vh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(vh,"1"),this.storage.removeItem(vh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=1e3,FV=10;class hw extends cw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=iw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,l,u)=>{this.notifyListeners(s,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},a=this.storage.getItem(r);SV()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,FV):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}hw.type="LOCAL";const GV=hw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fw extends cw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}fw.type="SESSION";const dw=fw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new uf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const l=Array.from(s).map(async c=>c(n.origin,a)),u=await KV(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((l,u)=>{const c=kp("",20);i.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),l(g.data.response);break;default:clearTimeout(f),clearTimeout(a),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(){return window}function YV(t){tr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mw(){return typeof tr().WorkerGlobalScope<"u"&&typeof tr().importScripts=="function"}async function $V(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function XV(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function WV(){return mw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="firebaseLocalStorageDb",ZV=1,_h="firebaseLocalStorage",pw="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function JV(){const t=indexedDB.deleteDatabase(gw);return new nu(t).toPromise()}function Um(){const t=indexedDB.open(gw,ZV);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(_h,{keyPath:pw})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(_h)?e(r):(r.close(),await JV(),e(await Um()))})})}async function DE(t,e,n){const r=cf(t,!0).put({[pw]:e,value:n});return new nu(r).toPromise()}async function eP(t,e){const n=cf(t,!1).get(e),r=await new nu(n).toPromise();return r===void 0?null:r.value}function OE(t,e){const n=cf(t,!0).delete(e);return new nu(n).toPromise()}const tP=800,nP=3;class yw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Um(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>nP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(WV()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $V(),!this.activeServiceWorker)return;this.sender=new QV(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||XV()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Um();return await DE(e,vh,"1"),await OE(e,vh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>DE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>eP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=cf(i,!1).getAll();return new nu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),tP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yw.type="LOCAL";const rP=yw;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(t,e){return e?Rr(e):(oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up extends ow{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return As(e,this._buildIdpRequest())}_linkToIdToken(e,n){return As(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return As(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function iP(t){return jV(t.auth,new Up(t),t.bypassAuthState)}function aP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),zV(n,new Up(t),t.bypassAuthState)}async function sP(t){const{auth:e,user:n}=t;return oe(n,e,"internal-error"),UV(n,new Up(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:s,type:l}=e;if(s){this.reject(s);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iP;case"linkViaPopup":case"linkViaRedirect":return sP;case"reauthViaPopup":case"reauthViaRedirect":return aP;default:ir(this.auth,"internal-error")}}resolve(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oP=new eu(2e3,1e4);async function lP(t,e,n){if(xn(t.app))return Promise.reject(kn(t,"operation-not-supported-in-this-environment"));const r=of(t);iV(t,e,Lp);const i=vw(r,n);return new Zi(r,"signInViaPopup",e,i).executeNotNull()}class Zi extends _w{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Zi.currentPopupAction&&Zi.currentPopupAction.cancel(),Zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return oe(e,this.auth,"internal-error"),e}async onExecution(){Lr(this.filter.length===1,"Popup operations only handle one event");const e=kp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,oP.get())};e()}}Zi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uP="pendingRedirect",vc=new Map;class cP extends _w{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=vc.get(this.auth._key());if(!e){try{const r=await hP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vc.set(this.auth._key(),e)}return this.bypassAuthState||vc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function hP(t,e){const n=mP(e),r=dP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function fP(t,e){vc.set(t._key(),e)}function dP(t){return Rr(t._redirectPersistence)}function mP(t){return yc(uP,t.config.apiKey,t.name)}async function gP(t,e,n=!1){if(xn(t.app))return Promise.reject(sa(t));const r=of(t),i=vw(r,e),s=await new cP(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP=10*60*1e3;class yP{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!vP(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Ew(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(kn(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pP&&this.cachedEventUids.clear(),this.cachedEventUids.has(NE(e))}saveEventToCache(e){this.cachedEventUids.add(NE(e)),this.lastProcessedEventTime=Date.now()}}function NE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Ew({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function vP(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ew(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e={}){return ro(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,TP=/^https?/;async function SP(t){if(t.config.emulator)return;const{authorizedDomains:e}=await _P(t);for(const n of e)try{if(AP(n))return}catch{}ir(t,"unauthorized-domain")}function AP(t){const e=Lm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!TP.test(n))return!1;if(EP.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bP=new eu(3e4,6e4);function ME(){const t=tr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function wP(t){return new Promise((e,n)=>{var r,i,a;function s(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(kn(t,"network-request-failed"))},timeout:bP.get()})}if(!((i=(r=tr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=tr().gapi)===null||a===void 0)&&a.load)s();else{const l=NV("iframefcb");return tr()[l]=()=>{gapi.load?s():n(kn(t,"network-request-failed"))},DV(`${OV()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw _c=null,e})}let _c=null;function RP(t){return _c=_c||wP(t),_c}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=new eu(5e3,15e3),IP="__/auth/iframe",DP="emulator/auth/iframe",OP={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NP=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function MP(t){const e=t.config;oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Np(e,DP):`https://${t.config.authDomain}/${IP}`,r={apiKey:e.apiKey,appName:t.name,v:Zs},i=NP.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Xl(r).slice(1)}`}async function xP(t){const e=await RP(t),n=tr().gapi;return oe(n,t,"internal-error"),e.open({where:document.body,url:MP(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OP,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const s=kn(t,"network-request-failed"),l=tr().setTimeout(()=>{a(s)},CP.get());function u(){tr().clearTimeout(l),i(r)}r.ping(u).then(u,()=>{a(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VP={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PP=500,LP=600,kP="_blank",UP="http://localhost";class xE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function zP(t,e,n,r=PP,i=LP){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},VP),{width:r.toString(),height:i.toString(),top:a,left:s}),c=Bt().toLowerCase();n&&(l=Jb(c)?kP:n),Wb(c)&&(e=e||UP,u.scrollbars="yes");const f=Object.entries(u).reduce((g,[p,R])=>`${g}${p}=${R},`,"");if(TV(c)&&l!=="_self")return jP(e||"",l),new xE(null);const m=window.open(e||"",l,f);oe(m,t,"popup-blocked");try{m.focus()}catch{}return new xE(m)}function jP(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BP="__/auth/handler",HP="emulator/auth/handler",qP=encodeURIComponent("fac");async function VE(t,e,n,r,i,a){oe(t.config.authDomain,t,"auth-domain-config-required"),oe(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zs,eventId:i};if(e instanceof Lp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",b2(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,m]of Object.entries({}))s[f]=m}if(e instanceof tu){const f=e.getScopes().filter(m=>m!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const l=s;for(const f of Object.keys(l))l[f]===void 0&&delete l[f];const u=await t._getAppCheckToken(),c=u?`#${qP}=${encodeURIComponent(u)}`:"";return`${FP(t)}?${Xl(l).slice(1)}${c}`}function FP({config:t}){return t.emulator?Np(t,HP):`https://${t.authDomain}/${BP}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="webStorageSupport";class GP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dw,this._completeRedirectFn=gP,this._overrideRedirectResult=fP}async _openPopup(e,n,r,i){var a;Lr((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await VE(e,n,r,Lm(),i);return zP(e,s,kp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await VE(e,n,r,Lm(),i);return YV(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(Lr(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await xP(e),r=new yP(e);return n.register("authEvent",i=>(oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(gd,{type:gd},i=>{var a;const s=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[gd];s!==void 0&&n(!!s),ir(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=SP(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return iw()||Zb()||Vp()}}const KP=GP;var PE="@firebase/auth",LE="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QP{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $P(t){Ps(new da("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:l}=r.options;oe(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:s,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aw(t)},c=new CV(r,i,a,u);return xV(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ps(new da("auth-internal",e=>{const n=of(e.getProvider("auth").getImmediate());return(r=>new QP(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ei(PE,LE,YP(t)),Ei(PE,LE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XP=5*60,WP=cA("authIdTokenMaxAge")||XP;let kE=null;const ZP=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>WP)return;const i=n==null?void 0:n.token;kE!==i&&(kE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function JP(t=mA()){const e=Wg(t,"auth");if(e.isInitialized())return e.getImmediate();const n=MV(t,{popupRedirectResolver:KP,persistence:[rP,GV,dw]}),r=cA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const s=ZP(a.toString());HV(n,s,()=>s(n.currentUser)),BV(n,l=>s(l))}}const i=lA("auth");return i&&VV(n,`http://${i}`),n}function eL(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}IV({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=kn("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",eL().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$P("Browser");const tL={apiKey:"AIzaSyB-Xeisvhv8TltSuDl6b-_TN7f_vHarnVM",authDomain:"piwo3slowo.firebaseapp.com",projectId:"piwo3slowo",storageBucket:"piwo3slowo.firebasestorage.app",messagingSenderId:"876754197834",appId:"1:876754197834:web:7bd5a098c7bf66de6575b3"},Tw=dA(tL),Qu=kx(Tw),oa=JP(Tw),nL=new _r;function zp(){const[t,e]=k.useState(null);k.useEffect(()=>{const r=lf(oa,i=>{e(i)});return()=>r()},[]);const n=async()=>{try{await uw(oa),console.log("Wylogowano pomyślnie")}catch(r){console.error("Błąd podczas wylogowania:",r)}};return F.jsx("nav",{className:"navbar",children:F.jsxs("ul",{children:[F.jsx("li",{children:F.jsx(el,{to:"/",children:"Strona Główna"})}),F.jsx("li",{children:F.jsx(el,{to:"/new",children:"Dodaj książkę"})}),F.jsx("li",{children:F.jsx("a",{href:"#",children:"Koszyk"})}),!t&&F.jsx("li",{children:F.jsx(el,{to:"/login",children:"Logowanie"})}),t&&F.jsx("li",{children:F.jsx("button",{onClick:n,style:{background:"transparent",border:"none",color:"black",cursor:"pointer",fontSize:"1em",padding:0,margin:0,fontFamily:"inherit"},children:"Wyloguj"})})]})})}function rL(){const[t,e]=k.useState(null);k.useEffect(()=>{const i=lf(oa,a=>{e(a)});return()=>i()},[]);const n=async()=>{try{const i=await lP(oa,nL);e(i.user)}catch(i){console.error("Błąd logowania:",i)}},r=async()=>{try{await uw(oa),e(null)}catch(i){console.error("Błąd podczas wylogowania:",i)}};return F.jsxs(F.Fragment,{children:[F.jsxs("h1",{className:"header",children:["Słowo",F.jsx("img",{src:"books.jpg",alt:"Quill",className:"icon"})]}),F.jsx("nav",{className:"nav",children:F.jsx(zp,{})}),F.jsx("main",{className:"login-main",children:t?F.jsxs("div",{className:"user-info",children:[F.jsx("img",{src:t.photoURL,alt:t.displayName,className:"user-avatar"}),F.jsxs("h2",{className:"user-name",children:["Witaj, ",t.displayName,"!"]}),F.jsx("p",{className:"user-email",children:t.email}),F.jsx("button",{onClick:r,className:"logout-btn",children:"Wyloguj się"})]}):F.jsxs(F.Fragment,{children:[F.jsx("h2",{className:"login-title",children:"Logowanie"}),F.jsx("button",{onClick:n,className:"google-login-btn",children:"Zaloguj się przez Google"})]})})]})}function iL(){const[t,e]=k.useState(null);return k.useEffect(()=>{const n=lf(oa,r=>{e(r)});return()=>n()},[]),F.jsx("div",{className:"min-h-screen font-sans",children:F.jsx("main",{className:"p-4",children:F.jsx(yD,{context:{user:t}})})})}const aL=({books:t,currentUserId:e,onEdit:n,onDelete:r})=>t.length?F.jsx("div",{className:"items",children:t.map(i=>F.jsxs("div",{className:"item",children:[F.jsx("h2",{children:i.title}),F.jsxs("p",{children:[i.author," - ",i.price," zł"]}),F.jsx("img",{src:i.img,alt:i.title,className:"img"}),i.userid===e&&F.jsxs("div",{className:"book-actions",children:[F.jsx("button",{onClick:()=>n(i),children:"Edytuj"}),F.jsx("button",{onClick:()=>r(i.id),children:"Usuń"})]})]},i.id))}):F.jsx("p",{children:"Brak książek do wyświetlenia"}),sL=({filters:t,updateFilter:e,authors:n,user:r})=>F.jsxs("div",{className:"filters",children:[F.jsx("label",{children:"Filtry"}),F.jsx("input",{type:"text",id:"searchKey",value:t.keyword,onChange:i=>e("keyword",i.target.value),placeholder:"Wyszukaj książki..."}),F.jsxs("label",{htmlFor:"priceFilter",children:["Cena: ",t.price," zł"]}),F.jsx("input",{type:"range",id:"priceFilter",min:"0",max:"1000",value:t.price,onChange:i=>e("price",i.target.value)}),F.jsx("label",{htmlFor:"coverFilter",children:"Okładka:"}),F.jsxs("select",{id:"coverFilter",value:t.cover,onChange:i=>e("cover",i.target.value),children:[F.jsx("option",{value:"",children:"Wybierz rodzaj okładki"}),F.jsx("option",{value:"miękka",children:"Miękka"}),F.jsx("option",{value:"twarda",children:"Twarda"})]}),F.jsx("label",{htmlFor:"authorFilter",children:"Autor:"}),F.jsxs("select",{id:"authorFilter",value:t.author,onChange:i=>e("author",i.target.value),children:[F.jsx("option",{value:"",children:"Wybierz autora"}),n.map((i,a)=>F.jsx("option",{value:i,children:i},a))]}),F.jsxs("label",{htmlFor:"pageFilter",children:["Liczba stron: ",t.pages]}),F.jsx("input",{type:"range",id:"pageFilter",min:"30",max:"5000",value:t.pages,onChange:i=>e("pages",i.target.value)}),r&&F.jsxs("div",{className:"moje-checkbox",children:[F.jsx("input",{type:"checkbox",id:"moje",checked:t.moje,onChange:i=>e("moje",i.target.checked)}),F.jsx("label",{htmlFor:"moje",children:"Pokaż tylko moje książki"})]})]});function Sw({onAddBook:t,bookToEdit:e,onUpdateBook:n,onCancelEdit:r}){const[i,a]=k.useState(""),[s,l]=k.useState(""),[u,c]=k.useState("");k.useEffect(()=>{e?(a(e.title||""),l(e.author||""),c(e.price||"")):(a(""),l(""),c(""))},[e]);const f=()=>{if(!i||!s||!u){alert("Proszę wypełnić wszystkie pola!");return}e?n(e.id,{title:i,author:s,price:Number(u)}):(t({title:i,author:s,price:Number(u)}),a(""),l(""),c(""))};return F.jsxs("div",{className:"features",children:[F.jsxs("div",{children:[F.jsx("label",{children:"Nazwa książki: "}),F.jsx("input",{type:"text",placeholder:"Wpisz tytuł książki",value:i,onChange:m=>a(m.target.value)})]}),F.jsxs("div",{children:[F.jsx("label",{children:"Autor: "}),F.jsx("input",{type:"text",placeholder:"Wpisz autora książki",value:s,onChange:m=>l(m.target.value)})]}),F.jsxs("div",{children:[F.jsx("label",{children:"Cena: "}),F.jsx("input",{type:"number",placeholder:"Wpisz cenę książki",value:u,onChange:m=>c(m.target.value)})]}),F.jsxs("div",{children:[F.jsx("button",{type:"button",onClick:f,children:e?"Zapisz zmiany":"Dodaj książkę"}),e&&F.jsx("button",{type:"button",onClick:r,style:{marginLeft:"10px"},children:"Anuluj"})]})]})}function oL(){const[t,e]=k.useState([]),[n,r]=k.useState([]),[i,a]=k.useState(null),[s,l]=k.useState(null),[u,c]=k.useState({keyword:"",price:1e3,cover:"",author:"",pages:5e3,moje:!1});k.useEffect(()=>{const R=lf(oa,N=>{a(N)});return()=>R()},[]),k.useEffect(()=>{async function R(){const N=mE(Qu,"books"),E=(await EE(N)).docs.map(v=>({id:v.id,...v.data()}));e(E)}R()},[]),k.useEffect(()=>{async function R(){const N=mE(Qu,"books"),O=await EE(N),E=new Set(O.docs.map(v=>v.data().author));r([...E])}R()},[]);const f=(R,N)=>{c(O=>({...O,[R]:N}))},m=t.filter(R=>R.title.toLowerCase().includes(u.keyword.toLowerCase())&&R.price<=u.price&&(u.cover===""||R.cover.toLowerCase()===u.cover.toLowerCase())&&(u.author===""||R.author===u.author)&&R.pages<=u.pages&&(!u.moje||i&&R.userid===i.email)),g=async R=>{try{await tV(gE(Qu,"books",R)),alert("Książka została usunięta."),e(N=>N.filter(O=>O.id!==R))}catch(N){console.error("Błąd przy usuwaniu książki:",N),alert("Wystąpił błąd podczas usuwania.")}},p=async(R,N)=>{try{const O=gE(Qu,"books",R);await eV(O,N),alert("Książka została zaktualizowana."),e(E=>E.map(v=>v.id===R?{...v,...N}:v)),l(null)}catch(O){console.error("Błąd podczas aktualizacji książki:",O),alert("Wystąpił błąd podczas aktualizacji książki.")}};return F.jsxs(F.Fragment,{children:[F.jsxs("h1",{className:"header",children:["Słowo",F.jsx("img",{src:"books.jpg",alt:"Quill",className:"icon"})]}),F.jsx("nav",{className:"nav",children:F.jsx(zp,{})}),F.jsx("main",{children:F.jsxs("div",{className:"searching",children:[F.jsx(sL,{filters:u,updateFilter:f,authors:n,user:i}),F.jsx(aL,{books:m,currentUserId:i==null?void 0:i.email,onEdit:R=>l(R),onDelete:g}),s&&F.jsx(Sw,{bookToEdit:s,onUpdateBook:p,onCancelEdit:()=>l(null)})]})})]})}function lL(){return F.jsxs(F.Fragment,{children:[F.jsxs("h1",{className:"header",children:["Słowo",F.jsx("img",{src:"books.jpg",alt:"Quill",className:"icon"})]}),F.jsx("nav",{className:"nav",children:F.jsx(zp,{})}),F.jsx("div",{className:"form",children:F.jsx(Sw,{})})]})}const uL=HD([{path:"/",element:F.jsx(iL,{}),children:[{index:!0,element:F.jsx(oL,{})},{path:"new",element:F.jsx(lL,{})},{path:"login",element:F.jsx(rL,{})}]}]);LC.createRoot(document.getElementById("root")).render(F.jsx(rR.StrictMode,{children:F.jsx(e2,{router:uL})}));
